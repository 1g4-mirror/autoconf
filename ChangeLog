2000-07-10  Akim Demaille  <akim@epita.fr>

	* autoreconf.sh (force): Instead of yes/no, use :/false.
	Adjust the code.
	(automake_deps, automake_force): No longer used.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_DIRNAME): Use an `expr' solution instead of
	echo|sed.
	From Paul Eggert.
	* doc/autoconf.texi (Limitations of Usual Tools): Include the
	words from Paul about `|' with expr(1).

2000-07-10  Akim Demaille  <akim@epita.fr>

	* aclang.m4: Promote s,,, over s%%%, and `sed prog' over `sed -e
	prog'.
	* acgeneral.m4: Likewise.
	* acspecific.m4: Likewise.
	* doc/autoconf.texi (Limitations of Usual Tools, Coding Style):
	Likewise.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* autoconf.sh: When using `mktemp -d', be sure that the directory
	was created.
	* autoheader.sh: Likewise.
	* autoreconf.sh: Likewise.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* AUTHORS: Update.
	* doc/autoconf.texi: Free Franc,ois Pinard from iftex and ifinfo,
	use @,c.
	Don't use `@code{m4}' when you mean M4, just as you shall not say
	`@code{cc}' when you refer to the C language.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* aclang.m4 (AC_LANG(C), AC_LANG(C++), AC_LANG(Fortran 77)): Set
	ac_gnu_compiler.
	(_AC_PROG_CC_GNU, _AC_PROG_CXX_GNU, _AC_PROG_F77_GNU): Compute
	ac_gnu_compiler.
	* acgeneral.m4 (AC_LINKER_OPTION): Adjust.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* aclang.m4 (AC_PROG_CC, AC_PROG_CXX, AC_PROG_F77): Move the code
	processing the result of AC_PROG_CC_G, AC_PROG_CXX_G, and
	AC_PROG_F77_G into them.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Multiple Cases, Quotation Rule Of Thumb):
	Follow the coding style.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Obsoleting Macros): Is not a subsection of
	`Dependencies Between Macros', but rather a section of `Writing
	Macros'.

2000-07-10  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Coding Style): New node.

2000-07-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_SHELL_MKDIR_P): s/ac_dir/ac_mkdir_dir/ to avoid
	clashes with the numerous ac_dir loops.
	Reported by Lars J. Aas.

2000-07-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_SHELL_DIRNAME): Return `.', not `' when there
	is no directory part.

2000-07-07  François Pinard  <pinard@iro.umontreal.ca>

	* tests/atgeneral.m4 (AT_CHECK): Fix a redirection problem.

2000-07-07  Akim Demaille  <akim@epita.fr>

	AC_REVISION must not AC_REQUIRE AC_INIT, it leaves the diversions
	in a messy state.  Don't even try to emulate AC_REQUIRE: just
	introduce a diversion just for AC_REVISION, and let the magic
	happen.
	Fixes Autoconf PR/134, from Raja R Harinath.

	* acgeneral.m4 (_AC_DIVERT(REVISION)): New diversion.
	(AC_REVISION): Don't require AC_INIT, dump in your diversion.
	(_AC_INIT): Delete, inline its body in...
	(AC_INIT): here.
	(_AC_INIT_NOTICE, _AC_INIT_COPYRIGHT): New macros so that...
	(AC_INIT): be more uniform.
	(AC_INIT, AC_REVISION, AC_COPYRIGHT): `define', don't AC_DEFUN.

2000-07-07  Martin Wilck <martin@tropos.de>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): Keep -lm, if a Fortran
	compiler needs it, it is likely to be required when linking C/C++
	with Fortran.
	<-YP,*>: Fix the list of arguments to loop on.
	Don't mess with the user variable name space.
	<ac_ld_run_path>: Prepend LD_RUN_PATH directories with -R only
	when running Solaris (without this, link errors occur).

2000-07-06  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_SHELL_DIRNAME): Fix quotation.

2000-07-06  Akim Demaille  <akim@epita.fr>

	* aclang.m4: Formatting and quotations changes.

2000-07-06  Raja R Harinath  <harinath@cs.umn.edu>

	* aclang.m4 (AC_LANG_INT_SAVE(C++)): Be a copy of
	AC_LANG_INT_SAVE(C), not AC_LANG_INT_SAVE_TRY(C).
	Fixes Autoconf PR/133.

2000-07-06  Mo DeJong  <mdejong@cygnus.com>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS, AC_CHECK_TOOLS): Change
	warning message printed when only --host is given. Fix printing
	of multiple compiler cache values, use PATH argument.
	* aclang.m4 (AC_LANG_COMPILER_WORKS): Print the cross compile
	status, fix problem where two results were printed at once.

2000-07-06  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_SHELL_TMPDIR): Typo.

2000-07-06  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* acgeneral.m4 (_AC_SHELL_DIRNAME): Behave properly when the
	argument has trailing slashes, and when its depth is just one
	(`/tmp').

2000-07-06  Lars J. Aas  <larsa@sim.no>

	* acgeneral.m4 (_AC_SHELL_DIRNAME): New macro.
	(_AC_OUTPUT_FILES, _AC_OUTPUT_HEADERS, _AC_OUTPUT_LINKS):
	Use _AC_SHELL_DIRNAME.

2000-07-06 Martin Wilck <martin@tropos.de>

	* aclang.m4 (AC_PROG_F77): Add two compilers,
	lf95 (Lahey/Fujitsu Fortran) and pgf77 (Portland Group Fortran)
	(_AC_PROG_F77_G): Some Fortran compilers produce stdout/stderr
	output even if no errors occur - check exit status rather than
	output.

2000-07-05  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_SHELL_TMPDIR): When using `mktemp -d', be sure
	that the directory was created: under Ultrix 4.3 it just returns
	a name, but does not create the directory.
	Reported by Christian Krackowizer.

2000-07-03  Lars J. Aas  <larsa@sim.no>

	* acgeneral.m4 (AC_SHELL_MKDIR_P): New macro.
	(_AC_OUTPUT_FILES, _AC_OUTPUT_HEADERS, _AC_OUTPUT_LINKS,
	AC_PROG_INSTALL): Use AC_SHELL_MKDIR_P.
	* tests/base.m4 (AC_SHELL_MKDIR_P): Test it.

2000-07-04  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CACHE_LOAD): Be ready to read the cache even
	when `.' is not in the PATH.
	* doc/install.texi (configure Invocation): Adjust.

2000-06-30  Jim Meyering  <meyering@lucent.com>

	* acgeneral.m4 (AC_REQUIRE): Tweak a diagnostic.

2000-06-30  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	Re-enable the old behavior of --host and --build.

	* acgeneral.m4 (build_alias): Set to host_alias if --build is not
	given but --host is, and enable cross-compile auto-detection.  If
	both are, and are different, enable cross compilation.
	(AC_CANONICAL_HOST): Adjust help message.
	(cross_compiling): Enclose in quotes when testing.
	* aclang.m4 (_AC_LANG_COMPILER_WORKS): If cross_compiling is
	maybe, set it to yes or no depending on the result of the
	execution test.
	* doc/autoconf.texi: Document the change.
	* doc/install.texi: Likewise.

2000-06-27  Jim Meyering  <meyering@lucent.com>

	* acspecific.m4 (_AC_LIBOBJ_GETLOADAVG): Put quotes around use of
	`$ac_cv_lib_elf_elf_begin', since that variable may not be defined.
	From Volker Borchert.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi: Fix various typos.
	(Limitations of Usual Tools) <sed>: Anchors and groups.
	(Language Choice): Don't mention cross_compiling here, do it...
	(Specifying Names) <--host>: here.
	(Obsoleting Macros): Don't document AC_DEFUNCT, it's going to be
	removed anyway, obsoleted itself by AU_DEFUN.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CACHE_VAL): Swap the arguments of `regexp'.
	Reported by Alexandre Oliva.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* autoreconf.sh (automake, aclocal): New variables.  Import
	$AUTOMAKE and $ACLOCAL.
	Pass --verbose to the tools.
	Avoid using plenty of variables, just append to existing
	variables.
	* doc/autoconf.texi: List options in the order --help, --version,
	--verbose, --debug, and then specific options.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi: Various Texinfo adjustments.
	(Specifying Names): When describing the system triplets, use the
	same names as the shell variables.
	(System Type Variables): Delete, merge its content into...
	(Canonicalizing): here.
	Clarify the difference between the `foo_target' and `foo'
	variables.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS, _AC_OUTPUT_CONFIG_STATUS):
	s/echo | sed/expr/.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CONFIG_LINKS, AC_CONFIG_HEADERS,
	AC_CONFIG_COMMANDS, AC_CONFIG_FILES): Use a shell variable instead
	of an m4 variable to store what must be done, so that sh
	conditionals are honored.
	(_AC_OUTPUT_LINKS, _AC_OUTPUT_HEADERS,
	_AC_OUTPUT_COMMANDS, _AC_OUTPUT_FILES): Adjust.
	* tests/semantics.m4: Test the four AC_CONFIG sisters.
	* doc/autoconf.texi (Configuration Actions): Promote the use of
	literals, show it works properly with sh conditionals.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CACHE_VAL): Too many people put AC_DEFINE in
	the commands-to-set-it part of it.  Give them a warning.

2000-06-26  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Prerequisite Macros): More about AC_REQUIRE.

2000-06-26  Akim Demaille  <akim@epita.fr>

	Given better names to the diversions.

	* acgeneral.m4 (_AC_DIVERT(NORMAL_2), _AC_DIVERT(NORMAL_3),
	_AC_DIVERT(NORMAL_4)): Delete, unused.
	(_AC_DIVERT(NORMAL_1), _AC_DIVERT(NORMAL), AC_DIVERT_DIVERSION):
	Rename as _AC_DIVERT(PREPARE), _AC_DIVERT(BODY),
	_AC_DIVERT_DIVERSION.

2000-06-26  Akim Demaille  <akim@epita.fr>

	The current implementation of AC_REQUIRE fails on

	| AC_DEFUN([TEST1],  [REQUIRE([TEST2a])REQUIRE([TEST2b])])
	| AC_DEFUN([TEST2a], [])
	| AC_DEFUN([TEST2b], [REQUIRE([TEST3])])
	| AC_DEFUN([TEST3],  [REQUIRE([TEST2a])])
	|
	| AC_INIT
	| TEST1

	because it produces TEST3; TEST2a; TEST2b; TEST1.
	Fix this bug, implement the solution provided by Axel Thimm,
	and test AC_REQUIRE.

	* acgeneral.m4: Document this implementation.
	(_AC_DEFUN_PRO, _AC_DEFUN_EPI, AC_REQUIRE): Be sure that macros
	are emitted in the same order as they are expanded.
	(AC_REQUIRE): Forbid being calling out of an AC_DEFUN'd	macro (in
	particular the top level).
	* tests/base.m4 (AC_REQUIRE): New test.

2000-06-26  Akim Demaille  <akim@epita.fr>

	A macro which is not defined with AC_DEFUN should not be
	AC_REQUIRE'd, since it doesn't AC_PROVIDE itself.

	* acgeneral.m4 (AC_REQUIRE): Issue a warning when after expansion,
	the macro is not AC_PROVIDE'd.

2000-06-26  Akim Demaille  <akim@epita.fr>

	Various cleanups.

	* acgeneral.m4 (AC_PRO, AC_EPI): Rename as _AC_DEFUN_PRO and
	_AC_DEFUN_EPI.
	Adjust dependencies.
	(AC_DEFUN): Remove the not-to-be-released specializing mechanism.
	(AC_SPECIALIZE): Remove for the same reasons.
	Adjust dependencies.
	(_AC_INIT_DEFAULTS, _AC_INIT_PARSE_ARGS, _AC_INIT_VERSION,
	_AC_INIT_PREPARE, _AC_CANONICAL_SPLIT, _AC_CHECK_TYPE_NEW,
	_AC_CHECK_TYPE_OLD): Define via `define' instead of `AC_DEFUN':
	they are not related to AC_REQUIRE in any way.
	* acspecific.m4 (AC_PROG_ECHO, _AC_DECL_YYTEXT, _AC_PATH_X_XMKMF,
	_AC_PATH_X_DIRECT): Define via `define' instead of `AC_DEFUN'.

2000-06-19  Steven G. Johnson  <stevenj@gil-galad.mit.edu>

	* acgeneral.m4 (AC_CHECK_TOOL): Use two variables in order to
	avoid cache variable conflicts between AC_CHECK_PROG invocations.
	(AC_PATH_TOOL): Fix same bugs as in 6/9/00 fixes to AC_CHECK_TOOL.
	Pass correct arguments to AC_CHECK_PATH (different from
	AC_CHECK_PROG).  Use AC_CHECK_PATH cache variable, not
	AC_CHECK_PROG var, and use two variables for two invocations as
	above.  Quote AC_CHECK_* args.

2000-06-16  Akim Demaille  <akim@epita.fr>

	The test suite reveals AC_OUTPUT_MAKE_DEFS fails on RISC/OS.

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS) <confdef2opt.sed>: Reset the
	t flag between each cycle.
	* doc/autoconf.texi (Limitations of Usual Tools): Some about the t
	flag in sed.

2000-06-16  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_EXEEXT, AC_OBJEXT): Don't obsolete them, let
	them be empty, so that Automake still provide support for $(EXEEXT).

2000-06-15  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (option handling): Give a more understandable
	message when an option is missing its argument.
	* autoreconf.sh: Likewise.
	* autoupdate.sh: Likewise.
	* autoheader.sh: Likewise.

2000-06-13  Akim Demaille  <akim@epita.fr>

	`./config.status -d' is buggy.

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): Remove the `shift' in
	--debug.
	* doc/autoconf.texi (Limitations of Builtins): Some about shift.

2000-06-13  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Caching Results): Bigger warning about the
	extremely frequent action-in-commands bug.
	Move the documentation of AC_CACHE_SAVE and AC_CACHE_LOAD...
	(Cache Files): into here.

2000-06-09  Steven G. Johnson  <stevenj@alum.mit.edu>

	* acgeneral.m4 (AC_CHECK_TOOL): Even if VALUE-IF-NOT-FOUND is not
	specified, we should still check whether PROG-TO-CHECK-FOR
	actually works before returning it when the prefixed program is
	not found. Also, fixed a bug where it failed to pass the PATH
	argument in the second call to AC_CHECK_PROG.

2000-06-09  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_TOOLS): Rewrite.

2000-06-09  Paul Eggert  <eggert@twinsun.com>

	* doc/autoconf.texi: Use `@option' for options, not `@samp' nor
	`@code'.
	* doc/install.texi: Likewise.

2000-06-09  Akim Demaille  <akim@epita.fr>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): Don't require AC_CYGWIN.
	(AC_F77_NAME_MANGLING): Removed useless comment.
	(_AC_PROG_F77_GNU): Use `.f' not `.fpp' which is not properly
	processed by Abysoft's Fortran compiler.

2000-06-09  Steven G. Johnson  <stevenj@superjdj.mit.edu>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): Fixed bug where
	compiler output to stdout was not caught and interpreted.

2000-06-09  Akim Demaille  <akim@epita.fr>

	`autoconf --trace' dies on filenames with `:'.
	Reported by Mark Elbrecht.

	* autoconf.sh <trace> (trace2m4.sed): Use `..*' instead of
	`[^:][^:]*' to catch file names.  The rest of regex is probably
	precise enough to avoid incorrect parsing.

2000-06-09  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (_AC_SYS_LARGEFILE_MACRO_VALUE): Always initialize
	$3 to no.

2000-06-08  Paul Eggert  <eggert@twinsun.com>

	Import AC_SYS_LARGEFILE from largefile.m4 serial 12.

	* acspecific.m4 (AC_SYS_LARGEFILE, _AC_SYS_LARGEFILE_MACRO_VALUE,
	_AC_SYS_LARGEFILE_SOURCE): New.
	* doc/autoconf.texi (System Services): Document AC_SYS_LARGEFILE.

2000-06-08  Steven G. Johnson  <stevenj@alum.mit.edu>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): Don't override FLIBS if
	specified by the user.
	Fix a bug: use the cached value to set FLIBS.

2000-06-07  Dave Love  <fx@gnu.org>

	* aclang.m4 (AC_PROG_F77): Check for f95 and fc too.

2000-06-07  Philippe De Muyter  <phdm@macqel.be>

	`foo=1 foo=2 cmd' has an undefined behavior.

	* acgeneral.m4 (_AC_COMPUTE_INT_COMPILE): Do not put two shell
	variable assignments in one shell command.
	* doc/autoconf.texi (Shell Substitutions): Document.

2000-06-07  Steven G. Johnson  <stevenj@alum.mit.edu>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): Fix problem on Cray due to
	confusion from the link command getting echoed in quotes.  In the
	future, a more general fix for quoted arguments with spaces might
	be better.

2000-06-07  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Limitations of Builtins): More on `test' and
	`case'.
	Some on `if' and `break'.

2000-06-07  Morten Eriksen  <mortene@sim.no>

	* acspecific.m4 (_AC_PATH_X_DIRECT): Include `X11/Intrinsic.h'
	when trying to use `XtMalloc' to actually have a chance of
	succeeding.

2000-06-07  Akim Demaille  <akim@epita.fr>

	Hard (code) X.

	* acspecific.m4 (_AC_PATH_X_DIRECT): Hard code `X11/Intrinsic.h'
	instead of using `ac_x_direct_test_include', likewise for `Xt' and
	`ac_x_direct_test_lib', `XtMalloc' and
	`ac_x_direct_test_function'.

2000-06-07  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_PATH_X): Use AC_DIVERT.
	Use `no', not `NO' for ac_x_includes and ac_x_libraries.
	Adjust dependencies.
	(_AC_PATH_X_DIRECT): Introduce ac_x_header_dirs to factor the list
	of places where headers and libs might be.
	(AC_PATH_XTRA): Don't quote the argument of `case'.

2000-06-07  Jim Meyering  <meyering@lucent.com>

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): Put the expansion of
	AC_LIST_LINKS in an unquoted `here'-document.

2000-06-06  Akim Demaille  <akim@epita.fr>

	* tests/aclocal.m4 (AC_ENV_SAVE): Skip `no_x'.
	From Mark Elbrecht.

2000-06-05  Mo DeJong  <mdejong@cygnus.com>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Move the setting
	of ac_tool_prefix before the call to AC_DIVERT_POP.

2000-06-05  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_TOOL_PREFIX): AU define it.
	Suggested by Mo DeJong.

2000-06-05  Steven G. Johnson  <stevenj@alum.mit.edu>

	* aclang.m4 (AC_C_CHAR_UNSIGNED): Use the new compiler-test
	technology so that we can do the test via compilations only.  Also
	use (char) -1 instead of (char) 255 to check if char is unsigned.

2000-05-28  Jim Meyering  <meyering@lucent.com>

	* acspecific.m4 (AC_FUNC_STRERROR_R): Call strerror_r with 2nd arg
	of type char*, not int.  Suggestion from Paul Eggert.

	* doc/autoconf.texi (Particular Functions): Give better description of
	AC_FUNC_LSTAT_FOLLOWS_SLASHED_SYMLINK.  From Paul Eggert.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Limitations of Usual Tools): Document `ln -s'
	on DJGPP, based on the comments from Mark Elbrecht.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* autoreconf.sh (autoconf, autoheader): Be more conscientious when
	looking for the executable.
	* autoupdate.sh: Likewise.
	* autoheader.sh: Likewise.
	Suggested by Alexandre Oliva.

2000-05-26  Akim Demaille  <akim@epita.fr>

	Thanks to --program-transform-name, `autoconf' might be install as
	`yo-man-i-am-the-all-mighty-AVt0c0nF-eh-eh'.  But when
	`yo-man-i-am-the-all-mighty-AVt0h3Ad3R-eh-eh' and the other tools
	want to trace, they might stupidly invoke the program named
	`autoconf' instead.  Pfff, stupid scripts :)

	* Makefile.am (editsh): Transfer the names of the install
	`autoconf' and `autoheader'.
	* autoconf.sh: Add a missing period at the end of the comment
	# Parse command line
	Make sure to have a ChangeLog much longer than the patch.
	* autoheader.sh: Use the right `autoconf'.
	* autoupdate.sh: Likewise.
	* autoreconf.sh: Likewise, and for `autoheader' too.
	Simplify the handling of localdir and AC_MACRODIR.
	* ifnames.sh: Formatting changes.

2000-05-25  Steven G. Johnson <stevenj@alum.mit.edu>

	Don't use f2c as a possible Fortran compiler, since by itself it
	cannot produce object code.

	* aclang.m4 (AC_PROG_F77): Remove f2c from the search list.
	* doc/autoconf.texi: Excise mentions of f2c in AC_PROG_F77 docs.

2000-05-26 Mark Elbrecht <snowball3@bigfoot.com>

	Currently, AC_PROG_LN_S incorrectly reports yes with DJGPP. This
	is because the DJGPP `ln' emulates soft links for executables by
	generating a stub that in turn calls the real program.  This
	feature also works with nonexistent files like in the Unix
	spec. So `ln -s X conftestdata' will generate `conftestdata.exe'
	which will attempt to call 'X.exe'. But this feature only works
	for executables.  Fix it.

	* acspecific.m4 (AC_PROG_LN_S): Create a sample file and use it to
	test `ln -s'.

2000-05-26  Ossama Othman <ossama@ece.uci.edu>

	* aclang.m4 (AC_PROG_CXX): Look for aCC before CC.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_FUNC_STRERROR_R): New, from `strerror_r.m4',
	serial 2, by Jim Meyering.
	(AC_FUNC_LSTAT_FOLLOWS_SLASHED_SYMLINK): New, from
	`lstat-slash.m4', serial 1, by Jim Meyering.
	* acfunctions: Adjust.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_TOOLS): Don't require
	AC_CHECK_TOOL_PREFIX, it's dead.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Simplify all the
	case "$switch" in
	into
	case $switch in
	* acspecific.m4: Likewise.
	* aclang.m4: Likewise.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_TOOL_PREFIX): Remove.
	Adjust dependencies.
	(_AC_INIT_PARSE_ARGS): Set ac_tool_prefix.

2000-05-26  Akim Demaille  <akim@epita.fr>

	In `info', it is easier to type `autoconf <TAB>' to reach the list
	of options, that `Invoking autoc<TAB>'.

	* doc/autoconf.texi: s/Invoking foo/foo Invocation/.

2000-05-26  Akim Demaille  <akim@epita.fr>

	Merge `Upgrading' and `Obsolete Constructs' together.

	* doc/autoconf.texi (Obsolete Constructs): Move right after
	`Recreation a Configuration.
	(Invoking autoupdate): Be a subsection of
	`Obsolete Constructs'.
	(Upgrading): Demote from chapter to section.
	Be a section of `Obsolete Constructs'.
	Rename as `Autoconf 1'.

2000-05-26  Akim Demaille  <akim@epita.fr>

	Find a means to extract integers from the compiler.
	Use this technology to compute `sizeof' even when cross-compiling.
	Ideas and initial suggestion by Kaveh Ghazi.
	Binary search by Bruno Haible.

	* aclang.m4 (AC_LANG_BOOL_COMPILE_TRY,
	AC_LANG_BOOL_COMPILE_TRY(C), AC_LANG_BOOL_COMPILE_TRY(C++),
	AC_LANG_INT_SAVE, AC_LANG_INT_SAVE(C), AC_LANG_INT_SAVE(C++)): New
	macros.
	* acgeneral.m4 (_AC_COMPUTE_INT_COMPILE, _AC_COMPUTE_INT_RUN,
	_AC_COMPUTE_INT): New.
	(AC_CHECK_SIZEOF): Use them.
	Check whether the type exists beforehand.
	* tests/semantics.m4 (AC_CHECK_SIZEOF): Strengthen.

2000-05-26  Ossama Othman <ossama@ece.uci.edu>

	* aclang.m4 (AC_PROG_CXX): Look for aCC KCC RCC xlC_r xlC.
	s/c++ g++/g++ c++/.
	* doc/autoconf.texi (Compilers and Preprocessors): Adjust.

2000-05-26  Akim Demaille  <akim@epita.fr>

	No library nor special privilege is needed to run `getloadavg'
	under FreeBSD.
	Reported by Alec Wolman.

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Check for `getloadavg'
	without any additional library.
	Fixes Autoconf/109.

2000-05-26  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Limitations of Usual Tools, Limitations of
	Builtins): Integrate comments from Paul Eggert and Jim Meyering.
	Add the sed limitation discovered by Philippe De Muyter.
	Fix a typo spotted by Pavel Roskin.

2000-05-25  Akim Demaille  <akim@epita.fr>

	The test suite needs GNU m4.
	Reported by Bob Friesenhahn.

	* tests/atconfig.in (M4): Set it.
	* tests/base.m4: Use it.

2000-05-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Don't use negated character
	classes with `case'.  Use `expr' instead.
	Suggested by Paul Eggert.
	* doc/autoconf.texi (Limitations of Builtins): Explain expr, the
	`x' trick, and negated character classes.

2000-05-24  Didier Verna  <didier@lrde.epita.fr>

	* acgeneral.m4 (AC_INIT): Call _AC_PACKAGE before _AC_INIT.

2000-05-24  Ossama Othman  <ossama@debian.org>

	* aclang.m4 (AC_LANG(C++)): Change `ac_ext' from from `C' to `cc'
	to avoid potential ambiguities on case-insensitive shells.

2000-05-24  Mo DeJong  <mdejong@cygnus.com>

	Have --host=sun4 automatically look for CC=sun4-cc etc.

	* acgeneral.m4 (AC_CHECK_TOOLS): New.
	* aclang.m4 (AC_PROG_CXX, AC_PROG_CC, AC_PROG_F77): Use new
	AC_CHECK_TOOLS macro instead of AC_CHECK_PROGS so that a cross
	compiler is found by default with --host.
	* doc/autoconf.texi (Generic Programs, Manual Configuration):
	Describe new AC_CHECK_TOOLS macro. Fix unclear working about
	AC_CHECK_PROGS.
	* tests/Makefile.am (FILTER_MACROS): Adjust.

2000-05-24  Akim Demaille  <akim@epita.fr>

	The night of the living dead...

	* acspecific.m4 (AC_XENIX_DIR, AC_DYNIX_SEQ, AC_IRIX_SUN,
	AC_SCO_INTL): Wake up a few zombies.
	* doc/autoconf.texi: Adjust.
	* tests/aclocal.m4 (AC_ENV_SAVE): Likewise.

2000-05-24  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_LANG_FUNC_LINK_TRY, AC_LANG_FUNC_LINK_TRY(C),
	AC_LANG_FUNC_LINK_TRY(C++)): New macros.
	(AC_CHECK_FUNC): Use it, together with AC_LINK_ELSE.

2000-05-24  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_FUNC_VFORK): Quote properly.
	(AC_FUNC_STRFTIME, AC_FUNC_VFORK, AC_FUNC_VPRINTF): Don't use
	AC_DEFINE, just use the AC_CHECK_*S macro.

2000-05-24  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_WHICH_A): Replace it with...
	(AC_SHELL_PATH_WALK): this.
	(AC_CHECK_PROG, AC_PATH_PROG): Use it.

2000-05-24  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Limitations of Builtins): Document `unset'.
	(Special Shell Variables): Adjust.
	(Shellology): New section.  Introduce bash and zsh.
	(Special Shell Variables): Some data on NULLCMD.
	(Quotation Thumb Rule): Rename as
	(Quotation Rule of Thumb): this.
	* acgeneral.m4 (AC_SHELL_UNSET): Remove.
	(AC_SHELL_UNSETENV): Rename as...
	(AC_SHELL_UNSET): this.
	(_AC_INIT_PREPARE_ENVIRONMENT): Prepare bash and zsh.
	Adjust to AC_SHELL_UNSET.

2000-05-24  Akim Demaille  <akim@epita.fr>

	The options --build etc. used to set `$build'.  *If*
	AC_CANONICAL_SYSTEM was run, then the value of `$build' given by
	the user was saved into `$build_alias', and `$build' was
	normalized using `config.sub'.

	Now, let `--build' set `$build_alias' so that scripts with or
	without `AC_CANONICAL_BUILD' have the same semantics.  This allows
	to use `AC_CHECK_TOOL' without requiring `config.guess' and
	`config.sub' (which was bizarre anyway).

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): --build, --host and --target
	set `build_alias' etc.
	After the option handling, set host to $host_alias etc. for
	bugward compatibility.
	(AC_CANONICALIZE): Mutate into...
	(_AC_CANONICAL_SPLIT): this, which does not canonicalize, it just
	computes `$foo_os' etc.
	(_AC_CANONICAL_THING): Remove, too confusing.
	(AC_CANONICAL_BUILD): Adjust.
	Do not assign any value to `build_alias', just compute `build', and
	`build_{cpy, vendor, os}'.
	(AC_CANONICAL_HOST, AC_CANONICAL_TARGET): Likewise.
	(AC_CHECK_TOOL_PREFIX): Fire your rule when `$host_alias' is
	given, not when `$host != $build'.

	* acgeneral.m4 (sinclude): Fix typo.

2000-05-23  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Limitations of Builtins): More details on
	`test -n ='.

2000-05-23  Akim Demaille  <akim@epita.fr>

	Simplify the interface: users shouldn't need to explicitly check
	for special environments.

	* acspecific.m4 (AC_EXEEXT, AC_OBJEXT): AU defined to
	nothing.  Replace them by...
	(_AC_EXEEXT, _AC_OBJEXT): this.
	* aclang.m4 (AC_PROG_CC, AC_PROG_CXX, AC_PROG_F77): Call them.
	(AC_PROG_CC_G, AC_PROG_CXX_G, AC_PROG_F77_G): Rename as...
	(_AC_PROG_CC_G, _AC_PROG_CXX_G, _AC_PROG_F77_G): this.
	Adjust dependencies.
	* tests/Makefile.am (FILTER_MACROS): Adjust.
	* doc/autoconf.texi (Compilers and Preprocessors): New section,
	move the documentation of AC_PROG_CC, AC_PROG_CC_C_O,
	AC_PROG_CC_STDC, AC_PROG_CPP, AC_PROG_CXX, AC_PROG_CXXCPP,
	AC_PROG_F77, AC_PROG_F77_C_O, AC_PROG_GCC_TRADITIONAL here.
	Factor the comment documentation of AC_PROG_CC, AC_PROG_CXX,
	AC_PROG_F77.

2000-05-23  Akim Demaille  <akim@epita.fr>

	Modernize AC_EXEEXT and AC_OBJEXT.
	Now work with other languages than C and C++.

	* acspecific.m4 (AC_EXEEXT, AC_OBJEXT): Use
	AC_COMPILE_IFELSE/AC_LINK_IFELSE and AC_LANG_PROGRAM instead of
	ad hoc code.
	Use `$ac_ext' instead of listing `.c', `.C' etc.
	Use AC_CACHE_CHECK.
	* doc/autoconf.texi (System Services): Adjust.

2000-05-23  Akim Demaille  <akim@epita.fr>

	Simplify the interface: users shouldn't need to explicitly check
	for special environments.

	* acspecific.m4	(AC_CYGWIN, AC_EMXOS2, AC_MINGW32): AU defined to
	nothing.  Replace them by...
	(_AC_CYGWIN, _AC_EMXOS2, _AC_MINGW32): these, which are
	automatically called by...
	(AC_EXEEXT): this.
	* doc/autoconf.texi (System Services, Obsolete Macros): Adjust.

2000-05-23  Akim Demaille  <akim@epita.fr>

	AC_PROG_GNU_M4 should actually be private to the package
	Autoconf.

	* acspecific.m4 (AC_PROG_GNU_M4): Move to...
	* m4/m4.m4: here.
	* m4/Makefile.am (EXTRA_DIST): Adjust.
	* doc/autoconf.texi (Particular Programs): Adjust.

2000-05-23  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Exiting from Shell Scripts): Move contents
	into...
	(Limitations of Builtins): this new node.
	Document limitations of `exit', `export' and `case'.
	Welcome the documentation of `test' from...
	(Limitations of Usual Tools): here.

2000-05-22  Akim Demaille  <akim@epita.fr>

	Load the additions *before* running AC_INIT.
	This is important if you want to redefine AC_INIT or some of its
	sub macros (eeerk!), or if you want to use user defined macros
	before AC_INIT.
	Suggested by Didier Verna.

	* acgeneral.m4 (_AC_INIT): Don't include `acsite.m4' and
	`aclocal.m4'.
	* autoconf.sh (run_m4, run_m4f): Do it.

2000-05-22  Akim Demaille  <akim@epita.fr>

	Reading the ChangeLog revealed that the recent update of
	AC_FUNC_GETLOADAVG introduced a bug which already happened (see
	Mon Nov 11 18:02:58 1996  David J MacKenzie).

	* acgeneral.m4 (AC_CHECK_LIB): Use a less tempting name:
	s/ac_save_LIBS/ac_check_lib_save_LIBS/.

2000-05-22  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (_AC_LIBOBJ_ALLOCA): New macro, extracted from...
	(AC_FUNC_ALLOCA): here.  Adjust.

2000-05-22  Akim Demaille  <akim@epita.fr>

	Add `configure --config-cache', `-C' as a shortcut for
	`--cache-file=config.cache'.

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Let `configure' support
	`--config-cache' and `-C'.
	Report them in `--help'.
	Fix the display of missing argument.
	(_AC_OUTPUT_SUBDIRS): Adjust.
	* doc/install.texi (Invoking configure): Rename the node as
	(Running configure scripts): this, the name of the chapter.
	(Operation Controls): Rename as...
	(Invoking configure): this.
	Document the new options.
	* doc/autoconf.texi (direntry): Huh?  What is this `aclocal' doing
	here?  Point to `Invoking configure'.
	(Cache Files): No need to document the disabling of the cache.

2000-05-22 Mark Elbrecht <snowball3@bigfoot.com>,  Eli Zaretskii <eliz@gnu.org>

	More MS-DOS support.

	* acgeneral.m4 (_AC_OUTPUT_FILES): Fix the computation of
	`ac_file_inputs' for `$ac_given_srcdir' containing a colon.
	(AC_CHECK_MEMBERS, AC_PATH_PROG): s/ac_save_ifs/ac_save_IFS/.

2000-05-22  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_FUNC_CHOWN): New macro, based on Jim
	Meyering's `chown.m4' serial 4.
	(AC_FUNC_GETGROUPS): New macro, based on Jim Meyering's
	`getgroups.m4' serial 3.
	(AC_FUNC_MEMCMP): Updated, based on Jim Meyering's `memcmp.m4'
	serial 3.
	(AC_FUNC_MALLOC): New macro, based on Jim Meyering's
	`malloc.m4' serial 3.
	(AC_FUNC_MMAP): Include `stdlib.h' when `STDC_HEADERS'.
	* acfunctions: Sort.
	Add `chown' and `malloc', point `getgroups' to `AC_FUNC_GETGROUPS'
	instead of `AC_TYPE_GETGROUPS'.
	* doc/autoconf.texi (Particular Functions): Adjust.

2000-05-22  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Quote the names being m4-defined.
	* acspecific.m4: Likewise.
	* aclang.m4: Likewise.

2000-05-22  Akim Demaille  <akim@epita.fr>

	Factor the AC_PROG_<compiler>_WORKS macros.

	* acgeneral.m4 (_AC_INIT_DEFAULTS): Set `cross_compiling'.
	(AC_TRY_COMPILER): Remove.
	* aclang.m4 (AC_PROG_CC_WORKS, AC_PROG_CXX_WORKS,
	AC_PROG_F77_WORKS): Removed.
	(_AC_LANG_COMPILER_WORKS): New macro.
	(AC_PROG_CC, AC_PROG_CXX, AC_PROG_F77): Adjust.

2000-05-22  Akim Demaille  <akim@epita.fr>

	* aclang.m4: Formatting changes.

2000-05-22  Akim Demaille  <akim@epita.fr>

	More than one argument to `configure' builds a broken
	`config.status'.  Fix and test.

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): Use
	`$ac_configure_args' directly, not via a tmp variable.
	* tests/torture.m4 (command line interface): Test with more than
	one argument.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_MSG_WARN): s/warning/WARNING/.
	* autoheader.sh: Likewise.
	From François Pinard.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PACKAGE): Rename as _AC_INIT_PACKAGE.
	(AC_INIT): Dispatch arguments either to _AC_INIT_PACKAGE or
	to AC_CONFIG_SRCDIR.
	(AU::AC_INIT): New.
	* configure.in: Adjust.
	Use `#', not `dnl'.
	* doc/autoconf.texi (configure.in Layout): Document the new form
	of AC_INIT.
	Document AC_CONFIG_SRCDIR.
	(Obsolete Macros): Document the old one.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Simplify all the unjustified `[\$]foo' into
	`\$foo', the quotes are needed only for `\$[1]', `\$[@]' etc.
	Prefer `$$1' to `[$]$1', `$foo' to `[$]foo', `$[1]' to `[$]1' etc.
	* aclang.m4: Likewise.
	* acspecific.m4: Likewise.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_TRY_COMPILER): Fix quotation.

2000-05-19  Akim Demaille  <akim@epita.fr>

	Fix Autoconf/123.

	* libm4.m4: Rename `symbols' as `m4_symbols'.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* aclang.m4 (AC_PROG_CC_GNU, AC_PROG_CXX_GNU, AC_PROG_F77_GNU):
	Rename as:
	(_AC_PROG_CC_GNU, _AC_PROG_CXX_GNU, _AC_PROG_F77_GNU): these.
	Compute the value of GCC, GXX and G77 here.
	Set to `no' (instead of empty) if not the GNU compiler.
	(AC_PROG_CC, AC_PROG_CXX, AC_PROG_F77): Adjust.
	* doc/autoconf.texi: Adjust.

2000-05-19  Akim Demaille  <akim@epita.fr>

	Fix Autoconf/106.

	* aclang.m4 (AC_PROG_F77): Follow strictly the same scheme as
	AC_PROG_CC to compute the default FFLAGS.

2000-05-19  Akim Demaille  <akim@epita.fr>

	Either we cross-compile the whole package, or we don't.
	Using --host enables cross-compilation.

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): `--host' enables cross
	compilation.
	(AC_CANONICAL_BUILD): The help string should explicitly mention
	cross compilation.
	* aclang.m4 (AC_LANG(C), AC_LANG(C++), AC_LANG(Fortran 77)): Don't
	set `cross_compiling'.
	(AC_PROG_CC, AC_PROG_CXX, AC_PROG_F77): Run your `WORK' partner
	only if not cross-compiling.
	(AC_PROG_CC_WORKS, AC_PROG_CXX_WORKS, AC_PROG_F77_WORKS):
	If does not work, don't assume an implicit cross-compilation:
	fail.
	* doc/autoconf.texi: Adjust.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_SHELL_UNSETENV, AC_SHELL_UNSET): Add the
	missing quotes.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Prefer
	case $foo in
	*[^-a-zA-Z0-9_]*) AC_ACTION;;
	esac
	over
	if echo "$foo" | grep '[^-a-zA-Z0-9_]' >/dev/null 2>&1; then
	AC_ACTION
	fi

2000-05-19  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Testing Values and Files): Delete, move its
	content into...
	(Limitations of Usual Tools::test): here.
	Document more limitations.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (_AC_LIBOBJ_GETLOADAVG): New macro, extracted from
	(AC_FUNC_GETLOADAVG): here.
	Use it.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_SPECIALIZE): Avoid a useless `indir'.
	(AC_CHECK_MEMBER, AC_CHECK_MEMBERS): Fix to work properly on
	`struct f.g.h'.
	* acspecific.m4 (AC_FUNC_GETLOADAVG): Use AC_CHECK_HEADERS and
	AC_CHECK_MEMBERS instead of performing their task by hand.

2000-05-19  Akim Demaille  <akim@epita.fr>

	Synchronize AC_FUNC_GETLOADAVG with the version of the shellutils
	1.16f (serial 4).

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Check for
	`pstat_getdynamic'.
	Define `C_GETLOADAVG' if compiling `getloadavg.c'.
	Check for NLS.
	Compute `GETLOADAVG_LIBS'.
	(AC_FUNC_MKTIME): Remove a forgotten `AC_SUBST(LIBOBJS)'.

2000-05-19  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_SHELL_UNSET, AC_SHELL_UNSETENV): New macro.
	(_AC_INIT_PREPARE_ENVIRONMENT): Use AC_SHELL_UNSETENV.
	Set CDPATH.  Fixes Autoconf/96.

	* doc/autoconf.texi (Special Shell Variables): New node.
	Document `status', `CDPATH', `LANG', `LC_ALL', `LC_MESSAGES' and
	`LC_CTYPE'.

2000-05-12  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (sinclude): Define, some packages (binutils) need
	it.

2000-05-12  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Invoking config.status): Move the
	documentation of the envvar CONFIG_(FILES, HEADERS, COMMANDS,
	LINKS) to
	(Obsolete config.status Use): here.

2000-05-12  Paul Eggert  <eggert@twinsun.com>

	* doc/autoconf.texi (Exiting from Shell Scripts): New node.
	(Autoconf Language): Follow the advice in the new node.

2000-05-12  Peter Eisentraut  <peter_e@gmx.net>

	* doc/autoconf.texi: Fix typos.

2000-05-11  Akim Demaille  <akim@epita.fr>

	AC_CONFIG_SUBDIRS needs two lists: one, ac_subdirs_all, which
	contains all the possible subdirs for `--help=recursive', and
	another, `subdirs' which can be built dynamically for launching
	sub configurations.

	* acgeneral.m4 	(AC_CONFIG_SUBDIRS): Define `subdirs' dynamically.
	Define `ac_subdirs_all' statically.
	Warn if the argument is not a literal.
	(AC_LIST_SUBDIRS): Rename as...
	(_AC_LIST_SUBDIRS): this.
	(_AC_INIT_HELP): Loop over `ac_subdirs_all', not `subdirs'.
	(_AC_OUTPUT_SUBDIRS): Loop over `subdirs', not `AC_LIST_SUBDIRS'.
	* doc/autoconf.texi (Subdirectories): Adjust.

	* acgeneral.m4: Replace all the `test ! -d foo && bar' with
	`test -d foo || bar'.

	* Makefile.am (.m4.m4f): Stop hiding what you're doing.
	Don't check for GNU m4, let it die.

2000-05-11  Akim Demaille  <akim@epita.fr>

	The Associated Rewriters are even prouder to present...
		  .
		  |
		  |
		 /-\
		/   \
		)===(   U  T  O  U  P  D  A  T  E    I V
	       //   \\
	      =========
	    _//_     _\\_      The ``Eiffel Tower'' Release

	* autoupdate.sh: Complete rewrite.  See that file for a detailed
	explanation.  Basically, simulate the name spaces thanks to
	`autoconf --trace' and auxiliary files.
	No longer use `autoupdate.m4', remove the dependencies.
	Synchronize the options and `--help'.
	* doc/autoconf.texi (Invoking autoupdate): Humanoupdate.
	* autoupdate.m4: Delete.
	* tests/Makefile.am (FILTER_MACROS): Add `AC_OUTPUT'.
	Since `AC_OUTPUT' is now AU_DEFUN'd, it is extracted for testing,
	while it was not before.
	* tests/tools.m4 (autoupdate): Re-enable.  Adjust the expected
	output with the right quotation (yeah!).
	Pass `-m $top_srcdir': autoupdate wants the `.m4' files, not the
	frozen files.
	* Makefile.am (nodistpkgdataDATA): Move `acversion.m4' to
	(distpkgdataDATA): here, so that all the `.m4' files are in the
	source hierarchy, not split across src and build.
	* acversion.m4.in: Update to today's standards.
	* Makefile.am: Adjust.

2000-05-11  Akim Demaille  <akim@epita.fr>

	* libm4.m4: Be robust to multiple inclusion.
	Have the first `changequote' robust to the current quotation
	system.
	Always quote the first argument of `define'.

2000-05-11  Akim Demaille  <akim@epita.fr>

	The Associated Rewriters are proud to present...

	      ^
	     / \  U  T  O  U  P  D  A  T  E    I I I
	    /===\
	   /     \      It bells, It whistles...

	* autoupdate.sh: Complete rewrite.  See that file for a detailed
	explanation.
	* acgeneral.sh: Don't use AU_DEFINE, but AU_DEFUN.
	(AC_OUTPUT_COMMANDS_CNT): Renamed as...
	(_AC_OUTPUT_COMMANDS_CNT): this.

2000-05-11  Akim Demaille  <akim@epita.fr>

	Get rid of the m4 name spaces.

	* libm4.m4 (m4_changequote, m4_define, m4_defn, m4_dnl, m4_indir,
	m4_popdef, m4_pushdef, m4_undefine, m4_namespace_push,
	m4_namespace_pop, m4_namespace_register, m4_namespace_define,
	m4_disable, m4_enable):	Removed.
	All dependencies adjusted.
	* libm4.m4: Remove all the name space initialization.
	* acgeneral.m4: Adjust.
	(AU_DEFINE): Redefine as `AC_DEFUN'.
	* autoupdate.m4: Adjust.
	* tests/tools.m4: Temporarily disable the `autoupdate' test.

2000-05-11  Akim Demaille  <akim@epita.fr>

	Eradicate AC_TRY_COMPILE.

	* aclang.m4 (AC_PROG_CC_STDC, AC_C_BIGENDIAN, AC_C_INLINE,
	AC_C_CONST, AC_C_VOLATILE, AC_F77_NAME_MANGLING): Use
	`AC_COMPILE_IFELSE'.
	* acspecific.m4 (AC_DECL_SYS_SIGLIST, _AC_CHECK_HEADER_DIRENT,
	AC_HEADER_SYS_WAIT, AC_HEADER_TIME, AC_TYPE_SIGNAL,
	AC_FUNC_GETLOADAVG, AC_FUNC_SELECT_ARGTYPES, AC_STRUCT_TM,
	AC_CYGWIN, AC_MINGW32, AC_EMXOS2): Likewise.
	* tests/semantics.m4 (C keywords): Check that AC_C_CONST,
	AC_C_VOLATILE, and AC_C_INLINE function properly with GCC.

2000-05-11  Akim Demaille  <akim@epita.fr>

	Replace AC_LANG_SAVE/AC_LANG_RESTORE with AC_LANG_PUSH/AC_LANG_POP.

	* aclang.m4 (_AC_LANG_CURRENT, AC_LANG_STACK): You two are the same
	thing, which now we shall name `_AC_LANG'.
	All users adjusted.
	(AC_LANG_PUSH, AC_LANG_POP): New macros.
	(AC_LANG_SAVE, AC_LANG_RESTORE): AU defined.
	(AC_PROG_CC_WORKS, AC_PROG_CXXCPP, AC_PROG_CXX_WORKS,
	AC_PROG_F77_WORKS, AC_F77_LIBRARY_LDFLAGS, AC_F77_NAME_MANGLING):
	Use them.
	(AC_F77_LIBRARY_LDFLAGS): Move the requirements to its top.
	* doc/autoconf.texi (Language Choice): Document them.
	(Old Macros): Welcome AC_LANG_SAVE and AC_LANG_RESTORE.

2000-05-11  Akim Demaille  <akim@epita.fr>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): Less adventurous use of
	`test'.
	Fixes Autoconf/108.

2000-05-11  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Particular Headers): Some more sorting.
	Use `@multitable'.

2000-05-11  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (_AC_CHECK_HEADER_DIRENT): Use more modern
	Autoconf idioms.
	(_AC_CHECK_HEADERS_DIRENT): Removed, instead...
	(AC_HEADER_DIRENT): Handle the loop.

2000-05-11  Akim Demaille  <akim@epita.fr>

	Provide a means to track the dependencies of files created by
	`configure'.

	* acgeneral.m4 (AT_FILE_DEPENDENCY, _AC_CONFIG_DEPENDENCY,
	_AC_CONFIG_DEPENDENCIES): New macros.
	(AC_CONFIG_FILES, AC_CONFIG_HEADERS, AC_CONFIG_LINKS): Use them.

2000-05-11  Akim Demaille  <akim@epita.fr>

	Merge AC_DECL_YYTEXT into AC_PROG_LEX.

	* acgeneral.m4 (AC_DECL_YYTEXT): Rename as
	(_AC_DECL_YYTEXT): this.
	(AC_PROG_LEX): Use it.
	(AC_DECL_YYTEXT): New AU macro.
	* doc/autoconf.texi: Adjust.

2000-05-10  Akim Demaille  <akim@epita.fr>

	* aclang.m4 (AC_F77_NAME_MANGLING): Use AC_COMPILE_IFELSE.
	Move the requirements to the top of the macro.

2000-05-10  Akim Demaille  <akim@epita.fr>

	Update and polish the documentation.

	* doc/autoconf.texi: Use @sc where upper case names were used.
	Remove a few useless `dnl'.
	Convert some `dnl' into comments.
	Promote `$(foo)' in Makefiles, not `${foo}'.
	Promote `$foo' in shell scripts, not `${foo}'.
	Promote `foo = bar' in Makefiles, not `foo=bar'.
	(Language Choice): Document `AC_LANG', move `AC_LANG_C',
	`AC_LANG_CPLUSPLUS' and `AC_LANG_FORTRAN77' to
	(Old Macros): here.
	* doc/install.texi: Fix a typo in the specification of the system
	quadruples.

2000-05-10  Akim Demaille  <akim@epita.fr>

	* libm4.m4 (m4_foreach): Rewritten so that it does not require
	lists in between parens.
	(m4_foreach_quoted): new copy of the previous `m4_foreach' which
	is still used by `m4_wrap'.
	* acgeneral.m4 (AC_INCLUDE, AC_INCLUDES): Removed.
	(AC_FOREACH): Don't use parens with `m4_foreach'.
	(AC_CHECK_MEMBER, AC_CHECK_DECLS, AC_CHECK_TYPES): Adjust the
	description.
	* acspecific.m4 (AC_STRUCT_TIMEZONE, AC_STRUCT_ST_BLKSIZE,
	AC_STRUCT_ST_BLOCKS, AC_STRUCT_ST_RDEV): Adjust.
	* autoconf.texi (AC_CHECK_MEMBER, AC_CHECK_DECLS, AC_CHECK_TYPES):
	Adjust their documentation.
	(AC_INCLUDE): Undocument.
	* tests/semantics.m4: Adjust.
	* tests/actest.m4: Rename as...
	* tests/aclocal.m4: this.
	* tests/atspecific.m4: No longer include actest.m4.
	* tests/torture.m4: Likewise.
	* tests/Makefile.am: Adjust.

2000-05-10  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Obsolete Macros): Document `AU_DEFUN'.
	Move the documentation of `AC_OBSOLETE' from here, to...
	(Old Macros): here.
	* acspecific.m4 (AC_STRUCT_ST_BLKSIZE, AC_STRUCT_ST_RDEV):
	AU_DEFUN'd.

2000-05-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_LIBOBJ_DECL, AC_LIBOBJ): New macros.
	(AC_REPLACE_FUNCS): Use AC_LIBOBJ.
	* acspecific.m4 (AC_FUNC_MKTIME, AC_FUNC_MEMCMP,
	AC_STRUCT_ST_BLOCKS): Use AC_LIBOBJ.
	* doc/autoconf.texi : Adjust so that the user is not encouraged to
	use LIBOBJS directly.
	(Generic Functions): Document AC_LIBOBJ_DECL and AC_LIBOBJ.

2000-05-09  Jim Meyering  <meyering@lucent.com>

	* acgeneral.m4 (AC_SEARCH_LIBS): Remove double quotes around `no'.

2000-05-09  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_OUTPUT_FILES): Don't automatically spit
	`Generated by...' in Makefiles.
	Fixes Autoconf/102.

2000-05-09  Akim Demaille  <akim@epita.fr>

	Let `config.status' use a private temp dir.
	Suggested by Jim Meyering.

	* acgeneral.m4 (_AC_SHELL_TMPDIR): New macro.
	(_AC_OUTPUT_CONFIG_STATUS): Use it.
	Use more quoted here docs to improve readability.
	Compute `$me' and use it in the error messages.
	Define `$configure' and `$configure_args' to avoid continuously
	mixing the uses of `configure' and `config.status' evaluation in a
	single line.
	Define `$SHELL' and use it.
	Simplify all the unjustified `[\$]foo' into `\$foo', the quotes
	are needed only for `\$[1]', `\$[@]' etc.
	Replace all the uses of `ac_cs_root' with files in the tmp dir of
	`config.status'.
	Remove a few `rm' covered by the removal of the `$tmp' dir.
	Let `config.status' support `--debug'.
	(_AC_INIT_PREPARE): Avoid the leading space in `ac_configure_args'.
	* doc/autoconf.texi (Invoking config.status): Adjust.

2000-05-05  Jim Meyering  <meyering@lucent.com>

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): Set up traps to remove
	temporaries upon exit, too, not just upon receipt of signal.

2000-05-05  Akim Demaille  <akim@epita.fr>

	AC_CHECK_PROG macro fails if REJECT value is set under Digital
	Unix 4.0x and 5.0 because `"$@"' expands into an empty parameter
	(instead of nothing) when there are no positional parameters.
	From Nicolas Joly.

	* acgeneral.m4 (AC_CHECK_PROG, AC_CHECK_PROGS): Prefer
	`$$1' to `[$]$1', `$foo' to `[$]foo', `$[1]' to `[$]1', and
	`${1+"$[@]"}' to `"[$]@"'.

2000-05-04  Akim Demaille  <akim@epita.fr>

	AC_PREREQ understands `2.14a' as `2.141'.
	Reported by Didier Verna.

	* acgeneral.m4 (AC_PREREQ): Don't quote AC_ACVERSION.

2000-05-04  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AH_TOP, AH_BOTTOM): New macros.
	(_AH_COUNTER): New variable.
	* tests/tools.m4 (autoheader): Check their proper functioning.

2000-05-04  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Obsolete Macros): Rename as...
	(Obsoleting Macros): this.
	(Old Macros): Rename as...
	(Obsolete Macros): this.
	Be a section of...
	(Obsolete Constructs): New chapter.
	(Invoking autoheader): Move the `acconfig.h' documentation to...
	(acconfig.h): here, new section of `Obsolete Constructs'.
	(Autoheader Macros): Document AH_VERBATIM, AH_TEMPLATE, AH_TOP and
	AH_BOTTOM.

2000-05-03  Nicolas Joly  <njoly@pasteur.fr>

	* autoheader.sh (config_h): Sort the templates.
	Under NetBSD 1.4.1 /bin/sh `set' command does not return a sorted
	variables list.

2000-05-03  Akim Demaille  <akim@epita.fr>

	* tests/tools.m4 (autoheader): Don't pass `-l at_srcdir' to
	`autoheader', since `acconfig.h' is created in the build dir.
	There's one empty line less in `config.h.in' than before when
	using `acconfig.h'.

2000-05-03  Akim Demaille  <akim@epita.fr>

	Simplify the handling of `acconfig.h'.

	* autoheader.sh: No longer try to select the needed paragraphs of
	`acconfig.h', just dump everything into `config.h.in'.
	Implement support for `--warnings'.
	Warn the users that these auxiliary files are obsolete when `-W
	obsolete'.
	* doc/autoconf.texi (Invoking autoheader): Adjust.

2000-05-03  Akim Demaille  <akim@epita.fr>

	Support of acconfig.h was broken.  Fix and test.
	Reported by Jim Meyering.

	* autoheader.sh: Trace AC_DEFINE and AC_DEFINE_UNQUOTED to build
	the list of $syms which are defined.
	* tests/tools.m4 (autoheader): New test.

2000-05-03  Akim Demaille  <akim@epita.fr>

	Rename the language FORTRAN77 as Fortran 77.

	* aclang.m4 (AC_LANG(FORTRAN77), AC_LANG_SOURCE(FORTRAN77),
	AC_LANG_PROGRAM(FORTRAN77), AC_LANG_CALL(FORTRAN77)): Rename as...
	(AC_LANG(Fortran 77), AC_LANG_SOURCE(Fortran 77),
	AC_LANG_PROGRAM(Fortran 77), AC_LANG_CALL(Fortran 77)): This.
	(AC_LANG_FORTRAN77): Adjust.

2000-05-03  Akim Demaille  <akim@epita.fr>

	Provide a macro to canonicalize a configuration name.
	Suggested by Ralf Corsepius.

	*  acgeneral.m4 (AC_CANONICALIZE): New macro.
	(_AC_CANONICAL_THING): Use it.


	Change the defaults for build, host, and target systems:
	build  defaults to `config.guess`.
	host   defaults to $build.
	target defaults to $host.
	Suggested by Mo DeJong, Pavel Roskin, Tom Tromey, Ian Lance
	Taylor, and many others.

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Set `$build', `$host' and
	`$target' to nothing instead of NONE.
	(AC_CANONICAL_SYSTEM): AU_DEFUN'd as `AC_CANONICAL_TARGET'.
	(_AC_CANONICAL_THING): Use an explicit m4_case to set the defaults
	depending upon the THING.
	Implement the default values.
	(AC_CANONICAL_TARGET): Handle the `AC_ARG_PROGRAM' part
	`AC_CANONICAL_SYSTEM' used to provide.
	* doc/autoconf.texi: Adjust.


	When receiving an explicit argument, consider this is a default
	for --build, --host and --target (unless set).
	Some scripts might still depend on this historical syntax.
	Suggested by Alexandre Oliva.

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Do that.
	(_AC_CANONICAL_THING): Drop the support of `$nonopt'.


	Documenting --build, --host and --target when configure does not
	handle them causes confusion.
	Suggested by Pavel Roskin.
	Nevertheless configure must not die on such an `unsupported'
	option: it does happen that people build an entire tree of
	packages, some of them expecting `--host' etc. some others not.
	Stressed by Tom Tromey and Ian Lance Taylor.

	* acgeneral.m4 (HELP_CANON): New diversion.
	(_AC_INIT_PARSE_ARGS): Don't document these options.
	(AC_CANONICAL_BUILD, AC_CANONICAL_HOST, AC_CANONICAL_TARGET):
	Document your associated option.

2000-04-28  Akim Demaille  <akim@epita.fr>

	Don't double quote in AC_MSG_*.

	* acgeneral.m4 (_AC_SH_QUOTE): Don't double quote.  Escape the
	double quotes too.
	(_AC_ECHO_UNQUOTED): Don't double quote :).
	(_AC_ECHO, _AC_ECHO_N): Quote the call to _AC_SH_QUOTE.

	The autoheader chain needs to be adjusted.

	* acgeneral.m4 (AH_VERBATIM): Just pass two arguments to AH_OUTPUT
	instead of trying to build what `autoheader' needs: let it handle
	the format by itself.
	* autoheader.m4: Adjust.
	s,tmp/config.h,tmp/config.hin.

	The adjustment revealed that `autoconf --trace' is not robust to
	single quotes in its argument.

	* autoconf.sh: Fix this issue.
	Rename the escape `$*' as `$%'.  Implement `$@'.
	* doc/autoconf.texi: Adjust.

2000-04-28  Akim Demaille  <akim@epita.fr>

	mawk suffers a severe performance loss when using `sub' with a
	changing value.  On the `configure' script of the fileutils:
	mawk '{ sub (/foo/, foo++) }'                  -> 14s.
	mawk '{ if ($0 ~ /foo/) sub (/foo/, foo++) }'  -> 0.03s.
	mawk '{ sub (/foo/, foo) }'                    -> 0.03s.

	* autoconf.sh (task script, AWK script): Run `sub (__oline__,
	oline)' only in the lines that match `__oline__'.
	Suggested by Paul Eggert.

2000-04-28  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (options handling::-W*): Strip two leading chars, not
	just one.

2000-04-20  Dave Love  <fx@gnu.org>

	* acspecific.m4 (AC_FUNC_MKTIME): Use AC_SUBST.

2000-04-12  Akim Demaille  <akim@epita.fr>

	Provide a fine grained control over autoconf's warnings.

	* acgeneral.m4 (AC_WARNING_IFELSE, _AC_DIAGNOSE, AC_DIAGNOSE):
	New macros.
	(AC_DEFUN_ONCE, AC_OBSOLETE, AC_BEFORE, AU_DEFUN, AC_PREREQ,
	AC_WARNING, AC_FATAL, AC_TRY_RUN): Use AC_DIAGNOSE.
	* autoconf.sh: Provide support for `--warnings', `-W'.
	* doc/autoconf.texi (Invoking autoconf): Adjust.
	(Reporting Messages): New section.

2000-04-12  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_HELP): Move --srcdir in the first
	section.
	Document --help=short and recursive.
	Split the `Directory' section into `Installation directories' for
	--prefix and --exec-prefix, and all the others into `Fine tuning
	of the installation directories'.
	In the latter, don't repeat `in DIR', the user understands, and it
	comes out better.
	Default for --exec-prefix is PREFIX.
	Reported by Kathryn Hargreaves.
	Move --host before --build.
	Fix a test on `$ac_init_help' which was not updated.

2000-04-11  Akim Demaille  <akim@epita.fr>

	Have `make check' succeed with CC=g++.

	* tests/atspecific.m4 (AT_TEST_MACRO): Don't check `env-after' if
	the file does not exist, which may happen when a `configure' exits
	brutally.
	* tests/semantics.m4 (AC_CHECK_MEMBERS, AC_CHECK_TYPES): ANSI C++
	forbids members named like their hosting struct, so don't do it.

2000-04-11  Akim Demaille  <akim@epita.fr>

	* autoscan.pl: Reindent using 2 spaces, not 4.
	Use `#' to denote Autoconf comments, not `dnl'.
	Put a few `\' here and there to avoid misfontification and
	misindentation.
	Use your base name when reporting errors.
	(parse_args::usage): Use $0, use the same order as the other
	executables.
	(parse_args): Don't dump `--help' on cmd line errors.

2000-04-11  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PROVIDE_IF): Rename as...
	(AC_PROVIDE_IFELSE): this.  Change all callers.
	Spread the use of AC_PROVIDE_IFELSE, no macro should know how
	AC_PROVIDE names its internal variables.

2000-04-11  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Simplify all the `foo="$bar"' into `foo=$bar'.
	* acspecific.m4: Likewise.
	* aclang.m4: Likewise.

2000-04-11  Akim Demaille  <akim@epita.fr>

	Move obsolete macros' definitions out of the way.

	* doc/autoconf.texi (Old Macro Names): Rename as...
	(Old Macros): this.  Change the @table enumeration into a list of
	@defmac.
	(AC_CHECKING, AC_CHECK_TYPE, AC_COMPILE_CHECK, AC_C_CROSS,
	AC_DYNIX_SEQ, AC_HAVE_LIBRARY, AC_IRIX_SUN, AC_LINK_FILES,
	AC_OUTPUT, AC_OUTPUT_COMMANDS, AC_SCO_INTL, AC_VERBOSE,
	AC_XENIX_DIR): Move their descriptions into here.
	Kill a few TeX warnings.

2000-04-11  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_MSG_ERROR_UNQUOTED): Remove.
	(AC_MSG_RESULT, AC_MSG_RESULT_UNQUOTED): Output to the log too.
	(AC_CHECKING, AC_VERBOSE): AU_ define.

2000-04-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4:	s/1>&/>&/g.
	(AC_FD_LOG): New macro, replaces...
	(AC_FD_CC): this.  Provide an AU definition.
	(_AC_ECHO_UNQUOTED, _AC_ECHO_N): Use m4_default.

2000-04-05  Akim Demaille  <akim@epita.fr>

	At the end of `./configure', save the cache values, and the CPP
	values.

	* acgeneral.m4 (_AC_CACHE_DUMP): New macro.
	(AC_CACHE_SAVE, AC_OUTPUT): Use it.
	(AC_OUTPUT): Dump confdefs.h into config.log.
	(_AC_INIT_PREPARE::config.log): Name the package being configured
	if you can.

2000-04-05  Steven G. Johnson  <stevenj@alum.mit.edu>

	Disable caching by default, so as not to cause problems when
	newbies accidentally use a stale cache file.

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Set cache_file to /dev/null
	to disable caching by default.
	(_AC_INIT_HELP): Adjust the --help message.
	(AC_CACHE_LOAD, AC_CACHE_SAVE): Don't print "loading/updating
	/dev/null" messages.
	* autoconf.texi: Note that caching is disabled, how to enable it,
	and that `./config.cache' is the traditional name of the cache file.
	* install.texi: Likewise.

2000-04-03  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): If any option waiting for a
	directory receives a relative path, die (bindir, sbindir,
	libexecdir, datadir, sysconfdir, sharedstatedir, localstatedir,
	libdir, includedir, oldincludedir, infodir, mandir, exec_prefix,
	prefix).  Fixes Autoconf 42.

2000-04-03  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Canonicalizing): Officially recognize
	AC_CANONICAL_TARGET and AC_CANONICAL_BUILD.

2000-04-03  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Writing configure.in): Explain what Autoconf
	is.  Explain how to use the quotation scheme used in Autoconf.
	(Quoting): Update.  Do not advocate changequote.

2000-03-30  Steven G. Johnson  <stevenj@alum.mit.edu>

	Fix F77 name-mangling macros to work with cached values (so
	they don't break the second time you run configure).

	* aclang.m4 (AC_F77_NAME_MANGLING): Extract f77_case,
	f77_underscore from cache variable.
	(AC_F77_WRAPPERS): Get rid of ac_cv_f77_wrappers, it's useless.
	Simplify the nested case-esac into a single one.
	Simplify the documentation strings of CPP symbols.

2000-03-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): Fix the accumulation in
	CONFIG_HEADERS.

2000-03-31  Akim Demaille  <akim@epita.fr>

	* autoheader.sh: Catch up with the `mktemp -d' changes in
	autoconf.sh.
	* autoupdate.sh: Likewise.

2000-03-31  Steven G. Johnson  <stevenj@alum.mit.edu>

	* aclang.m4 (AC_F77_LIBRARY_LDFLAGS): bug fix in F77 test program
	(missing whitespace--F77 requires program statements to start in
	column 7).

2000-03-29  Akim Demaille  <akim@epita.fr>

	Rewrite the autoheader chain on top of `autoconf --trace'.

	* autoheader.m4: Dispatch the prototypes next to there AC_
	siblings.
	(AH_TEMPLATE, AH_VERBATIM): Move to...
	* acgeneral.m4: here.
	(AH_OUTPUT): New macro.
	* autoheader.sh: Run `autoconf --trace' instead of `m4 autoheader.m4'.
	* autoheader.m4: Remove.
	* Makefile.am: Adjust.
	* tests/tools.m4 (AH_DEFUN): Remove, no longer makes sense.
	* tests/actests.m4 (autoheader::AC_TATOOINE): Remove, was used by
	the test above.

2000-03-29  Akim Demaille  <akim@epita.fr>

	silent.m4 depends upon the current quotation in m4, which changes
	if `-i' is used or not.

	* autoconf.sh (trace::silent.m4): Removed.
	(trace::run_m4_trace): Pass -Derrprint.

2000-03-29  Akim Demaille  <akim@epita.fr>

	Use `mktemp -d' when possible to create securely a tmp work dir.

	* autoconf.sh: Use it when possible to create the dir $tmp.
	Stop using variables for tmp files, use their names in $tmp.
	[install]: Use the new features of autoconf --trace.

2000-03-28  Akim Demaille  <akim@epita.fr>

	Probably all the versions of bash up to 2.04 fail on
	  fnmatch ("/tmp", "[/\\\\]")
	The backslash must not be last.

	* acgeneral.m4 (_AC_INIT_HELP, AC_PATH_PROG, _AC_OUTPUT_FILES,
	_AC_OUTPUT_LINKS, _AC_OUTPUT_SUBDIRS): Always make `\\' be the
	first character in all the `[]' of `case' patterns.

2000-03-27  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_CHECK_TOOL_PREFIX): Rename back as
	AC_CHECK_TOOL_PREFIX since some packages rely on it.

2000-03-27  Akim Demaille  <akim@epita.fr>

	Move all the language dependent macros into aclang.m4.

	* aclang.m4: New file.
	* autoconf.m4: Include it.
	* autoheader.m4: Likewise.
	* autoupdate.m4: Likewise.
	* Makefile.am: Adjust.
	* test/Makefile.am: Likewise.
	* acgeneral.m4 (AC_LANG_CASE,AC_LANG_SAVE, _AC_LANG_DISPATCH,
	AC_LANG, _AC_LANG_CURRENT, AC_LANG_SOURCE, AC_LANG_PROGRAM,
	AC_LANG_CALL, AC_LANG(C), AC_LANG_SOURCE(C), AC_LANG_PROGRAM(C),
	AC_LANG_CALL(C), AC_LANG(C++), AC_LANG_SOURCE(C++),
	AC_LANG_PROGRAM(C++), AC_LANG_CALL(C++), AC_LANG(FORTRAN77),
	AC_LANG_SOURCE(FORTRAN77), AC_LANG_PROGRAM(FORTRAN77),
	AC_LANG_CALL(FORTRAN77): Move to...
	* aclang.m4: here.
	* acspecific.m4 (AC_PROG_CC, AC_PROG_CXX, AC_PROG_F77,
	AC_PROG_CC_WORKS, AC_PROG_CXX_WORKS, AC_PROG_F77_WORKS,
	AC_PROG_CC_GNU, AC_PROG_CXX_GNU, AC_PROG_F77_GNU, AC_PROG_CC_G,
	AC_PROG_CXX_G, AC_PROG_F77_G, AC_PROG_GCC_TRADITIONAL,
	AC_PROG_CC_C_O, AC_PROG_F77_C_O, AC_PROG_CC_STDC, AC_PROG_CPP,
	AC_PROG_CXXCPP, AC_REQUIRE_CPP, AC_PROG_LEX, AC_TYPE_MODE_T,
	AC_C_CROSS, AC_C_CHAR_UNSIGNED, AC_C_LONG_DOUBLE, AC_C_BIGENDIAN,
	AC_C_INLINE, AC_C_CONST, AC_C_VOLATILE, AC_C_STRINGIZE,
	AC_C_PROTOTYPES, AC_F77_LIBRARY_LDFLAGS, AC_F77_NAME_MANGLING,
	AC_F77_WRAPPERS): Move to...
	* aclang.m4: here.

2000-03-27  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (trace): Let translate_awk do the whole translation
	from `$trace' to the m4 program.

2000-03-27  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PACKAGE): Also define AC_PACKAGE_STRING.
	Use it here and there.

2000-03-27  Ralf Corsepius  <corsepiu@faw.uni-ulm.de>

	* acgeneral.m4 (_AC_INIT_HELP, _AC_OUTPUT_SUBDIRS): Fix the DOS
	absolute path pattern: s/?:[[/\\]]/?:[[/\\]]*/.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_CANONICAL_TARGET, _AC_CANONICAL_BUILD): Rename
	as (AC_CANONICAL_TARGET, AC_CANONICAL_BUILD), although internal,
	too much foreign code depends upon them.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (translate_awk): `> "/dev/stderr"' is not portable
	to systems without a real /dev/stderr in the file system or if not
	using one of the three free awks.  Use
	print message | "cat >&2"
	...
	END { close("cat >&2") }
	From Aharon Robbins.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* autoheader.sh (checking completeness): Be ready to recognize
	patterns with a value, and spaces between `#' and the directive, e.g.
	# define FOO FIXME:
	Reported by John Fortin.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_RUN_IFELSE): New macro.
	(AC_TRY_RUN_NATIVE): Remove.
	(AC_TRY_RUN): Use AC_RUN_IFELSE, not AC_TRY_RUN_NATIVE.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_LIB): Ah ah!  I recognized you, even
	masked: you are AC_TRY_LINK_FUNC.
	Fix quotation.
	(AC_SEARCH_LIBS): Use AC_SHELL_IFELSE.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* tests/semantics.m4 (AC_TRY_LINK_FUNC, AC_CHECK_LIB): New tests.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_LANG_CALL, AC_LANG_CALL(C), AC_LANG_CALL(C++),
	AC_LANG_CALL(FORTRAN77)): New macros.
	(AC_TRY_LINK_FUNC): Use it.
	(AC_TRY_CPP): Argument was output twice.
	(AC_COMPILE_IFELSE, AC_LINK_IFELSE): Output $3 only if needed.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_TRY_COMPILER): Use AC_LINK_IFELSE.
	(AC_TRY_LINK_FUNC, AC_CHECK_LIB, AC_CHECK_FUNC): Don't check that
	the current language is C++ to output `extern "C"': the CPP
	condition is enough.

2000-03-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_LINK_IFELSE, AC_COMPILE_IFELSE): New macros.
	(AC_TRY_LINK, AC_TRY_COMPILE): Use them.
	(AC_CHECK_MEMBER, AC_COMPILE_CHECK, AC_CHECK_DECL,
	_AC_CHECK_TYPE_NEW): Adjust.
	* acspecific.m4 (AC_DECL_YYTEXT, AC_PATH_XTRA): Adjust.

2000-03-23  Steven G. Johnson <stevenj@alum.mit.edu>

	* acspecific.m4 (AC_F77_NAME_MANGLING): Need to use
	AC_F77_LIBRARY_LDFLAGS when linking C and Fortran code.

2000-03-23  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_LANG_PROGRAM, AC_LANG_PROGRAM(C),
	AC_LANG_PROGRAM(C++), AC_LANG_PROGRAM(FORTRAN77)): New macros.
	(AC_TRY_COMPILE, AC_TRY_LINK): Use them.

2000-03-23  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Support --help={long, short,
	recursive}.
	(_AC_INIT_HELP): Propagate --help=recursive to CONFIG_SUBDIRS.
	Code stolen from...
	(AC_OUTPUT_SUBDIRS): s/ac_config_dir/ac_subdir/g.

2000-03-23  Lars J. Aas  <larsa@sim.no>

	* libm4.m4 (m4_do): New macro.

2000-03-21  Akim Demaille  <akim@epita.fr>

	Provide a language independent means to generate language specific
	programs.

	* acgeneral.m4 (_AC_LANG_DISPATCH): New macro.
	(AC_LANG): Use it.
	(AC_LANG_SOURCE, AC_LANG_SOURCE(C), AC_LANG_SOURCE(C++),
	AC_LANG_SOURCE(FORTRAN77)): New macros.
	(AC_TRY_COMPILER, AC_EGREP_CPP, AC_TRY_RUN_NATIVE): Use
	AC_LANG_SOURCE.

2000-03-21  Akim Demaille  <akim@epita.fr>

	Fix a bug: some macros (e.g., AC_REVISION, AC_COPYRIGHT etc.) can
	be used before AC_INIT, but they do require it.  But then, the
	argument of the explicit AC_INIT call is lost.

	* acgeneral.m4 (AC_CONFIG_SRCDIR): New macro.
	(_AC_INIT_SRCDIR): Adjust.
	(_AC_INIT): Pass your argument to AC_CONFIG_SRCDIR.

2000-03-21  Akim Demaille  <akim@epita.fr>

	* tests/semantics.m4 (AC_PATH_PROG, AC_PATH_PROGS): New tests.

2000-03-21  Akim Demaille  <akim@epita.fr>

	Start the language support overhaul: Introduce AC_LANG().

	* acgeneral.m4 (AC_LANG): Renamed as _AC_LANG_CURRENT.
	(AC_LANG, AC_LANG(C), AC_LANG(C++), AC_LANG(FORTRAN77)): New
	macros.
	(AC_LANG_C, AC_LANG_CPLUSPLUS, AC_LANG_FORTRAN): AU_DEFUN'ed.
	Adjust all callers.
	* acspecific.m4 (AC_F77_NAME_MANGLING): Remove the exceeding
	AC_LANG_RESTORE.
	* tests/Makefile.am (FILTER_MACROS): Add AC_LANG.

2000-03-21  Akim Demaille  <akim@epita.fr>

	Speed ups.

	* libm4.m4 (m4_append, m4_list_append): Use m4_define, not define.
	On my machine the former implementation takes 4mn 40s to run the
	test suite.  Using m4_define leads to 4mn 15s.
	* acgeneral.m4 (_AC_SUBST): Use AC_EXPAND_ONCE (which uses
	m4_define, not define).  4mn.
	(_AC_DIVERT): Don't use m4_case.  Starting from those 4mn, if you
	just move NORMAL* first in m4_case, the test suite is run in 3mn.
	If instead of using m4, you use an `associative array' plus a
	wrapper (current implementation), it falls to 2mn.

2000-03-21  Akim Demaille  <akim@epita.fr>

	* tests/tools.m4 (autoconf --trace): New test.

2000-03-21  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (task trace): Pipe the output of the first m4 into
	the second one, instead of saving to a tmp file, so that we can
	trace endless configure.in expansion.

2000-03-21  Akim Demaille  <akim@epita.fr>

	Uniform idioms.

	* acgeneral.m4 (_AC_OUTPUT_FILES, _AC_OUTPUT_HEADERS,
	_AC_OUTPUT_LINKS, _AC_OUTPUT_COMMANDS): Prefer
	for i in : $is; do test $i = : && continue
	over
	for i in .. $is; do if test $i != ..; then

2000-03-21  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PREPARE, _AC_INIT_PARSE_ARGS): Move more
	initializations to...
	(_AC_INIT_DEFAULTS): here.

2000-03-21  Akim Demaille  <akim@epita.fr>

	Give a means to compute `srcdir' earlier in configure.

	* acgeneral.m4 (_AC_INIT_SRCDIR): New macro, pulled out from...
	(_AC_INIT_PREPARE): No longer compute `srcdir'.
	(_AC_INIT): Use _AC_INIT_SRCDIR.
	(AC_INIT): Don't forget to pass the argument to _AC_INIT.

2000-03-20  Jim Meyering  <meyering@lucent.com>

	* acspecific.m4 (AC_SYS_LONG_FILE_NAMES): Don't test for existence
	of $ac_xdir.  Not only is `test -e' not portable, but the test isn't
	necessary at all;  the following mkdir ends up accomplishing the
	same goal.  Suggestion from Alexandre Oliva.

	* acgeneral.m4 (_AC_INIT_PREPARE_ENVIRONMENT) [setting IFS]: Be careful
	to use space, tab and new line, in precisely that order.

2000-03-20  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT_SUBDIRS): Rename as _AC_OUTPUT_SUBDIRS.
	No argument, use AC_LIST_SUBDIRS.
	Adjust callers.

2000-03-20  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_ARG_ENABLE, AC_ARG_WITH): Double quote the head
	of the help snippet.

2000-03-20  Akim Demaille  <akim@epita.fr>

	Give an identity to `configure' scripts.

	* acgeneral.m4 (AC_PACKAGE): New macro.
	(_AC_COPYRIGHT_SEPARATOR): Remove.
	(AC_COPYRIGHT): Adjust.
	(_AC_INIT_HELP, _AC_INIT_VERSION): Name the package you configure
	when you want.
	(_AC_INIT): Adjust.
	* configure.in (AC_PACKAGE): Add.

2000-03-20  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.

2000-03-20  Akim Demaille  <akim@epita.fr>

	Don't rely on RS = "\0" to swallow the whole input as a single
	record, this is not portable: mawk and nawk understand it as RS =
	"".  gawk understands it as expected.

	* autoconf.sh (translate_awk::BEGIN): No longer change RS.
	(translate_awk::body): Move to the END.
	Instead, accumulate the input in `request'.

2000-03-20  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Testing Values and Files): Be a subsection of
	`Portable Shell Programming'.
	(Shell Substitutions, Limitations of Usual Tools): New subsections.

2000-03-17  Akim Demaille  <akim@epita.fr>

	Use a single tool to reformat the raw `configure' script output by
	m4.
	Suggested by Paul Eggert.

	* autoconf.sh: Stop playing with 2 seds and an AWK to finalize
	`configure', a single AWK program is enough.

2000-03-17  Akim Demaille  <akim@epita.fr>

	In Autoconf 2.13, although AC_OUTPUT_COMMANDS did double quote its
	arguments, AC_OUTPUT arguments 2 and 3 were not!  Currently,
	AC_OUTPUT over quotes too: stop that.
	Reported by Martin Buchholz.

	* doc/autoconf.texi (Output): Don't expand on the ternary
	AC_OUTPUT.
	* acgeneral.m4 (AC_OUTPUT): Don't over quote $2 and $3.

2000-03-17  Joseph S. Myers  <jsm28@cam.ac.uk>

	* acspecific.m4 (AC_SYS_LONG_FILE_NAMES): Security fixes: create
	the temp files in a private temporary directory, not directly in
	TMPDIR.

2000-03-17  Akim Demaille  <akim@epita.fr>

	Install the IFS we need once for all.

	* acgeneral.m4 (_AC_INIT_PREPARE_ENVIRONMENT): New macro.
	Handle the NLS envvars, and IFS.
	(_AC_INIT_PREPARE): Use it, no longer set the NLS envvars.
	(_AC_WHICH_A, AC_PATH_PROG): Rely on the default IFS.
	* acspecific.m4 (AC_PROG_INSTALL, AC_FUNC_SELECT_ARGTYPES):
	Likewise.

2000-03-17  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_TRY_CPP, AC_EGREP_CPP, AC_TRY_COMPILE,
	AC_TRY_LINK, AC_TRY_RUN_NATIVE): Simplify the removal of the
	contest files: don't remove them before running the actions, just
	remove them at the end of the macro.

2000-03-16  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_FUNC_SELECT_ARGTYPES): Use
	  : ${foo='some words'}
	not
	  : ${foo=some words}
	since this is not portable: Digital Unix v5.0: `bad substitution'.
	From Nicolas Joly.

2000-03-16  Lars J. Aas  <larsa@sim.no>

	* libm4.m4 (m4_assert, m4_shiftn): New macros.
	(m4_case,m4_match): Rewrite to use m4_shiftn (for readability reasons).
	(m4_for): Add the STEP argument and some argument-verifying asserts.
	(m4_split): Correct spaces to tabulator in regexp.

2000-03-15  Akim Demaille  <akim@epita.fr>

	Revamp AC_FUNC_SELECT_ARGTYPES.

	* acspecific.m4 (AC_FUNC_SELECT_ARGTYPES): Use a single cache
	variable instead of three.
	Use AC_CACHE_CHECK.
	Shorten the name of the var loops, they are no longer cached.
	Include sys/types.h unconditionally.
	`select' returns an int, fixes Autoconf/46.
	Don't display parens in the user messages.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* autoheader.sh: Use run_m4f, not run_m4.

2000-03-14  John David Anglin  <dave@hiauly1.hia.nrc.ca>

	* tests/actest.m4 (AC_ENV_SAVE): Don't consider RANDOM and LINENO
	which some shells update.  At least ksh on HP-UX 10.20 and sh on
	IRIX 6.5 do change their `RANDOM' even if `read' via `set'.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_ARG_ENABLE, AC_ARG_WITH): No use for @%:@ here,
	no need to over quote $1 in the comments.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Replace some ifelse with ifval or m4_default, or
	even nothing when not needed.
	* acspecific.m4: Likewise.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PREPARE): Insert the Autoconf version in
	config.log, and the command line which ran configure.
	Kill a couple of useless quote around dollars.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PREPARE): Kill a changequote in the
	building of `ac_configure_args'.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_DIVERT): Rename _AC_DIVERT.
	(AC_DIVERT): New macro.
	Spread its use where better than a pair of AC_DIVERT_PUSH/POP.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_BINSH): Remove, useless now that...
	(AC_REVISION): Require AC_INIT, not _AC_INIT_BINSH.
	(AC_INIT): Do what _AC_INIT_BINSH used to.
	Don't require _AC_INIT_VERSION, just call it.
	Rename as _AC_INIT.
	(AC_INIT): New macro, single expansion wrapper around _AC_INIT.
	(_AC_COPYRIGHT_SEPARATOR): New.
	(AC_COPYRIGHT): Use it.
	Require AC_INIT, not _AC_INIT_VERSION.
	* doc/autoconf.texi (Versions): Promote as first section of
	`Setup'.
	Rename as `Notices'.
	Document AC_COPYRIGHT.
	Don't give false reasons for placing AC_REVISION before AC_INIT,
	the place no longer matters.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (trace_m4::smash): Double quote, we don't want the
	result to be evaluated.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: s/@%:@line __oline__/#line __oline__/g. __oline__
	is not a macro, so there is just no use in avoiding `#'.

2000-03-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): When there were no
	CONFIG_FILES, we had to expand _AC_OUTPUT_FILES into the KILL
	diversion, because it is AC_OUTPUT_FILES which undiverted the
	AC_SUBST sed script at its proper place, otherwise it would have
	been undiverted at the end of `configure', leading to an sh syntax
	error.
	Now that we no longer use a diversion, we don't need to call
	AC_OUTPUT_FILES if useless.
	(AC_OUTPUT_FILES): Rename as _AC_OUTPUT_FILES.
	(AC_OUTPUT_LINKS): Rename as _AC_OUTPUT_LINKS.

2000-03-14  Akim Demaille  <akim@epita.fr>

	AC_ARG_PROGRAM must not be expanded twice, which is likely since
	Automake calls it, and usually users do too.  If it happens,
	`--program-prefix=g' actually prepend two (or more) `g'.

	* acgeneral.m4 (AC_DEFUN_ONCE): New macro.
	(AC_ARG_PROGRAM): AC_DEFUNed_ONCE.  Or is it AC_DEFUN_ONCE'd? :).
	No longer AC_EXPAND_ONCE the help string, the macro itself is
	expanded at most once.
	Rename the here-doc tag EOF_SED as EOF.

2000-03-14  Akim Demaille  <akim@epita.fr>

	Get rid of the ICMDS diversion.

	* acgeneral.m4 (AC_DIVERT): Remove ICMDS.
	(_AC_OUTPUT_COMMANDS_INIT): New growing string.
	(_AC_CONFIG_COMMANDS_INIT, _AC_OUTPUT_CONFIG_STATUS): Adjust.

2000-03-14  Akim Demaille  <akim@epita.fr>

	Introduce AC_SUBST(VAR, VAL).

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Stop global double quoting,
	failed experiment.
	Merge all the var=val AC_SUBST(var) into AC_SUBST(var, val).
	(AC_SUBST): Implement support for 2nd arg.
	* doc/autoconf.texi (Setting Output Variables): Adjust.

2000-03-13  Akim Demaille  <akim@epita.fr>

	Simplify the diversions naming system.
	Suggested by Alexandre Oliva and Lars J. Aas

	* libm4.m4 (ifndef): New macro.
	* acgeneral.m4 (AC_DIVERT): New macro, maps a diversion name to
	its value.  The diversions now have a short name, e.g., `NOTICE',
	instead of the former macros which had long names, e.g.,
	`AC_DIVERSION_NOTICE'.
	(AC_DIVERT_PUSH): Adjust.
	(AC_DIVERT_POP): Use ifndef.
	(AC_DIVERSION_CURRENT): Rename as `AC_DIVERT_DIVERSION' to stay
	within the `AC_DIVERT' name domain.
	Adjust all callers.
	* acspecific.m4: Adjust all callers.

2000-03-13  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Invoking autoconf): Update documentation of
	`autoconf --trace'.

2000-03-13  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (tmpbase): New var.  Adjust trap code and other tmp
	file names.
	(translate_awk::BEGIN): Set RS to "\0" so that the whole file be a
	single record.
	(translate_awk::trans): Convert from array to function.
	(translate_awk::error): New function.
	(translate_awk::main action): Implement support for ${sep}@ and
	${sep}*.  Use trans() and error().
	(translate_awk): Don't put space before user functions call, it is
	not portable.
	Remove trailing `;', this is not C :).
	(task trace): Quote `$traces' when you eval it, to protect the
	white spaces.
	Propagate `translate_awk' failures to `autoconf.sh'.
	Translate the quadrigraphs.

2000-03-13  Akim Demaille  <akim@epita.fr>

	Trap on 0 is not executed when `exit' is called without argument.

	* autoheader.sh (trap 1 2 13 15): s/exit/exit $?/.
	* autoconf.sh: Likewise.
	Remove translate_awk too.
	* autoupdate.sh: Likewise.
	Handle `--debug'.

2000-03-13  Akim Demaille  <akim@epita.fr>

	More uniform style in scripts.

	* autoheader.sh: s/-eq/=/.
	Uniform ordering of variable initializations, option handling.
	Don't use quotes where useless (foo=$1, not foo="$1").
	Propagate `run_m4' and `run_m4f'.
	Use `$0' in --help.
	* autoconf.sh: Likewise.
	* autoreconf.sh: Likewise.
	* autoupdate.sh: Likewise.
	* ifnames.sh: Likewise.
	* autoupdate.m4: Small bug: at the end `dnl' is disabled, so use
	`m4_dnl'.

2000-03-13  Akim Demaille  <akim@epita.fr>

	`autoconf --trace': faster.

	* autoconf.sh (initialization): New var, new option.
	(option loop): When you need an arg, make sure there is one.
	(run_m4f): New var, which content is that of the former...
	(run_m4): Don't use m4 frozen state files.
	Change all callers.
	Don't pass AC_LOCALDIR, not documented, and unused.
	(task trace): Honor `--verbose' and `--initialization'.
	(globally): Send `--verbose' messages in stderr.
	Fix random typos.

2000-03-13  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_PROG_BINSH): Removed.

2000-03-13  Akim Demaille  <akim@epita.fr>

	Start revamping `autoconf --trace'.

	* autoconf.sh (debug): New var, new option.
	Adjust the trap code.
	(task trace): Instead of decoding `m4 --trace' with sed, decode it
	with m4 itself.
	($silent_m4): New file, which disables m4's `errprint'.
	($trace_m4): New file.  Logistic for the m4 which is in charge of
	decoding the traces of the first.
	($translate_awk): Transform a user trace request into $trace_m4
	code.

2000-03-10  Akim Demaille  <akim@epita.fr>

	Multiple `-e' to egrep are not portable.  On IRIX 6.5 and Solaris
	2.5.1 only the last one is honored:
	  > printf "foo\nbar\n" | egrep -e 'foo' -e 'bar'
	  bar
	  > printf "foo\nbar\n" | egrep -e 'bar' -e 'foo'
	  foo
	Reported by Nicolas Joly.
	An alternative would have been to use `sed', unfortunately
	alternation is not portable.

	* tests/actest.m4 (join): New macro.
	(AC_ENV_SAVE): Join the egrep patterns into a single big one.
	* tests/Makefile.am (EGREP_EXCLUDE): Rename as FILTER_MACROS.
	Join the egrep patterns into a single big one.

2000-03-10  Jim Meyering  <meyering@lucent.com>

	* acgeneral.m4 (_AC_CHECK_TOOL_PREFIX): Correct typos in definition:
	add `_' prefix to make the function name match comments and existing
	uses.  Remove leading prefix from _AC_CANONICAL_HOST.

2000-03-09  Ossama Othman  <ossama@debian.org>

	* acspecific.m4 (AC_SYS_RESTARTABLE_SYSCALLS): Added some missing
	headers if they exist (needed for some missing prototypes) and
	corrects the signal handler prototype/definition.  The signal
	handler prototype is now prepended with an `extern "C"' for C++
	compilers since some platforms explicitly require an `extern "C"'
	signal handler.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* autoheader.m4 (autoheader::AC_CHECK_HEADERS_DIRENT): Rename as
	(autoheader::_AC_CHECK_HEADERS_DIRENT): to cope with the new name
	of the autoconf:: macro.
	Fixes autoconf/119, reported by Raja R Harinath.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PATH_PROG, AC_OUTPUT_FILES, AC_OUTPUT_SUBDIRS):
	Fix quotation problems in DOS path handling.

2000-03-08   Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>

	* acspecific.m4 (AC_FUNC_MMAP, AC_FUNC_ALLOCA): Make them C++
	safe: include the right headers, cast the allocations etc.

2000-03-08  Akim Demaille  <akim@epita.fr>

	The argument of AC_COPYRIGHT should be plain text, not an sh
	comment.

	* libm4.m4 (m4_quote): s/$@/$*/.
	* acgeneral.m4 (AC_COPYRIGHT): Prepend `# ' to the lines that go
	on the top of `configure'.  Actually, prepend `@%:@ ' so that
	there are as many evaluations on both sides.
	(_AC_INIT_VERSION): No longer strip `# '.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* tests/Makefile.am (all-local): Remove.  It wastes time to have
	testsuite rebuilt each time an ac*.m4 file changes.  It is enough
	to build it for each `make check'.

2000-03-08  Akim Demaille  <akim@epita.fr>

	Leave a diversion exclusively for Copyright notices.

	* acgeneral.m4 (AC_DIVERSION_DEFAULTS): New diversion number.
	(_AC_INIT_NOTICE): Move definition of `ac_includes_default' from
	here...
	(_AC_INIT_PREPARE): to here.
	(_AC_INIT_NOTICE): Play with your diversion yourself, don't let
	(AC_INIT): do it for you.
	(_AC_INIT_DEFAULTS): New macro.
	(AC_INIT): Use it.

2000-03-08  Akim Demaille  <akim@epita.fr>

	Provide a means to specify more Copyright information in
	`configure'.  And after all, it suits to `configure --version' too.

	* acgeneral.m4 (AC_DIVERSION_DEFAULTS, AC_DIVERSION_INIT_PREPARE):
	New diversion numbers.
	(AC_DIVERSION_INIT): Rename as...
	(AC_DIVERSION_INIT_PARSE_ARGS): this.
	(AC_DIVERT_POP): Instead of going into wild endless loops when
	there are more pops than pushes, die with dignity.
	(AC_COPYRIGHT): New macro.
	(_AC_INIT_NOTICE): Move definition of `ac_includes_default' from
	here...
	(_AC_INIT_PREPARE): to here.
	(_AC_INIT_NOTICE): Remove.
	(AC_INIT): Use it to install Autoconf's Copyright.
	(_AC_INIT_DEFAULTS): New macro.
	(AC_INIT): Use it.
	(AC_PREFIX_DEFAULTS): Dump in AC_DIVERSION_DEFAULTS.
	(_AC_INIT_PARSE_ARGS): Dump in AC_DIVERSION_INIT_PREPARE.

2000-03-08  Akim Demaille  <akim@epita.fr>

	We don't need _AC_ARG_*_HELP_PROLOGUE.

	* acgeneral.m4 (AC_EXPAND_ONCE): AC_PROVIDE yourself, in case
	there is no AC_DEFUN associated with the text to expand.
	(_AC_ARG_ENABLE_HELP_PROLOGUE, _AC_ARG_WITH_HELP_PROLOGUE,
	_AC_ARG_VAR_HELP_PROLOGUE): Remove, instead...
	(AC_ARG_ENABLE, AC_ARG_WITH, AC_ARG_VAR): do it yourself.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Fix copy n' paste typos in
	`--with-*', `--without-*' and `*' decoding.
	Reported by Raja R Harinath.
	Fixes autoconf/118.

2000-03-08  Akim Demaille  <akim@epita.fr>

	Don't dump AC_ARG_PROGRAM help messages if not used.

	* acgeneral.m4 (_AC_INIT_HELP): Don't.
	(AC_ARG_PROGRAM): Do.

2000-03-08  Akim Demaille  <akim@epita.fr>

	Don't dump X help messages when `configure' does not check for X.

	* acgeneral.m4 (_AC_INIT_HELP): Don't dump X help messages.
	* acspecific.m4 (AC_PATH_X): Do it.

2000-03-08  Akim Demaille  <akim@epita.fr>

	No longer rely on /bin/sh to compose the optional parts of
	`configure --help'.

	* acgeneral.m4 (AC_DIVERSION_HELP_BEGIN, AC_DIVERSION_HELP_ENABLE,
	AC_DIVERSION_HELP_WITH, AC_DIVERSION_HELP_VAR,
	AC_DIVERSION_HELP_END): New diversion numbers.
	(AC_EXPAND_ONCE): New macro.
	(AC_PROVIDE_IF): New macro.
	(AC_BEFORE, AC_REQUIRE): Use it.
	(AC_REQUIRE): Don't use indir.
	(_AC_ARG_ENABLE_HELP_PROLOGUE, _AC_ARG_WITH_HELP_PROLOGUE,
	_AC_ARG_VAR_HELP_PROLOGUE): New macros.
	(AC_ARG_ENABLE, AC_ARG_WITH, AC_ARG_VAR): Expand once the
	_HELP_PROLOGUE macro which corresponds.
	(_AC_INIT_HELP): Adjust to AC_DIVERSION_HELP_BEGIN and
	AC_DIVERSION_HELP_END.
	(_AC_INIT_NOTICE, _AC_INIT_HELP): Remove the sh code which handled
	the optional help strings.

2000-03-08  Akim Demaille  <akim@epita.fr>

	AC_OUTPUT_COMMANDS no longer uses a diversion.

	* acgeneral.m4 (AC_DIVERSION_CMDS): Removed.
	(_AC_OUTPUT_CONFIG_STATUS): Don't undivert it.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_INIT_PARSE_ARGS): Fix quoted/non quoted here
	document problems.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_BINSH, AC_INIT_NOTICE, AC_INIT_PREPARE):
	Rename as...
	(_AC_INIT_BINSH, _AC_INIT_NOTICE, _AC_INIT_PREPARE): this.
	All callers adjusted.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Rename as...
	(_AC_INIT_PARSE_ARGS): this.
	Move the display of help and version strings to...
	(_AC_INIT_HELP, _AC_INIT_VERSION): here.
	(AC_INIT): Adjust.  Also, fix quotation.

2000-03-08  Akim Demaille  <akim@epita.fr>

	Some tests are failing with srcdir != builddir, because they can't
	find config.guess, install-sh etc.
	Reported by Erez Zadok.

	* tests/atspecific.m4 (AT_TEST_MACRO): Set AC_CONFIG_AUX_DIR to
	top_srcdir in configure.in, and pass the value of top_srcdir to
	configure.

2000-03-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_ARG_ENABLE, AC_ARG_WITH, AC_PATH_PROG,
	AC_PATH_PROGS, AC_PATH_TOOL, AC_CHECK_TOOL, AC_PREFIX_PROGRAM,
	AC_EGREP_CPP, AC_TRY_LINK, AC_COMPILE_CHECK, AC_TRY_RUN_NATIVE):
	Use ifval instead of ifelse.

2000-03-07 Mark Elbrecht <snowball3@bigfoot.com>

	Support absolute DOS-style paths.

	Any character before the colon is accepted because network drives
	can be assigned characters outside the [a-zA-Z] range. DOS-style
	relative paths (?:foo/bar) are also considered absolute for
	Autoconf's purposes since the path '../?:foo/bar' is invalid.

	* acgeneral.m4 (AC_OUTPUT_FILES): Treat DOS-style paths (?:*') as
	absolute.
	(AC_OUTPUT_SUBDIRS): Likewise.
	(AC_PATH_PROG): Make pattern for matching DOS-style paths the same
	as that used in AC_OUTPUT_FILES and AC_OUTPUT_SUBDIRS.

2000-03-06  Akim Demaille  <akim@epita.fr>

	* tests/atspecific.m4 (m4_match): Remove, no longer used.

2000-03-04  Jim Meyering  <meyering@lucent.com>

	* autoheader.sh: Use `rm -f', not just `rm' when removing temporaries.
	Preserve exit status in trap handler.
	Based on suggestions from Paul Eggert.

2000-03-03  Paul Eggert <eggert@twinsun.com>

	Move the quadrigraphs out of the user name space.

	* acgeneral.m4: 's/\@BKL@/@<:@/g', 's/\@BKR@/\@:>@/g',
	's/\@DLR@/\@S|@/g', 's/\@PND@/@%:@/g'.
	* acspecific.m4: Likewise.
	* autoconf.sh: Likewise.

2000-03-03  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_WHICH_A): New macro.
	(AC_CHECK_PROG): Use it.  Use ifval.
	(AC_CHECK_PROGS): Use ifval.  Fix the quoting.
	* tests/semantics.m4: Test AC_CHECK_PROG.
	* tests/Makefile.am (EGREP_EXCLUDE): Add /AC_CHECK_PROGS?/.

2000-03-02  Russ Allbery  <rra@stanford.edu>

	* autoscan.pl (parse_args): Add support for -m <macrodir>.

2000-03-02  Akim Demaille  <akim@epita.fr>

	The whole family supports -V = --version.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Report and support -V.
	* autoconf.sh: Likewise.
	* autoreconf.sh: Likewise.
	* autoupdate.sh: Likewise.
	* autoheader.sh: Likewise.
	* autoscan.pl: Likewise.
	* ifnames.sh: Likewise.
	In addition, don't dump --help on invalid options.
	* doc/autoconf.texi: Adjusted.
	* doc/install.texi: Likewise.

2000-03-02  Lars J. Aas  <larsa@sim.no>

	* libm4.m4 (m4_noquote): New macro.

2000-03-02  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_PATH_X_DIRECT): Moved all the shell variable
	into the ac_ name space.
	Reported by Nicolas Joly.

2000-03-02  Akim Demaille  <akim@epita.fr>

	* acspecific.m4: Move some macros to a better place.

2000-03-02  Akim Demaille  <akim@epita.fr>

	Internal macros are named `_AC_'.

	* acgeneral.m4 (AC_CANONICAL_TARGET, AC_CANONICAL_BUILD,
	AC_CANONICAL_THING, AC_CHECK_TOOL_PREFIX, AC_CONFIG_UNIQUE):
	Prepend `_' to their names.
	* acspecific.m4 (AC_CHECK_HEADER_DIRENT, AC_CHECK_HEADERS_DIRENT,
	AC_PATH_X_XMKMF, AC_PATH_X_DIRECT): Prepend `_' to their names.
	* doc/autoconf.texi (Macro Names): Adjusted.

2000-03-02  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.

2000-03-01  Akim Demaille  <akim@epita.fr>

	The empty regexp cannot be portably used in egrep's alternation.
	For instance with Digital Unix v5.0:
	   > echo "foo"  | egrep -e "^(|foo|bar)$"
	   > echo "|foo" | egrep -e "^(|foo|bar)$"
	   |foo
	   > echo "|bar" | egrep -e "^(|foo|bar)$"
	   > echo "bar"  | egrep -e "^(|foo|bar)$"
	   bar
	   > echo "bar" | egrep '^(foo|bar|)$'
	   > echo "bar|" | egrep '^(foo|bar|)$'
	   bar|
	   > echo "bar" | egrep '^(foo||bar)$'
	   > echo "|bar" | egrep '^(foo||bar)$'
	   |bar
	   > echo "foo" | egrep '^(foo||bar)$'
	   foo
	   > echo "foo|" | egrep '^(foo||bar)$'
	   >
	Reported by Nicolas Joly.

	* src/actest.m4 (AC_ENV_SAVE): s/(|EXTRA_|PRE_)/(EXTRA_|PRE_)?/.

2000-03-01  Akim Demaille  <akim@epita.fr>

	* acspecific.m4: Removed a few addresses, the map is...
	* THANKS: here.

2000-03-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acspecific.m4 (AC_PATH_XTRA): On LynxOS 3.0.1/i386,
	gethostbyname(), getservbyname(), and inet_addr() are in -lbsd.

2000-03-01  Akim Demaille  <akim@epita.fr>

	* tests/actest.m4 (AC_ENV_SAVE): Use multiple -e instead of
	multiple egrep.

2000-03-01  Akim Demaille  <akim@epita.fr>

	* config.guess: Updated from master repository.
	* config.sub: Likewise.

2000-03-01  Akim Demaille  <akim@epita.fr>

	Test suite: instead of using a full list of the AC macros and an
	AT macro with selects which are the AC macros to test, just
	produce the list of the AC macros we want to test.

	* tests/atspecific.m4 (TEST_MACRO): Removed.
	* tests/Makefile.am (EGREP_EXCLUDE): New variable, performing the
	selection TEST_MACRO used to do.
	(macros.m4): Use it.  Use AT_TEST_MACRO, not TEST_MACRO.  Check
	also AU macros.

2000-03-01  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi: Tune the use of quotes, add missing
	@noindents, remove dead FIXME:s, promote #if ! over #ifndef,
	simplify duplicated text.

2000-03-01  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Configuration Commands): Document
	AC_CONFIG_COMMANDS_PRE and _POST.

2000-02-29  Akim Demaille  <akim@epita.fr>

	Test suite: more debugging information.

	* tests/atspecific.m4 (AT_TEST_MACRO): When verbose, report the
	content of config.log.

2000-02-29  Akim Demaille  <akim@epita.fr>

	* Makefile.am (MAKEINFO): Removed.
	(INSTALL.txt): Call $(MAKEINFO) with --no-split.
	Reported by Nicolas Joly.

2000-02-28  Akim Demaille  <akim@epita.fr>

	* doc/Makefile.am (MAKEINFO): s/makeinfo/@MAKEINFO@/.
	* missing: chmod +x.

2000-02-28  Akim Demaille  <akim@epita.fr>

	* tests/Makefile.am (testsuite): Use $(M4), not m4.
	From Patrick Tullmann.

2000-02-25  Akim Demaille  <akim@epita.fr>

	* src/acgeneral.texi (AC_INIT_NOTICE): Include inttypes.h in the
	ac_includes_default.
	* doc/autoconf.texi (Default Includes): Adjust.

2000-02-25  Akim Demaille  <akim@epita.fr>

	Export the knowledge on disabling echo's trailing new line.

	* acspecific.m4 (AC_PROG_ECHO_N): Rename as...
	(_AC_PROG_ECHO): this.
	Set ECHO_N, ECHO_C, ECHO_T instead of ac_n, ac_c and ac_t.
	All dependencies changed.
	* doc/autoconf.texi (Preset Output Variables): Document ECHO_C,
	ECHO_N and ECHO_T.
	* m4/atconfig.m4 (fp_PROG_ECHO): Removed.
	(AT_CONFIG): Don't use it.

2000-02-24  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (AC_ACLOCALDIR): Use `(aclocal) 2>/dev/null`, not
	`aclocal 2>/dev/null` if you want no complaints for missing
	aclocal.
	From Nicolas Joly.

2000-02-22  Pavel Roskin  <pavel_roskin@geocities.com>

	* configure.in (HELP2MAN): Specify the third argument of
	AM_MISSING_PROG.  Fixes autoconf/116.

2000-02-21  Akim Demaille  <akim@epita.fr>

	* tests/tools.m4 (syntax.sh): The logic of the previous patch was
	twisted.  Fix it so that it performs what claims the entry below.
	From Nicolas Joly.

2000-02-21  Akim Demaille  <akim@epita.fr>

	* tests/tools.m4 (syntax.sh): Exit 1 if you managed to kill the
	child, since it means `/bin/sh -n' went loopy.

2000-02-18  Akim Demaille  <akim@epita.fr>

	Some `diff' refuse to diff with /dev/null, such as Tru64's.
	Reported by Nicolas Joly.

	* tests/atgeneral.m4 (empty): New dummy file.
	Changed various `diff /dev/null' as `diff empty'.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* tests/atspecific.m4 (TEST_MACRO): Don't run AC_PATH_TOOL and
	AC_PATH_PROG.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* tests/atgeneral.m4 (at_diff): Don't use `cmp -s', on DOS it
	differentiate between Unix and DOS EOL. `diff' does not.
	Reported by Eli Zaretski.
	Also, be ready to use a diff that does not support `-u'.

2000-02-18  Akim Demaille  <akim@epita.fr>

	* tests/tools.m4 (Syntax of the scripts): Be robust to shells that
	never return on some `/bin/sh -n foo.sh'.
	Reported by Nicolas Joly.

2000-02-17  Akim Demaille  <akim@epita.fr>

	Move the documentation into doc/.
	Some CVS tricks were used so that history is kept in both the top
	directory, and in doc/.

	* doc/Makefile.am: New file.
	* Makefile.am: Adjusted.
	* configure.in: Adjusted.
	* autoconf.texi: Moved from here to...
	* doc/autoconf.texi: here.
	* make-stdts.texi: Likewise.
	* install.texi: Likewise.
	* texinfo.tex: Likewise.

2000-02-17  Akim Demaille  <akim@epita.fr>

	* tests/actest.m4 (AC_ENV_SAVE): Added ALLOCA.

2000-02-17  Akim Demaille  <akim@epita.fr>

	* tests/semantics.m4 (AC_CHECK_TYPES): `addr, addr' is not
	portable sed: use `addr,addr'.

2000-02-17  Akim Demaille  <akim@epita.fr>

	Fix the `missing dummy.in' reported by the test suite.
	Reported by Erez Zadok.

	* tests/torture.m4 (config.status under extreme conditions):
	Reorganized.  Because files required by this test were created
	outside the pair AT_SETUP/AT_CLEANUP, when the test fails and
	autotest extracts this test, the `debug' script does not contain
	the files it needs.  Now AT_SETUP/AT_CLEANUP encloses the full
	auto contained section.

2000-02-16  Akim Demaille  <akim@epita.fr>

	* tests/actest.m4 (AC_ENV_SAVE): X_EXTRA_LIBS can be changed by
	AC_PATH_EXTRA.
	Reported by Erez Zadok.

2000-02-15  Akim Demaille  <akim@epita.fr>

	Define HAVE_DECL_FOO both to 1 if found and 0 otherwise.

	* acgeneral.m4 (AC_CHECK_DECLS): Define HAVE_DECL_FOO to 1 instead
	of NEED_FOO_DECL if found.  Define to 0 if not found.
	* autoheader.m4 (AC_CHECK_DECLS): Template HAVE_DECL_FOO.
	* tests/semantics.m4 (AC_CHECK_DECLS): Adjusted.
	* doc/autoconf.texi (Generic Declarations): Adjusted.

2000-02-15  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Generic Structures):
	s/AC_FATAL/AC_MSG_ERROR.

2000-02-15  Akim Demaille  <akim@epita.fr>

	autoreconf had a silly syntax error, test it and fix it.
	Reported by Franc,ois Pinard and Rainer Orth.

	* autoreconf.sh: Removed spurious `;;'.
	Formatting changes.
	* tests/tools.m4 (Syntax of the scripts): Run `sh -n' on all the
	shell scripts.

2000-02-15  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (options handling): --v* of --version was shadowing
	--verbose.

2000-02-11  Akim Demaille  <akim@epita.fr>

	* tests/torture.m4: Nuke the trailing space in defs.

2000-02-11  Akim Demaille  <akim@epita.fr>

	* tests/atspecific.m4: Really added to the CVS repository.

2000-02-11  Akim Demaille  <akim@epita.fr>

	Don't use `cat -s' to single out new-lines, it is not portable.
	Also remove trailing blanks.

	* tests/Makefile.am (testsuite): Use sed instead of cat.
	* tests/torture.m4: No longer check for a trailing space.
	* autoconf.sh: Likewise.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* tests/actest.m4 (AC_ENV_SAVE): OpenBSD-2.3's /bin/sh defines an
	envvar SECONDS which does change with time.
	KMEM_GROUP is set by AC_FUNC_GETLOADAVG.
	Reported by Volker Borchert.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* tests/Makefile.am (macros.m4): Better regex to build `macro'.
	Depend upon acgeneral.m4.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* autoheader.sh: Remove the duplicate trap code.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT): When dispatching your arguments, use
	ifval, not ifset!
	Dispatch actions to AC_CONFIG_COMMANDS not AC_OUTPUT_COMMANDS, to
	avoid unneeded warnings for obsolete use of AC_OUTPUT_COMMANDS.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_VERBOSE): This is a tab, not spaces.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Changequote busters II.
	They're back to save the world.

	* acspecific.m4 (AC_PROG_CC_C_O, AC_PROG_F77_C_O,
	AC_PROG_MAKE_SET, AC_TYPE_GETGROUPS, AC_FUNC_GETLOADAVG,
	AC_FUNC_MKTIME, AC_STRUCT_TIMEZONE, AC_F77_LIBRARY_LDFLAGS): Blast
	that jelly o' changequote.  Set the quotes free.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Interrupting autoheader left temp files.
	From Jim Meyering.

	* autoheader.sh (usage): The usage is to use $0 here.
	(ah_base): Be in TMPDIR.
	Install the `trap' before creating the first tmp file.
	Also trap on 0.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): This is a routine of
	`configure', not `config.status', hence use `conftest' for tmp
	files, not `$ac_cs_root'.
	Removed forgotten developer comment.
	Double quoting the whole body is nicer than just the part that
	needs to be.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* tests/torture.m4: Also check the value of @DEFS@ when no
	CONFIG_HEADER is used.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Changequote-busters!
	From Dan Ackroyd.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS, AC_INIT_PREPARE,
	AC_CACHE_SAVE, AC_PREFIX_PROGRAM, AC_OUTPUT,
	_AC_OUTPUT_CONFIG_STATUS, AC_OUTPUT_MAKE_DEFS, AC_OUTPUT_FILES,
	_AC_OUTPUT_HEADERS, AC_OUTPUT_LINKS, AC_OUTPUT_SUBDIRS): Quit
	playing with changequotes, @BKL@ and Co.!  Just quote properly.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Honor properly the `#define' config.h.in templates.
	Test it.

	* acgeneral.m4 (AC_OUTPUT_HEADERS): Rename as...
	(_AC_OUTPUT_HEADERS): this.  All callers changed.
	Don't mess with changequote, just quote properly.
	Bug 1.  Because of the `#' in `ac_dA', the quotes <<>> were not
	removed, and therefore the sed script contained `<<define>>'
	instead of `define'.  Now that the block is properly quoted, there
	is no need to quote `define'.
	Bug 2.  Once a `#define' substitution performed, we were branching
	to the top of the sed script (`t top').  This resulted in an
	endless substitution of `#define foo 1' to `#define foo 1'.
	Branching is not enough: you also have to fetch the next input
	line, i.e., use `t' instead of `t t' in ac_dD, and don't output
	`: top' in `config.defines'.
	Though it was correct for `#undef' templates, just apply the same
	transformation to `ac_uD' and `config.undefs'.
	Bug 3.  Don't try to preserve what was behind the value in the
	template, since on
		#define NAME "bar baz"
	it leads to
		#define NAME 1 baz"
	Now `ac_dB' catches everything behind the NAME (making sure there
	is at least a space) and `ac_dC' only outputs a space.
	* tests/torture.m4: Check that various forms of `#define' header
	templates are properly handled.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Avoid calling `rm' without arguments.

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): It is smarter to use a
	quoted here doc to output the section providing defaults for
	CONFIG_*.
	Don't rm the CONFIG_FILES here but in..
	(AC_OUTPUT_FILES) [test -n "$CONFIG_FILES"]: here.
	Hm, actually, no, just don't remove them at all, let the newly
	created files replace the old ones, exactly as in
	AC_OUTPUT_HEADERS.
	From Graham Jenkins.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_LIST_MEMBER_OF): s/ac_$exists/$ac_exists/!

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (_AC_OUTPUT_CONFIG_STATUS): Don't
	  : ${FOO="$foo"}
	but
	  : ${FOO=$foo}
	Since Ultrix will also assign the quotes to FOO.
	Reported by Harlan Stenn.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Keep `AC_CHECK_TYPE' backward compatibility and provide a proper
	`AC_CHECK_TYPE',
	Based on ideas from Paul Eggert and Alexandre Oliva.

	* acgeneral.m4 (AC_CHECK_TYPE_INTERNAL): Rename as...
	(_AC_CHECK_TYPE_NEW): this.
	(AC_CHECK_TYPES): Adjusted.
	(AC_CHECK_TYPE): Rename as...
	(_AC_CHECK_TYPE_OLD): This.  Adjusted to _AC_CHECK_TYPE_NEW.
	No longer support extra includes, stick to 2.13's interface.
	(_AC_CHECK_TYPE_BUILTIN_P): New macro.
	(AC_CHECK_TYPE): New macro.
	* autoheader.m4 (autoheader::AC_CHECK_TYPE): Rename as...
	(autoheader::_AC_CHECK_TYPE_OLD): this.
	* tests/atspecific.m4 (TEST_MACRO): Skip /^_AC_/ macros.
	* tests/semantics.m4: Test the choices of AC_CHECK_TYPE (wrt _NEW
	or _OLD implemenation).
	* doc/autoconf.texi (Generic Types): Reorganized.  Explain
	everything about AC_CHECK_TYPE and Co.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* libm4.m4 (near m4_split): Remove the buggy additional
	changequote.
	Quote properly `m4_split' when registering it.

2000-02-10  Akim Demaille  <akim@epita.fr>

	The AU-glue code for AC_LINK_FILES was not fully compatible: in
	  AC_LINK_FILES($from, $to)
	`$from' and `$to' can be lists, hence `AC_CONFIG_LINKS($to:$from)'
	is wrong.
	Reported by H.J. Lu.

	* acgeneral.m4 (AC_LINK_FILES): Replace the m4-glue code from
	AC_LINK_FILES to AC_CONFIG_LINKS, with sh-glue code.
	Give a detailed update message.
	(_AC_LINK_FILES_CNT): New variable.  Initialize.
	* tests/tools.m4 (autoupdate): No longer exercise `autoupdate'
	with AC_LINK_FILES.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_PROG_SED): Removed.

2000-02-10  Akim Demaille  <akim@epita.fr>

	AC_CHECK_FILES has never worked properly.

	* acgeneral.m4 (AC_CHECK_FILE): Use AC_CACHE_CHECK.
	* autoheader.m4 (AC_CHECK_FILES): AH-define.
	* tests/semantics.m4: Test AC_CHECK_FILES.
	* tests/atspecific.m4 (TEST_MACRO): Don't.

2000-02-10  Akim Demaille  <akim@epita.fr>

	No longer use a diversion to store the sed program implementing
	AC_SUBST.

	* acgeneral.m4 (_AC_SUBST): New macro.
	(_AC_SUBST_SED_PROGRAM): Initialize.
	(AC_SUBST): Use _AC_SUBST.
	(AC_SUBST_FILE): Likewise.
	(AC_DIVERSION_SED): Removed.  Renumber the AC_DIVERSIONs.
	(AC_OUTPUT_FILES): Instead on undiverting AC_DIVERSION_SED, output
	_AC_SUBST_SED_PROGRAM.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Standardize the error messages in the options handling of
	`configure' and `config.status'.

	* acgeneral.m4 (AC_OUTPUT_CONFIG_STATUS): Rename as...
	(_AC_OUTPUT_CONFIG_STATUS): this.
	Change the error messages from
	  value: invalid feature name
	to
	  invalid feature: value
	Invite the user to try --help for invalid options.
	(AC_INIT_PARSE_ARGS): Likewise.

2000-02-10  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT_COMMANDS_COMMANDS): Rename as...
	(_AC_OUTPUT_COMMANDS): This.  All callers changed.
	Disable the verbose message until Automake uses the new features
	of `config.status'.
	Reported by Jim Meyering.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Clean up a few changequotes.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Instead of using changequote
	to protect a few `[ ]', double quote the constant sections.

2000-02-10  Akim Demaille  <akim@epita.fr>

	Restore AC_HAVE_LIBRARY.

	* acgeneral.m4 (AC_HAVE_LIBRARY): AU_DEFUNed in terms of
	AC_CHECK_LIB.
	* doc/autoconf.texi (Libraries): Document.

2000-02-09  Akim Demaille  <akim@epita.fr>

	Fix the handling of `./configure foo=bar' and test it.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS, getopt loop): Always define
	ac_optarg as the rhs of the first `=', not only on `-.*=', so that
	`configure var=val' defines ac_optarg=val.
	Improve the robustness to shell special characters:
	 - Use grep when checking that shell variable names are valid.
	 - Quote the quotes in ac_optarg before `eval var='$ac_optarg''.
	 - Quote the quotes when building ac_configure_args.

	* tests/torture.m4: Test that `./configure foo=bar' works properly.

2000-02-09  Akim Demaille  <akim@epita.fr>

	Resynchronize `INSTALL' with the current `configure', and
	conversely...

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Let `configure' support `-h =
	--help' and `-n = --no-create'.
	Document -h, -n and -q in configure's help message.
	* install.texi (Operation Controls): Formatting changes.
	Document `configure -h'.

2000-02-09  Akim Demaille  <akim@epita.fr>

	* README: Updated.

2000-02-09  Akim Demaille  <akim@epita.fr>

	* ChangeLog.1: Formatting changes.

2000-02-09  Akim Demaille  <akim@epita.fr>

	Clean up `make clean'.

	* Makefile.am (CLEANFILES): Added autoupdate.m4f and autoconf.tmp.
	* tests/torture.m4: Rm dummy and dummy.in.

2000-02-09  Akim Demaille  <akim@epita.fr>

	Test `autoupdate'.

	* tests/tools.m4 (AH_DEFUN): Fix the comments.
	Quote properly.
	(autoupdate): New test.

2000-02-09  Akim Demaille  <akim@epita.fr>

	AU_ glue code for AC_OUTPUT with arguments.

	* acgeneral.m4 (AU_DEFINE): New macros, pulled out from AU_DEFUN.
	Defines a macro in `autoupdate::' with all the required wrapping
	for `autoupdate'.
	(AU_DEFUN): Use it.
	(AC_OUTPUT): When dispatching your arguments, use ifval, not
	ifset!
	Dispatch actions to AC_CONFIG_COMMANDS not AC_OUTPUT_COMMANDS, to
	avoid unneeded warnings for obsolete use of AC_OUTPUT_COMMANDS.
	(autoupdate::AC_OUTPUT): New macro.
	* doc/autoconf.texi (Writing configure.in, the example): Don't
	advocate AC_OUTPUT with args.
	(Output, AC_OUTPUT with args): Simplify the documentation, and
	provide the translation into the new scheme.
	Propagate what remained into the proper sections.

2000-02-09  Akim Demaille  <akim@epita.fr>

	AU_ glue code for AC_OUTPUT_COMMANDS.

	* acgeneral.m4 (AC_OUTPUT_COMMANDS): AU_DEFUNed in terms of
	AC_CONFIG_COMMANDS.
	(AC_OUTPUT_COMMANDS_CNT): New variable, declared both in
	`autoconf::' and `autoupdate::'.
	(AC_OUTPUT): Register your arguments to AC_OUTPUT_COMMANDS only if
	there are to avoid spurious `run autoupdate' messages.
	* doc/autoconf.texi (Libraries): Document the changes.

2000-02-09  Akim Demaille  <akim@epita.fr>

	Avoid outputting `config_files' code in `config.status' if there
	are none.

	* acgeneral.m4 (AC_OUTPUT): Don't register $1 to `AC_CONFIG_FILES'
	if $1 is empty.
	Normalize the names of the sections in `config.status --help'.

2000-02-09  Akim Demaille  <akim@epita.fr>

	* README-alpha: New file, based on Automake's.
	* Makefile.am: Tuned.

2000-02-09  Akim Demaille  <akim@epita.fr>

	Extend the concept of `INIT-CMDS' to the AC_CONFIG_FOOS.

	* acgeneral.m4 (_AC_CONFIG_COMMANDS_INIT): New macro which will
	collect the `INIT-CMDS'.
	(AC_CONFIG_COMMANDS, AC_CONFIG_LINKS, AC_CONFIG_HEADERS,
	AC_CONFIG_FILES): Use it, and also temporarily divert to -1
	instead of spamming dnl everywhere.
	(AC_OUTPUT_CONFIG_STATUS): Make sure to output the INIT-CMDS
	before the other sections, it'd be a pity to initialize after the
	use :).

	* doc/autoconf.texi (Configuration Actions): New section,
	documenting the common behavior of AC_CONFIG_FILES,
	AC_CONFIG_HEADERS, macro AC_CONFIG_COMMANDS, and AC_CONFIG_LINKS.
	(Configuration Files): Document $2 and $3 of AC_CONFIG_FILES.
	(Configuration Headers): Document $2 and $3 of AC_CONFIG_HEADERS.
	(Configuration Commands): Document $2 and $3 of AC_CONFIG_COMMANDS.
	(Configuration Links): Document $2 and $3 of AC_CONFIG_FILES.

2000-02-09  Akim Demaille  <akim@epita.fr>

	* libm4.m4 (m4_sign, m4_cmp, m4_list_cmp): New macros.
	* acgeneral.m4 (AC_UNGNITS): Rename as...
	(_AC_VERSION_UNLETTER): this.  All callers changed.
	Implement the scheme proposed by Alexandre Oliva:
		Nl -> (N+1).-1.(l#)
	(_AC_VERSION_COMPARE): New macro.
	(AC_PREREQ): Use it.

2000-02-09  Akim Demaille  <akim@epita.fr>

	* tests/base.m4: Really added to the CVS repository.
	* tests/tools.m4: Likewise.

2000-02-09  Akim Demaille  <akim@epita.fr>

	* tests/base.m4: s/m4 -I ../m4 -I $at_top_srcdir/.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* autoheader.sh (debug): Initialize to `false', not 0.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Fix a bug: `libm4::define' was incorrectly registered.

	* libm4.m4 (libm4::define): Not only register, define too.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_COMPILE_CHECK): Use AU_DEFUN, remove the call
	to AC_OBSOLETE.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PROVIDE): Use `m4_define', not `define'.
	Because of the names pace machinery this change makes `autoconf'
	about four times faster on complex `configure.in's.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Open the access to AH_ to users.

	* autoheader.m4 (autoheader::AH_DEFUN): New macro.
	* tests/tools.m4: New file, in charge of testing the scripts.
	All the dependencies adapted.
	* tests/actest.m4 (autoheader::AC_TATOOINE): New macro, used while
	testing autoheader.
	* tests/atspecific.m4: Create config.hin instead of config.h.in.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Because of commas and brackets, m4_split must mess with the
	quotes.

	* libm4.m4 (m4_split): Quote the elements of the list you produce.
	* tests/base.m4: New file, testing libm4.
	All callers adapted.
	Test m4_wrap.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CONFIG_UNIQUE): Strip the `:foo.in' part
	yourself, in order to give better error messages.
	(AC_CONFIG_IF_MEMBER): Adapted to the above change.
	Quote some regexp active characters ([+.*]).
	Suggested by Alexandre Oliva.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INCLUDES_DEFAULT): Make it more robust to
	the fact it is used non quoted.
	Reported by Jim Meyering.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT_FILES): Simplify some excess in
	changequote.
	(AC_OUTPUT_SUBDIRS): Likewise.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* autoupdate.sh: Don't dump --help on --wrong-option.
	* autoconf.sh: Reformatting, and use >&2 instead of 1>&2.
	* autoreconf.sh: Likewise.
	* autoheader.sh: Likewise.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* libm4.m4 (m4_namespace_push, m4_namespace_pop): Use the private
	macros to be robust to name space changes.
	(m4_popdef, m4_pushdef): New private macros.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Let the doc catch up.

	* doc/autoconf.texi (Common Behavior): New section, to document
	the common behavior of the macros.
	(Standard Symbols): New subsection.  Describes the transformation
	of the AC_DEFINEd names.
	(Default Includes): New subsection.  Obvious content.
	All the ``callers'' updated.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT_HEADERS): Don't use `break' to exit the
	while loops which are breaking conftest.defines and
	conftest.undefs into smaller snippets: just use the proper
	condition for the while.
	Suggested by Alexandre Oliva.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Configuration Commands): New section, for
	AC_CONFIG_COMMANDS.
	Move the definition of AC_OUTPUT_COMMANDS here.
	(Configuration Links): New section, for AC_CONFIG_LINKS and
	AC_LINK_FILES.
	(Configuration Files): New section, for AC_CONFIG_FILES.
	(Globally) Promote AC_CONFIG_HEADERS over AC_CONFIG_HEADER.
	(Using System Type): Don't document AC_CONFIG_LINKS and
	AC_LINK_FILES.
	(Invoking config.status): Mention CONFIG_COMMANDS.
	Document --file and --header.
	Talk first of the newest interface of config.status.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Introduce a concept index, and update a bit the documentation.

	* doc/autoconf.texi (Concept Index): New section.
	Various entries added.
	(Typedefs): Rename as...
	(Types): this.  Pay attention to not limiting the documentation to
	the typedefs.
	(Particular Types): Mention the equivalent generic test.
	Promote the GNU coding style at various places.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Revamp the autoupdate/AC_OBSOLETE chain.  All the details are
	given in the prologue of acoldnames.m4.

	* acgeneral.m4 (Prologue): Enter the `autoconf' name space.
	(AU_DEFUN): New macro.

	* autoupdate.m4: New file.
	Disable the name spaces `autoconf', and `libm4'.  Disable libm4.
	* Makefile.am: Tuned to support the changes above.

	* autoupdate.sh: Model after autoconf.sh.
	Can run on several files at once (for instance m4/*.m4).
	Don't touch files that are up to date.
	Run m4 on autoupdate.m4f instead of playing with sed.


	Use AU_DEFUN.

	* acgeneral.m4 (AC_LINK_FILES, AC_ENABLE, AC_WITH): Use AU_DEFUN,
	remove the call to AC_OBSOLETE.
	* acspecific.m4 (AC_CYGWIN32): Likewise.
	* acoldnames.m4: Replaced all the definitions via `define' or
	`AC_DEFUN' to use `AU_DEFUN'.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Clean up some m4 files.

	* acoldnames.m4: Use `#', not `dnl'.
	Don't spread `dnl' everywhere, anyway, we are in a divert(-1).
	* autoconf.m4: Likewise.
	* autoheader.m4: Likewise.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Clean up autoconf.

	* autoconf.sh: Minor reorganizations to clearly separate the
	prologue, which is almost common to all the shell scripts of
	Autoconf, and the body.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Improve support of name spaces in libm4.  Put the m4 builtins
	in the `libm4' name space.

	* libm4 (m4_changequote, m4_define, m4_defn, m4_dnl, m4_indir,
	m4_undefine): Private copies in the global name space.  Used by
	the name space mechanisms.
	(m4_namespace_register): New macro.
	(m4_namespace_define): Use it.
	(builtin, changequote, defn, dnl, esyscmd, ifdef, ifelse, indir,
	patsubst, popdef, pushdef, regexp, undefine, syscmd, sysval): Put
	in the `libm4' name space.
	(m4_disable, m4_enable): Use the private m4_indir, otherwise once
	`libm4' closed, there is no `indir' available, and therefore no
	means to reopen a name space.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Output really nothing if AC_INIT was not given.  Unconditional
	output can be problematic with autoupdate.

	* acgeneral.m4 (AC_INIT_NOTICE): Output ac_includes_default.
	(Default includes section): No longer dump ac_includes_default in
	AC_DIVERSION_INIT.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* libm4.m4 (m4_namespace_define): Fix a bug: `m4_namespace'
	instead of `$1'.
	Simplify some excess in quoting.
	Use NAMESPACE::MACRONAME instead of `m4_defn(NAMESPACE,
	MACRONAME)'.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Adapt autoheader to use libm4's name spaces.

	* autoheader.m4 (AH_HOOK): Removed.
	(AH_DEFUN): Define in the `autoheader' name space.
	Use only AH_DEFUN to define macros in this file.
	(epilogue): No longer run the `AH_HOOKS', enter the `autoheader'
	name space.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Clean up a bit the user interface.

	* autoconf.sh: Give your name while reporting errors.
	Don't spit --help for errors on arguments.
	* autoreconf.sh: Likewise.
	* autoheader.sh: Likewise.
	More temporary files that one can browse when debugging.
	Don't ${var}, just $var.
	Don't dump --help when the arguments are invalid.
	(config_h): Use the empty value instead of `undefined' to check
	that it is defined.
	* acspecific.m4: Formatting changes.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Introduce name spaces in libm4.

	* libm4.m4 (m4_namespace_push, m4_namespace_pop,
	m4_namespace_define, define, m4_disable, m4_enable, m4_rename):
	New macros.
	(_m4_foreach, _m4_for, m4_wrap): Use m4_define for temporaries.
	(m4_split): Don't mess with the quotes.

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS, AC_OUTPUT_HEADERS): Quote
	`define'.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* doc/autoconf.texi (Introduction): m4 1.4 is now required.
	(Invoking autoconf): A better help on --trace.
	(Defining Symbols): Advocate a proper use of the quotes in m4
	code, including if the quotes are sometimes useless.  It is bad,
	very bad not to quote properly, so quote all the examples
	properly.
	(Cache Files): Use a unary call to define, instead of an empty
	$2.
	(Using System Type): Watch out TeX wrapping.
	(Pretty Help Strings): Don't give too long a snippet of --help.
	Promote the coding style of Autoconf.  Quote properly.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PRO): Use AC_PROVIDE instead of defining
	yourself.  This allows to see everything that is AC_PROVIDEd via
	autoconf --trace.
	(AC_SPECIALIZE): define'd, not AC_DEFUN'd.
	(AC_PROVIDE): Use define with a single arg, instead of an empty $2.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (ac_includes_default): Don't use simple quotes, but
	doubles quotes if you want to use \-continuation lines: this is
	not recognized by MIPS' sh.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4. Formatting changes.
	* acspecific.m4: Likewise.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CONFIG_HEADERS, AC_CONFIG_LINKS,
	AC_CONFIG_SUBDIRS): A space was missing to separate the arguments
	of m4_append.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Arrange that config.status creates the file with the AC_SUBSTing
	engine only if needed.

	* acgeneral.m4 (AC_OUTPUT_FILES): Create the sed code only if test
	-n "$CONFIG_FILES".

2000-02-08  Akim Demaille  <akim@epita.fr>

	Promote AC_LANG_CASE.

	* acgeneral.m4 (AC_TRY_COMPILER, AC_TRY_LINK_FUNC, AC_CHECK_LIB,
	AC_TRY_COMPILE, AC_TRY_LINK, AC_TRY_RUN_NATIVE, AC_CHECK_FUNC):
	Use AC_LANG_CASE instead of ifelse (AC_LANG, ...).
	(AC_TRY_LINK_FUNC): Quote the body the the AC_DEFUN (whoa, how
	could this survive so long?!?).

2000-02-08  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Use the style we promote.

	* doc/autoconf.texi (Header Templates): Promote #if over #ifdef;
	and #undef over #define in templates.
	* acspecific.m4 (AC_DECL_SYS_SIGLIST, AC_FUNC_MMAP,
	AC_FUNC_SETPGRP, AC_FUNC_VFORK, AC_FUNC_SELECT_ARGTYPES): Use #if,
	not #ifdef and #ifndef, indent CPP directives.

2000-02-08  Akim Demaille  <akim@epita.fr>

	Quote properly AC_SHELL_IFELSE and callers.

	* acgeneral.m4 (AC_SHELL_IFELSE): Don't overquote $1.
	(AC_VAR_IF_SET, AC_CHECK_MEMBER, AC_CHECK_LIB, AC_CHECK_HEADER,
	AC_CHECK_DECL, AC_CHECK_FUNC, AC_CHECK_TYPE_INTERNAL): Quote the
	first argument of AC_SHELL_IFELSE.

2000-02-08  Akim Demaille  <akim@epita.fr>

	It seems quite delicate to have AC_INCLUDES_DEFAULT insert the
	default headers in the INIT section of configure: the reason is
	that AC_INCLUDES_DEFAULT is called unquoted, and this results in
	an un expected behavior.  Thanks to Roman V. Shaposhnick for the
	details.

	The current implementation is not satisfying: the default headers
	are defined in the INIT section even if they are not used.

	* acgeneral.m4 (Prologue of AC_INCLUDES_DEFAULTS): Dump the
	definition of ac_includes_default in the INIT section of
	configure.
	(AC_INCLUDES_DEFAULTS): Use it.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* TODO: Updated.
	* THANKS: Updated.

2000-02-08  Akim Demaille  <akim@epita.fr>

	* libm4.m4 (m4_for): New macro.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Stay in Autoconf's name space.

	* acspecific.m4 (AC_F77_LIBRARY_LDFLAGS): Prefixed with 'ac_':
	arg, save_arg, i, seen, previous_arg, ld_run_path.
	Rename f77_link_output as ac_link_output.
	* tests/actest.m4 (AC_ENV_SAVE): Don't note F77, FFLAGS, FLIBS,
	G77, f77_case, f77_underscore.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Use `#' for comments instead of `dnl'.
	Better highlighting of the sections in the sources.

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.
	* autoheader.m4: Likewise.
	* acoldnames.m4: Likewise.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Create libm4.m4.

	* Makefile.am: Adjusted for libm4.m4.

	* acgeneral.m4 (m4_errprint, m4_warn, m4_fatal, m4_prefix,
	m4_eval, m4_shift, m4_format, m4_include_unique, m4_include,
	m4_sinclude, m4_quote, m4_split, m4_join, m4_strip, m4_append,
	m4_list_append, ifval, ifset, m4_default, m4_case, m4_match,
	m4_foreach): Moved from here, to...
	* libm4.m4: here.
	* acgeneral.m4 (AC_WRAP): Moved from here, to...
	* libm4.m4 (m4_wrap): here.  All callers changed.

	* acgeneral.m4: Don't include acversion.m4.
	* autoconf.m4: Include libm4.m4 and acversion.m4.
	* autoheader.m4: Likewise.

2000-02-07  Akim Demaille  <akim@epita.fr>

	AC_CHECK_SIZEOF: Fix a bug, use standard default headers, and
	test.

	* acgeneral.m4 (AC_CHECK_SIZEOF): Don't over quote $1, some []
	were left in the C code, and had the macro fail.
	Use AC_INCLUDES_DEFAULT.
	* doc/autoconf.texi: Mention default includes.  Explain stdio.h
	must always be given.

	* tests/atspecific.m4 (TEST_MACRO): Updated the list of
	exceptions.
	(AT_CHECK_DEFINES): New macro, to check the content of config.h.
	* tests/semantics.m4: All the tests are updated to use
	AT_CHECK_DEFINES.
	Test AC_CHECK_SIZEOF, AC_CHECK_HEADERS, and AC_CHECK_FUNCS.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Give explicit diagnostics when an input file (for config headers;
	config files etc.) does not exist.
	From Jim Meyering.

	* acgeneral.m4 (AC_OUTPUT_FILES, AC_OUTPUT_HEADERS): Check for the
	existence of source files.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Torture test config.status, AC_SUBST and AC_DEFINE.

	* tests/torture.m4: New file.
	* tests/suite.m4: Include it.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* tests/atspecific.m4 (m4_for, m4_foreach): New macros.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_TYPE_INTERNAL): Instead of defining an
	unused pointer to the type $1, use
	if (($1 *) 0) return 0;
	to avoid warnings from the compiler.
	From Paul Eggert.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INCLUDES_DEFAULT): Include sys/types.h
	Reported by Jim Meyering.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* tests/atspecific.m4: New file, for AT macros specific to
	Autoconf testing.
	* tests/suite.m4 (AT_TEST_MACRO): Moved to
	* tests/atspecific.m4 (AT_TEST_MACRO): here.
	* tests/syntax.m4 (TEST_MACRO): Moved to
	* tests/atspecific.m4 (TEST_MACRO): here.  Don't test /^AC_INIT/,
	nor /^AC_PROG_\(CC\|CXX\|F77\)_\(GNU\|WORKS\)$/: they are already
	tried elsewhere.
	* tests/Makefile.am: Adjusted.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (m4_case): Fixed a typo and a bug: one shift was
	missing.
	(m4_match): New macro.
	* tests/atgeneral.m4 (AT_CASE): Fixed.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_F77_LIBRARY_LDFLAGS): Don't use FFLAGS_SAVE
	but ac_save_FFLAGS.
	(AC_F77_NAME_MANGLING): Don't use foo_bar but ac_foo_bar.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_C_INLINE): Proceed as for AC_C_CONST:
	condition out the test case if __cpluscplus.
	Don't document the autoheader template twice, one is enough.
	* autoheader.m4 (AC_CONFIG_HEADER): don't hook on this guy, but
	on...
	(AC_CONFIG_HEADERS), since the former is defined on the latter.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_TYPE_INTERNAL): Use the scheme proposed
	by Alexandre Oliva for testing the definition of TYPE:
	TYPE *foo;
	sizeof (TYPE);

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_C_CONST): Don't changequote, there is no need
	for it.  Just quote properly!
	condition out the test case if __cpluscplus.
	AC_REQUIRE AC_PROG_CC_STDC.
	Fix slightly the display of the result (formerly the first run
	says `none needed', and later, because of the cache `no').
	(AC_C_INLINE, AC_C_VOLATILE): AC_REQUIRE AC_PROG_CC_STDC.
	* doc/autoconf.texi (AC_C_CONST): Give a few hints on the
	motivation for trusting the C++ compilers.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* tests/atgeneral.m4: Updated.
	(AT_CASE): new macro.
	(AT_CHECK): Use it.  Don't changequote for patsubst, there is no
	need.
	* tests/syntax.m4 (TEST_MACRO): Don't run AC_ARG_VAR.
	Reported by Jim Meyering.
	Use AT_CASE.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Test that the macros respect the user variable name space.

	* acgeneral.m4 (AC_CANONICAL_THING): define, not AC_DEFUN.
	Don't AC_PROVIDE, there is no need.
	When calling `config.sub`, also || exit 1, to catch failures from
	config.sub.
	* acspecific.m4 (AC_SYS_LONG_FILE_NAMES): Use ac_val, not val.
	(AC_EXEEXT): Use ac_file, not file.
	* tests/actest.m4: New file, holding extra Autoconf macros used
	during the testing.
	(AC_ENV_SAVE): New macro, save the sh variables in a file.
	* tests/suite.m4 (AT_TEST_MACRO, Generation of configure.in):
	include actest.m4, and call twice AC_ENV_SAVE to compare the
	variables before and after the macro.
	* tests/Makefile.am (macro.m4): Don't test macros that are
	required: they will be tested somewhere else.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4(AC_CONFIG_PRE_COMMANDS, AC_CONFIG_POST_COMMANDS):
	Rename as AC_CONFIG_COMMANDS_PRE, AC_CONFIG_COMMANDS_POST.  All
	dependencies changed.
	From Jim Meyering.

2000-02-07  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.

2000-02-07  Akim Demaille  <akim@epita.fr>

	Start a new series of tests which check the semantics.

	* acgeneral.m4 (AC_CHECK_MEMBER): It is not smart to define
	ac_Foo, and use AC_Foo.  Got rid of AC_Member_Aggregate and
	AC_Member_Member which were complicating more than simplifying.
	(AC_CHECK_DECLS): Use m4 lists.
	(AC_CHECK_TYPES): A comma was missing.
	* autoheader.m4: (AC_CHECK_DECLS): Use m4 lists.
	* doc/autoconf.texi (Generic Declarations): AC_CHECK_DELCS uses m4
	lists.
	* tests/semantics.m4: New file.  Collection of semantical tests:
	verify that the tests are positive and negative when appropriate.
	Test AC_CHECK_MEMBERS, AC_CHECK_DECLS and AC_CHECK_TYPES.

2000-02-04  Akim Demaille  <akim@epita.fr>

	* tests/Makefile.am (macros.m4): Fix the sed snippet.

2000-02-04  Akim Demaille  <akim@epita.fr>

	* testsuite/autoconf.g/init.exp: Removed, test performed by
	tests/syntax.m4.
	* testsuite/autoconf.g/sizeof.exp: Likewise.
	* testsuite/autoconf.s/defines.exp: Likewise.
	* configure.in (AC_OUTPUT): Adjusted.
	* Makefile.am (SUBDIRS): Adjusted.

2000-02-04  Akim Demaille  <akim@epita.fr>

	* tests/syntax.m4: Test AC_CHECK_SIZEOF.
	* tests/Makefile.am (CLEANFILES, DISTCLEANFILES): Adjusted.
	(macros.m4): Use tmp dest files ($@-t), not directly `$@'.

2000-02-04  Akim Demaille  <akim@epita.fr>

	Hide AH_HOOK behind AH_DEFUN.

	* autoheader.m4 (AH_DEFUN): New macro.  Combination of define and
	AH_HOOK.
	(AC_TRY_RUN, AC_DEFINE, AC_DEFINE_UNQUOTED, AC_CHECK_LIB,
	AC_CHECK_HEADERS, AC_CHECK_HEADERS_DIRENT, AC_CHECK_DECLS,
	AC_CHECK_FUNCS, AC_CHECK_SIZEOF, AC_PROG_LEX, AC_CHECK_MEMBERS,
	AC_CHECK_TYPE, AC_FUNC_ALLOCA, AC_CHECK_TYPES, AC_C_CHAR_UNSIGNED,
	AC_AIX, AC_F77_WRAPPERS, AC_CONFIG_HEADER): All the former calls
	to define and AH_HOOK in autoheader.m4 are replaced by AH_DEFUN.

2000-02-04  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_RSH, AC_ARG_ARRAY, AC_HAVE_POUNDBANG): No use
	to hide, you are DEFUNCT.

1999-11-14  Akim Demaille  <akim@epita.fr>

	* autoconf.texi (Invoking ifnames): ifnames no longer supports
	--macrodir.

1999-11-13  Akim Demaille  <akim@epita.fr>

	Run the `syntax' test on acgeneral macros too.
	Fix the bugs discovered.

	* acgeneral.m4 (AC_CANONICAL_THING): Quote the
	AC_REQUIRE([AC_CANONICAL_HOST]).  Bug triggered by the use of
	AC_CANONICAL_BUILD alone in configure.in.  Also, quote the
	arguments of macros (eg, ifelse([$1]...), not ifelse($1...)).
	(m4_case): New macro.
	(AC_LINKER_OPTION): Don't clash with user's name space
	(s/i/ac_link_opt).
	(AC_LIST_MEMBER_OF).  You mean AC_FATAL, not AC_MSG_ERROR.
	Quote properly the argument.
	dnl out the empty lines that result from m4 pure code.
	Don't pollute the user name space.
	Use AC_SHELL_IFELSE.
	(AC_F77_NAME_MANGLING): Don't use `test -o'.  There are still
	name space problems.
	* tests/Makefile.am (macros.m4): Also fetch the macros from
	acgeneral.m4.

1999-11-13  Akim Demaille  <akim@epita.fr>

	Really install this patch.

	* acgeneral.m4 (AC_MSG_ERROR, AC_MSG_ERROR_UNQUOTED): Allow an
	optional $2: exit status.

1999-11-13  Akim Demaille  <akim@epita.fr>

	Check that the AC_DEFINEs from acspecific.m4 do have a template.
	Fix the discovered bugs.

	* tests/atgeneral.m4 (AT_CHECK): Don't just exit 1 when you want
	to propagate the failure of a test: exit with the same exit
	status, at least to preserve 77 (=ignore).
	* tests/syntax.m4 (TEST_MACRO): Run also autoheader.  Don't run
	this test on all the macros, some just cannot run without
	arguments.
	* acgeneral.m4 (AC_OUTPUT_CONFIG_STATUS): In the if egrep/fi for
	#define templates, add a `:' to prevent syntax errors in
	config.status when there are no AC_DEFINE performed.
	* autoheader.m4 (AH_TEMPLATE): Don't use _AC_SH_QUOTE here, use it
	in...
	(AH_VERBATIM): here.  Now AH_C_UNSIGNED_CHAR is no longer failing
	(formerly it would produce a non backslashed backquote, which
	made sh choke).

1999-11-13  Akim Demaille  <akim@epita.fr>

	Introduce a means to distinguish failures of `configure' due to
	extern software (so that the test suite doesn't fail on them).

	* acgeneral.m4 (AC_MSG_ERROR, AC_MSG_ERROR_UNQUOTED): Allow an
	optional $2: exit status.
	* doc/autoconf.texi: Document.
	* acspecific.m4 (AC_PROG_CC_WORKS, PROG_CXX_WORKS,
	AC_PROG_F77_WORKS): Exit 77 if the compiler does not work.

1999-11-13  Akim Demaille  <akim@epita.fr>

	Clean up a bit the handling of the LANG stack.  More is needed.

	* acgeneral.m4 (AC_LANG_CASE): New macro.
	(AC_LANG_RESTORE): Use m4_case.
	(AC_LINKER_OPTION): Use AC_LANG_CASE.

1999-11-11  Akim Demaille  <akim@epita.fr>

	* autoconf.texi (Generic Declarations): Fixed a typo which
	prevented `make distcheck' from succeeding.
	* texinfo.tex: Updated for the same reasons.

1999-11-11  Akim Demaille  <akim@epita.fr>

	Introduce a new style of testing, independent from DejaGNU.


	Introduce the logistics.

	* configure.in: Initialize AT, and output tests/atconfig, and
	tests/Makefile.
	* m4/atconfig.m4: New file.
	* m4/Makefile.am: Adjusted.
	* aclocal.m4: Include atconfig.m4.
	* Makefile.am: Adjusted.
	* tests/Makefile.am: New file.
	* tests/atgeneral.m4: Likewise.
	* tests/atconfig.in: Likewise.


	Write tests.

	* tests/syntax.m4: New file, in charge of checking the validity of
	the sh code produced by the macros defined in acspecific.m4.
	acgeneral.m4 is not checked here, because these macros require
	arguments.
	* tests/suite.m4: New file.  Run syntax.m4.

1999-11-10  Akim Demaille  <akim@epita.fr>

	A test suite will be introduced which tries to run all the
	specific macros, but hasbeen'd macro make configure die with bad
	exit status.  So we wish to distinguish live macros from defunct
	macros at the moment they are AC_DEFUN'd, not in their body.  Hm,
	defunct, defunct... Hey!  That's a good name!

	* acgeneral.m4 (AC_DEFUNCT): New macro, comparable to AC_DEFUN,
	but for macros which are no longer defined.  Replaces AC_HASBEEN.
	(AC_HASBEEN): Defunct.  Well, removed in fact.
	(AC_HAVE_LIBRARY): Don't use AC_DEFUN and AC_HASBEEN, just
	AC_DEFUNCT.
	* acspecific.m4 (AC_UNISTD_H, AC_USG, AC_MEMORY_H, AC_DIR_HEADER,
	AC_INT_16_BITS, AC_LONG_64_BITS): Likewise.
	(AC_XENIX_DIR): It was defunct even before I declared it was: was
	depending upon AC_DIR_HEADER which is defunct.  So AC_DEFUNCT'ed
	now.
	(AC_DYNIX_SEQ, AC_IRIX_SUN, AC_SCO_INTL): While we're here, you
	too are defunct now.
	* autoconf.texi (Obsolete Macros): Replace the documentation of
	AC_HASBEEN with that of AC_DEFUNCT.

1999-11-10  Akim Demaille  <akim@epita.fr>

	* autoconf.sh: Formatting changes.
	Removed development junk.
	* acspecific.m4: Formatting changes.
	* autoconf.m4: Likewise.
	* autoheader.m4: Likewise.

1999-11-10  Akim Demaille  <akim@epita.fr>

	Let Autoconf use autoconf's `--install'.

	* m4/Makefile.am: New file.
	* m4/init.am: New file, required by Automake.
	* m4/missing.am: Likewise.
	* m4/sanity.am: Likewise.
	* aclocal.m4: Include them.
	* configure.in (AC_OUTPUT): Added m4/Makefile.

1999-11-10  Akim Demaille  <akim@epita.fr>

	Make autoconf support --install.

	* autoconf.sh (task install): New task.  Extract the set of
	auxiliary m4 files a configure.in depends upon.  Install links
	from library files to the local dir so that the packages depends
	only on local extensions.  Check that the user includes exactly
	the files she needs.

1999-11-10  Akim Demaille  <akim@epita.fr>

	Require GNU m4 1.4 (well 1.3 in fact).

	Because we are ready to handle the case where there are no frozen
	files, we *have* to pass a -I, which is dangerous in conjunction
	with the silent including of `aclocal.m4': you may include things
	that were not expected.  Since anyway handling pre 1.3 complicates
	the task, just require an m4 which supports reloading of frozen
	files.

	* acspecific.m4 (AC_PROG_GNU_M4): Check for --reload.
	* autoconf.sh: Likewise
	* autoheader.sh: Likewise.
	* configure.in: Explicitly state the m4 version you want.

1999-11-10  Akim Demaille  <akim@epita.fr>

	No need for foo="`bar`", foo=`bar` is fine.
	Simplify ${foo} and ${1} into $foo and $1.

	* acgeneral.m4 (ac_LF_and_DOT): Remove the double quotes.
	* acspecific.m4 (AC_PROG_CC_C_O, AC_PROG_F77_C_O): Likewise.
	* autoconf.sh: Likewise.
	* autoheader.sh: Likewise.
	* autoreconf.sh: Likewise.
	* autoupdate.sh: Likewise.
	* ifnames.sh: Remove all the code and messages related to
	AC_MACRODIR, since ifnames is not related to macros in anyway.

1999-11-10  Akim Demaille  <akim@epita.fr>

	New version of AC_INCLUDE, which does not glob, nor rely upon the
	shell.  Add AC_INCLUDES too.  Help tracking multiple inclusions.

	* acgeneral.m4 (m4_errprint, m4_warn, m4_fatal): New macros,
	variations around errprint.
	(m4_include_unique): New macro which registers what are the files
	already included, and warns if some are included several times.
	(m4_include, m4_sinclude): New macro, using m4_include_unique.
	(AC_INCLUDE): Is now just a wrapper of m4_include.
	(AC_INIT): Use m4_sinclude, not sinclude.
	(_AC_ERRPRINT): Removed, m4_errprint is here!
	(AC_WARNING, AC_FATAL): Wrappers of m4_warn and m4_fatal.

1999-11-01  Akim Demaille  <akim@epita.fr>

	* autoheader.sh: No longer rely on a system acconfig.h.

1999-11-01  Akim Demaille  <akim@epita.fr>

	Be kind to Automake: list the arguments of selected macros
	(for instance AC_SUBST will list each variable which may be
 	substitued).

	* autoconf.sh (--trace, --output): New options.
	Implement tracing of macros.
	trap also on 0, so that there is no need to rm here and there.
	* autoconf.texi (Output): Document --trace and --output.

1999-11-01  Akim Demaille  <akim@epita.fr>

	Clean up the macros for testing members of aggregates.

	* acgeneral.m4 (AC_CHECK_MEMBER): FATAL if $1 has no dot in it.
	Use AC_INCLUDE_DEFAULTS.
	(AC_C_STRUCT_MEMBER): Removed.
	* acspecific.m4 (AC_STRUCT_TIMEZONE): Adapted to AC_CHECK_MEMBERS.
	(AC_STRUCT_ST_BLKSIZE, AC_STRUCT_ST_RDEV): Adapted to
 	AC_CHECK_MEMBERS and obsoleted.
	(AC_STRUCT_ST_BLOCKS): Adapted to AC_CHECK_MEMBERS.
	* autoconf.texi (AC_STRUCT_ST_BLKSIZE, HAVE_STRUCT_STAT_ST_RDEV):
	Explain they are obsoleted, and how to migrate.
	(AC_STRUCT_ST_BLOCKS, AC_STRUCT_TIMEZONE): Explain that the
 	AC_DEFINE changed (but the former #defines remain defined
 	currently).
	(AC_C_STRUCT_MEMBER): Removed, replaced by the definitions of
	AC_CHECK_MEMBER and AC_CHECK_MEMBERS.

1999-11-01  Akim Demaille  <akim@epita.fr>

	Install a uniform set of default includes.

	* acgeneral.m4 (AC_INCLUDES_DEFAULT): New macro.  Expands in its
	argument if non empty, otherwise a default list of includes.
	(AC_CHECK_DECL, AC_CHECK_TYPE_INTERNAL): Use AC_INCLUDES_DEFAULT.
	* autoconf.texi: Adjusted.

1999-11-01  Akim Demaille  <akim@epita.fr>

	* autoheader.m4 (AH_FUNC_ALLOCA, AH_C_CHAR_UNSIGNED, AH_AIX):
	Don't leave `[]dnl' in pseudo #-comment (actually CPP directives).

1999-11-01  Akim Demaille  <akim@epita.fr>

	Fix a bit of the brokenness of AC_CHECK_TYPE.

	* acgeneral.m4 (AC_CHECK_TYPE_INTERNAL): New macro, inspired from
 	the former AC_CHECK_TYPE.  This macro is exactly the one that
 	ought to be named AC_CHECK_TYPE: it just checks, and executes user
 	actions.  In the future, this macro ought to be renamed
 	AC_CHECK_TYPE.
	There is a big difference with the former AC_CHECK_TYPE: instead
 	of grepping in the headers, it tries to compile a variable
 	declaration.  This is both safer, slower, and better, since now we
 	can check for compiler types (e.g., unsigned long long).
	(AC_CHECK_TYPES): The looping and AC_DEFINEing version of the
 	previous macro.  Uses m4 loops.
	(AC_CHECK_TYPE): Reimplemented on top of AC_CHECK_TYPE_INTERNAL.
  	* autoheader.m4 (AH_CHECK_TYPE, AH_CHECK_TYPES): New macros,
 	hooked.
	* autoconf.texi (@ovar): New macro, for optional variables.
	(Generic Typedefs): Document AC_CHECK_TYPES.
	* autoheader.texi: (AH_CHECK_TYPE, AH_CHECK_TYPES): New macros.
	(Epilogue): Hooks them.

1999-11-01  Akim Demaille  <akim@epita.fr>

	Update autoupdate.

	* acoldnames.m4:  Sort the two sections.
	* acoldnames.m4 (AM_CYGWIN32, AM_EXEEXT, AM_FUNC_FNMATCH,
 	AM_FUNC_MKTIME, AM_PROG_LIBTOOL, AM_MINGW32, AM_PROG_INSTALL,
 	fp_FUNC_FNMATCH): Added their new names.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Create man pages for the executables.

	* Makefile.am (SUBDIRS): Add `man' and prepend `.' so that
	executables be built before help2man is run.
	* configure.in (AC_OUTPUT): Add man/Makefile.
	AC_MSG_ERROR, not AC_ERROR.
	Check for missing help2man.
	* man/Makefile.am: New file.
	* man/autoconf.x: Likewise.
	* man/autoreconf.x: Likewise.
	* man/autoheader.x: Likewise.
	* man/autoscan.x: Likewise.
	* man/autoupdate.x: Likewise.
	* man/ifnames.x: Likewise.
	* man/common.x: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Reformating of configure and
	config.status --help.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT_CONFIG_STATUS): Implement `config.status
	--file' and `--header'.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* autoheader.m4 (AH_TEMPLATE): Quote $2 once, now _AC_SH_QUOTE
	behaves properly.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.
	* acspecific.m4: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CONFIG_LINKS): Allow a second argument,
	commands to run, as AC_CONFIG_FILES and HEADERS.
	(AC_LIST_LINKS_COMMANDS): New growing string.  Initialize.
	(AC_OUTPUT_LINKS): Use it.
	(AC_OUTPUT_FILES, AC_OUTPUT_HEADERS, AC_OUTPUT_LINKS): Don't
	pretend to have arguments: you don't depend upon it.
	(AC_OUTPUT): Call the previous macros without arguments.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PREFIX_PROGRAM): Don't use define/undefine, but
	pushdef/podef.  AC_UPCASE_NAME no longer exist.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formatting changes.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* TODO: Updated.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Clean up dead comments/code.  Clean up the incompatibilities
	between quoted and non quoted _AC_ECHO and the like.

	* acgeneral.m4: Remove the comments on the no longer defined AC_TR.
	(_AC_SH_QUOTE): Be robust to active symbols.
	(_AC_ECHO): Quote properly the argument.
	(AC_TRY_RUN): Don't quote [AC_TRY_RUN] in the warning.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acspecific.m4: Formatting changes.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_NOTICE, AC_INIT_PREPARE, AC_ARG_ENABLE,
	AC_ARG_WITH, AC, TRY_COMPILER, AC_TRY_RUN, AC_TRY_CPP,
	AC_EGREP_CPP): Use @PND@ instead of [#]: it looses the editors
	that try to match the pairs of (), [] etc.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Fix the compatibility of the compiling macros with C++.

	* acgeneral.m4 (AC_TRY_COMPILE, AC_TRY_LINK, AC_CHECK_SIZEOF): Use
	`int main () {...}', instead of `main () {...}'.
	* acspecific.m4 (AC_TYPE_GETGROUPS, AC_FUNC_CLOSEDIR_VOID,
	AC_FUNC_FNMATCH, AC_FUNC_GETPGRP, AC_FUNC_SETPGRP, AC_FUNC_VFORK,
	AC_FUNC_WAIT3, AC_FUNC_ALLOCA, AC_FUNC_UTIME_NULL,
	AC_FUNC_SETVBUF_REVERSED, AC_FUNC_MEMCMP, AC_C_CHAR_UNSIGNED,
	AC_C_LONG_DOUBLE, AC_C_BIGENDIAN, AC_SYS_RESTARTABLE_SYSCALLS):
	Likewise.
	* acspecific.m4 (AC_FUNC_FNMATCH): Call
	AC_CHECK_HEADERS(fnmatch.h), and include fnmatch.h in the compiled
	code.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_COMPILE_CHECK, AC_TRY_COMPILE,
 	AC_TRY_RUN_NATIVE, AC_OUTPUT_CONFIG_STATUS): Use @PND@ instead of
 	[#]: it looses the editors that try to match the pairs of (), []
 	etc.
	Formatting changes.
	* acspecific.m4: Formatting changes.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Allow standard beta version numbers.

	* configure.in: Declare version 2.14a.
	* acgeneral.m4 (AC_UNGNITS): New macro which transform version
	numbers to pure digits (2.14a to 2.14.0.1, 2.15z to 2.15.0.26
	etc.).
	(AC_PREREQ): Normalize argument and AC_ACVERSION via AC_UNGNITS.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Fix the --version of all the executables.

	* Makefile.am (editsh, editpl): Substitute also PACKAGE and
	VERSION.
	* autoconf.sh (version): New string.
	(--version): Use it.
	(--help) Output on stdout, not stderr.
	* autoheader.sh: Likewise.
	* autoreconf.sh: Likewise.
	* autoscan.pl: Likewise.
	* autoupdate.sh: Likewise.
	* ifnames.sh: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Perform a better checking for missing templates in autoheader.

	* autoheader.m4 (AH_HOOK): When hook AC_FOO on AH_FOO, define the
	new AC_FOO to be the expansion of both AH_FOO *and* AC_FOO.  See
	its definition for the motivations.

	* autoheader.m4 (AH_FUNC_ALLOCA): Remove the now useless
	additional templates.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Work properly with Automake 1.4.

	* Makefile.am (distpkgdataDATA): Replaces dist_pkgdata_DATA.
	(nodistpkgdataDATA): Replaces nodist_pkgdata_DATA.
	(EXTRA_DIST): Added $(distpkgdataDATA).
	(pkgdata_DATA): Adapted.
	(AUTOMAKE_OPTION): Require 1.4.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Fix a bug in templates of AC_CHECK_LIB.

	* autoheader.m4 (AH_CHECK_LIB): Template HAVE_LIBFOO, not
 	HAVE_FOO.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acspecific.m4: Formating changes.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formating changes.
	* acspecific.m4: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* Makefile.am (pkgdata_DATA): Split into dist_pkgdata_DATA and
	nodist_pkgdata_DATA.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_PROG_GNU_M4): New macro.
	* configure.in: Use it.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Provide a means to specify commands to run before config.status is
	created (and, for symmetry, after it is created).

	This is typically needed by Automake so that AC_REPLACEd functions
	go through deansification via

	LIBOBJS=`echo $LIBOBJS | sed 's/\.o /\$U.o /g;s/\.o$/\$U.o/'`

	and/or by Libtool which needs to define LTLIBOBJS and others:

	LTLIBOBJS=`echo $LIBOBJS | sed 's/\.o/\.lo/g'`
	AC_SUBST(LTLIBOBJS)

	* acgeneral.m4 (AC_OUTPUT_PRE_COMMANDS): New growing string.
	Initialize.
	(AC_OUTPUT_POST_COMMANDS): Likewise.
	(AC_CONFIG_PRE_COMMANDS): New macro, grows AC_OUTPUT_PRE_COMMANDS.
	(AC_CONFIG_PRE_COMMANDS): Likewise.
	(AC_OUTPUT): Run AC_OUTPUT_PRE_COMMANDS before
	AC_OUTPUT_CONFIG_STATUS, and AC_OUTPUT_POST_COMMANDS after.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Remove spurious empty lines appearing in configures.

	* acgeneral.m4 (AC_CONFIG_UNIQUE): Produce no output.  Instead of
 	fighting with dnl, divert to KILL upon entry, and pop at exit.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Avoid using double quotes
	inside "`...`": some shells parse this incorrectly.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* Makefile.am (pkgdata_DATA, EXTRA_DIST): Removed acconfig.h.
	* testsuite/autoconf.s/defines.exp: Commented out, there is no
	longer an acconfig.h.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* autoconf.m4: Insert -*- Autoconf -*-.
	* acgeneral.m4: Likewise.
	* acspecific.m4: Likewise.
	* acoldnames.m4: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Create AC_CONFIG_HEADERS which has the same interface as the other
	AC_CONFIG_*S.

	* acgeneral.m4 (AC_CONFIG_HEADERS): New macro, with the same
	interface as AC_CONFIG_LINKS and AC_CONFIG_FILES.
	(AC_LIST_HEADERS_COMMANDS): New growing string, initialize it.
	(AC_CONFIG_HEADER): Rename as...
	(AC_CONFIG_HEADERS): this, for consistency.
	(AC_CONFIG_HEADER): New macro, which calls AC_OUTPUT_HEADERS.
	(AC_OUTPUT_HEADERS): The square brackets for sed and grep were
	not properly quoted: use @BKL@ and @BKR@.
	(AC_OUTPUT_HEADERS): Run the AC_LIST_HEADERS_COMMANDS.

	* acgeneral.m4 (AC_OUTPUT): Once config.status created, before
	running it, trap to `exit 1' so that config.status is not removed
	if configure is interrupted when config.status is complete.

	* acgeneral.m4 (AC_OUTPUT_CONFIG_STATUS): When recognizing
	arguments, accept only foo, and no longer foo:foo.in etc.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Formating changes.

1999-10-31  Akim Demaille  <akim@epita.fr>

	config.status: Speed up the creation of config headers (about four
	times faster on Linux).

	The previous scheme had three sed commands for each AC_DEFINE: one
	for #define templates, and two for #undef templates (with or
	without trailing spaces).  Divide this in three sed scripts
	instead: a one liner that removes the trailing spaces, one for
	#defines, and then the last for #undef.

	The real speed up comes from the fact that the #define script
	starts by checkin if the current input line has a #define, and if
	not the script immediately goes to the next line, without running
	the rest of the script as was the case before.  Equally for the
	#undef script.

	Note that this way, users that don't use #define templates don't
	pay too much the overhead, since the sed script `realizes' quickly
	there are no #define lines.  My test case runs in 0.32s with
	#define templates, and 0.24s without.  To improve this common
	case, the whole code for #define templates is conditionalized by a
	proper egrep call.  The result runs is 0.24s, i.e., almost no cost
	at all.

	I made one dangerous change that I carefully evaluated before
	commiting: the sed scripts are cut at 48 lines instead of 12 as
	before.  This produces here docs of about 4Kb.  I checked many
	`configure's and they all have big here documents, much bigger
	than the 12 lines (for instance AC_FUNC_MMAP produces a 150 lines
	long, 3800+ character here document).  So I moved to the well
	known HP UX sed limitations: no more than 100 commands, and there
	are two commands per line now, plus a two command preamble.  The
	speed up is noticeable.

	* acgeneral.m4 (AC_OUTPUT_HEADERS): Remove the ac_e
	family.
	Changed ac_uD and ac_dD to `...;t t', instead of `...g'.
	Instead of creating `conftest.vals' with both ac_e, ac_d,
	and ac_u family, preprocess to strip the trailing spaces, and
	create `conftest.defines' with the ac_d family, and then
	`conftest.undefs' for the ac_e family.
	Break up both `conftest.defines' and `conftest.undefs'.  Insert a
	top label and a global test for `#defines' and `#undef' before.
	Call `conftest.defines' if there are #define in the input.
	Call `conftest.undefs'.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Prefer `>file' over `> file' etc.
	* acspecific.m4: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Rename the family AC_NEED_DECL as AC_CHECK: it is more uniform,
	but keep defining NEED_FOO_DECL when `foo' is not declared.  Files
	not using Autoconf behave better when declarations lacks than when
	they are wrong.  So the unset position should off, hence #if NEEDS
	instead of #if !HAVE (which is triggered when HAVE is not set).

	* acgeneral.m4 (AC_NEED_DECL): Rename as...
	(AC_CHECK_DECL): This.  Make sure the arguments are the usual
	IF-FOUND, IF-NOT-FOUND.
	(AC_NEED_DECLS, AC_CHECK_DECLS): Likewise.
	* autoconf.texi (Generic Declarations): Document the changes
	aforementioned.
	* autoheader.m4 (AH_NEED_DECLS): Rename as
	(AH_CHECK_DECLS): This.
	(AH_HOOKS): Hook AH_CHECK_DECLS on AC_CHECK_DECLS instead of
	_NEED_.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Revamp the handling of the arguments of config.status: instead of
	looping over config_files etc. to recognize the file names, use
	the case which handles the options.
	Suggested by Alexandre Oliva.

	* acgeneral.m4 (ifset): Rename as...
	(ifval): This.  All callers changed.
	(ifset): New macro, which tests if a macro is set to a non empty
	value.

	* acgeneral.m4: Initialize growing lists and strings to empty, to
	ease the tests.
	(AC_CONFIG_HEADER): Quote AC_LIST_HEADERS in the define, to handle
	the case AC_LIST_HEADERS is initialized.

	* acgeneral.m4: (AC_OUTPUT_CONFIG_STATUS): New macro, pulled out
	from...
	(AC_OUTPUT): Instead of using $1, $2 and $3, pass them to the
	official macros (AC_CONFIG_FILES, AC_OUTPUT_COMMANDS).
	Call AC_OUTPUT_CONFIG_STATUS.
	(option handling): Use the case-esac to recognize arguments.
	(AC_OUTPUT_COMMANDS): Fix the missing fi;done.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Add a means to specify commands to be run by config.status.  At
	the difference of AC_OUTPUT_COMMANDS, require that the set of
	commands be named, so that both
		CONFIG_COMMANDS=foo ./config.status
	and
		./config.status foo
	perform the Right Thing.

	* acgeneral.m4 (AC_CONFIG_UNIQUE): Also check in
	AC_LIST_COMMANDS.
	(AC_CONFIG_FILES): Remove a dead pushdef.
	(AC_CONFIG_COMMANDS): New macro.
	(AC_LIST_COMMANDS): New config list.
	(AC_LIST_COMMANDS_COMMANDS): New growing string.
	(AC_OUTPUT_COMMANDS_COMMANDS): New macro, output config commands
	in config.status.
	(AC_OUTPUT): Take AC_LIST_COMMANDS into account.
	(AC_OUTPUT): Call AC_OUTPUT_COMMANDS_COMMANDS.

1999-10-31  Akim Demaille  <akim@epita.fr>

   	New macro: AC_CONFIG_FILES which is very much like AC_OUTPUT but
	that one associates commands to run when a config file is created.
	For instance for a shell script `foo', one uses
	AC_CONFIG_FILES(foo, chmod +x foo).

	In addition, check that the same name is never used twice in
	config files, headers, subdirs and links.

	* acgeneral.m4 (m4_append): Don't insert new line between
	elements.
	(m4_list_append): New macro.
	(AC_CONFIG_IF_MEMBER): New macro which tests if a file is member
	of a config list.
	(AC_CONFIG_UNIQUE): New macro which ensures that a config file
	name is not yet used.
	(AC_CONFIG_HEADER, AC_CONFIG_LINKS, AC_CONFIG_SUBDIRS): Use
	AC_CONFIG_UNIQUE.

	* acgeneral.m4 (AC_CONFIG_FILES): New macro.
	(AC_LIST_FILES): New list, which stores arguments of
	AC_CONFIG_LISTS the same as AC_LIST_LINKS stores AC_CONFIG_LINKS
	etc.
	(AC_OUTPUT): No longer rely on $1 to designate the config files:
	register them via AC_CONFIG_FILES.  All uses of $1 replaced by
	uses of AC_LIST_FILES.
	(AC_OUTPUT_FILES): Run the commands associated to the
	CONFIG_FILES.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (Looking for bugs): In addition to AC_, match AH_
	and AM_.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Provide the m4 infrastructure for defining AH_ hooks.

	* autoheader.m4 (AH_HOOK): New macro.
	Hook all the AC_ macros to their AH_siblings in AH_HOOKS.
	Run AH_HOOKS.

	* acgeneral.m4 (m4_append): New macro.
	(m4_list_append, m4_list_add): Removed.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acspecific.m4: Formating changes.
	* acgeneral.m4: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_CHECK_MEMBER, AC_CHECK_MEMBERS): New macros.
	* autoheader.m4 (AH_CHECK_MEMBERS): New macro.
	(epilogue): Hook AH_CHECK_MEMBERS on AC_CHECK_MEMBERS.

1999-10-31  Akim Demaille  <akim@epita.fr>

	* autoheader.m4 (AC_FUNC_ALLOCA): Rename from this ...
	(AH_FUNC_ALLOCA): ... to this.  Includes all the needed templates.
	(AC_C_CHAR_UNSIGNED): Rename from this ...
	(AH_C_CHAR_UNSIGNED): ... to this.

1999-10-31  Ben Elliston  <bje@cygnus.com>

	* Makefile.am (CLEANFILES): New explicit variable.
	(editsh): acdatadir is no longer defined, so use pkgdatadir.
	(editpl): Likewise. From Akim Demaille.
	* Makefile.in: Regenerate.

	* configure: Regenerate.
	* aclocal.m4: Generate.
	* Makefile.in: Regenerate with Automake.
	* testsuite/Makefile.in: Likewise.

1999-10-31  Akim Demaille  <akim@epita.fr>

	Use Automake.  Based on files from Ben Elliston.

	* acgeneral.m4: No longer define AC_ACVERSION, include
	acversion.m4.
	* acversion.m4.in: New AC_CONFIG_FILE.
	* acspecific.m4: Few formating changes.
	* autoconf.texi: No longer define EDITION, VERSION and UPDATED:
	include version.texi.
	AC_OUTPUT the Makefiles mentioned below and acversion.m4.
	* configure.in: Use AM_INIT_AUTOMAKE.
	Do not AC_ARG_PROGRAM: AM_INIT_AUTOMAKE does it.
	* Makefile.am: New file.
	* mdate-sh: Likewise.
	* missing: Likewise.
	* testsuite/Makefile.am: Likewise.

1999-10-31  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_PROG_CC_STDC, AC_C_PROTOTYPES): Inherit from
	Automake. From Franc,ois Pinard.
	* autoconf.texi (Particular Programs): Document AC_PROG_CC_STDC.
	(C Compiler Characteristics): Document AC_C_PROTOTYPES.

	* testsuite/autoconf.s/defines.exp: Changed `fail' and `pass' in
	`xfail' and `xpass'. The test suite checks that acconfig.h
	templates the AC_DEFINEs. Since we no longer rely on acconfig.h,
	the test is obsolete.
	* acspecific.m4 (AC_PROG_BINSH, AC_PROG_SED): Don't quote the name
	of the macro defined; the test suite does not recognize this
	syntax. From Akim Demaille.

1999-10-27  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (Generic Programs): @defmac for AC_PATH_TOOL may
	not span multiple lines.

1999-10-26  Ben Elliston  <bje@cygnus.com>

	* INSTALL: Regenerate.

1999-10-16  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_PROG_CXX): gcc is not a C++ compiler.
	* autoconf.texi (AC_PROG_CXX): Update documentation.

1999-10-13  Ben Elliston  <bje@cygnus.com>

	* acconfig.h: Reintroduce missing definitions due to test suite
	regressions.

	* autoconf.texi (Configuration Headers): Document the potential
	trouble caused by autoheader and boilerplate files. Fix for
	PR autoconf/45.

1999-10-07  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* Makefile.in (dist): Fixed for srcdir != objdir.

1999-10-07  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_CHECK_HEADER_DIRENT): Reintroduce its
	AC_DEFUN.

1999-10-06  Akim Demaille  <akim@epita.fr>

	* acspecific.m4: Various formatting changes.
	* acspecific.m4 (AC_PROG_CC_WORKS): Declare main returns an int.

1999-10-05  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>

	Shell meta characters in an argument causes the configure script
	to freak out and generate a config.status file that contains
	syntax errors.
	Bug triggered by ./configure --with-foobar=\''`"$'.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Quote single quotes that end
	up between single quotes.  Protect arguments of echo with double
	quotes.
	(AC_INIT_PREPARE): Likewise.
	(AC_PATH_PROG): Protect argument of test.
	(AC_OUTPUT): Quote meta characters in ac_configure_args.

1999-10-05  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (AC_PATH_XTRA): Correctly document the behaviour
	when X is not available.

1999-10-05  Akim Demaille  <akim@epita.fr>

	The sed quoting script depends on the shape of the commands used
	by AC_SUBST.  The latter was changed, but not the former.
	Bug triggered with FOO='%\c' AC_SUBST(FOO).

	* acgeneral.m4 (AC_OUTPUT_FILES): Fix the sed quoting script.

1999-10-05  Akim Demaille  <akim@epita.fr>

	When you rely on the `t' flag of sed for the immediately
	preceding substitution, use a combination of `: foo; t foo'.
	Bug triggered if you AC_DEFINE(FOO, "%").
	Additionally, work around a bug in IRIX sed.
	Suggested by Ken Pizzini.

	* acgeneral.m4 (AC_OUTPUT_HEADER): Added a label and a test in the
	sed code of `$ac_cs_root.hdr'.

1999-10-05  Akim Demaille  <akim@epita.fr>

	Implement AC_PATH_TOOL.
	Submited by Gary V. Vaughan.

	* acgeneral.m4 (AC_PATH_TOOL): New macro.
	* autoconf.texi (Generic Programs): Document.

1999-10-05  Akim Demaille  <akim@epita.fr>

	Handle arbitrary version numbers.
	Reported by H.J. Lu.

	* acgeneral.m4 (m4_split): Support a second optional argument: a
	regexp to specify where to split.
	(m4_compare): New macro, compares arbitrary long m4 lists of
	integers.
	(AC_PREREQ_SPLIT, AC_PREREQ_CANON, AC_PREREQ_COMPARE): Removed,
	replaced by more generic macros.
	(AC_PREREQ): Reimplemented, using m4_compare and m4_split.

1999-10-04  Akim Demaille  <akim@epita.fr>

	Beware of  the expansions of $n in comments.

	* acgeneral.m4 (AC_OUTPUT): Changed $1 into $[1] in dnls.

1999-10-04  Akim Demaille  <akim@epita.fr>

	Revert partially the previous changes: AC_CHECK_HEADERS_DIRENT is
	used by AC_HEADER_DIRENT.

	* autoheader.m4: Restablish the hook for AC_CHECK_HEADERS_DIRENT.

	* acspecific.m4 (AC_CHECK_HEADERS_DIRENT, AC_CHECK_HEADER_DIRENT):
	Reinserted.

1999-10-02  Akim Demaille  <demaille@inf.enst.fr>

	* acgeneral.m4: Instead of just undefining eval, format, include
	and shift, rename them to m4_eval, etc.

1999-10-02  Akim Demaille  <akim@epita.fr>

	AC_DIR_HEADERS is hasbeen'ed.

	* acspecific.m4 (AC_DIR_HEADER): Raised from obsolete to hasbeen.

	* acspecific.m4 (AC_CHECK_HEADERS_DIRENT, AC_CHECK_HEADER_DIRENT):
	Removed, were used only by AC_DIR_HEADER and were not documented.

	* autoheader.m4: Remove the hooks for AC_CHECK_HEADERS_DIRENT.

	* autoconf.texi (Particular Headers): Removed the documentation of
	AC_DIR_HEADER.

	* autoconf.texi (Environment Variables): Remove the very last
	traces of documentation of --env-VAR.

1999-10-02  Akim Demaille  <akim@epita.fr>

	Remove hasbeen'ed macros from the documentation.

	* autoconf.texi (Obsolete Macros): Document AC_HASBEEN.

	* autoconf.texi (Libraries): Remove the documentation of
	AC_HAVE_LIB.
	(Particular Headers): likewise for AC_UNISTD_H, AC_MEMORY_H,
	AC_USG.
	(C Compiler Characteristics): Likewise for AC_INT_16_BITS,
	AC_LONG_64_BITS.

1999-10-01  Akim Demaille  <akim@epita.fr>

	Make the handling of the configuration links (AC_LINK_FILES)
	exactly the same as that of configurations files (AC_OUTPUT_FILES)
	and headers (AC_CONFIG_HEADERS).  As a result, it is sane to run
		./config.status src/libmy_lib
	or
		CONFIG_LINKS=src/lib_mylib:lib/lib_mylib ./config.status

	* acgeneral.m4 (AC_LINK_FILES): Use AC_FATAL to diagnose bad
	number of argument.
	Obsoleted (but implemented) in favor of AC_CONFIG_LINKS.

	* acgeneral.m4 (AC_CONFIG_LINKS): New macro.  Takes space
	separated list of DEST:SOURCES arguments.

	* acgeneral.m4: Rename each occurence of AC_LIST_HEADER as
	AC_LIST_HEADERS for consistency.

	* acgeneral.m4 (AC_OUTPUT, config.status prologue): Move the
	definition of config_files and config_headers to the top.
	Add the definition of config_links.
	Change the help message to use the aforementioned variables.

	* acgeneral.m4 (AC_OUTPUT_LINKS): Adapted to the new scheme of
	AC_LIST_LINKS.

	* autoconf.texi (Output, AC_OUTPUT): Mention AC_CONFIG_LINKS.
	(Invoking config.status): Mention CONFIG_LINKS.

	* autoconf.texi (Using System Type): Document AC_CONFIG_LINKS.
	Explicit the obsoleteness of AC_LINK_FILES.

1999-10-01  Akim Demaille  <akim@epita.fr>

	Moving most of the task of creating config.h.in from sh to m4.
	Getting rid of acconfig.h by supply a major new family of macros:
	AH_* which make it possible to insert arbitrary text into
	config.h.in.

	* autoheader.m4: Major rewrite: introduction of a set of macros
	AH_ that produce code into config.h.in.  There are two sets of
	macros: generic macros, or specialized, documented below.  The
	basic idea is that an AC_FOO macro which needs an entry in
	config.h.in should have a sibling AH_FOO which expands into that
	entry.  In a near future, these macros will be moved next to their
	siblings.

	* autoheader.m4 (AH_VERBATIM, AH_DEFINE, AH_DEFINE, AH_NEED_DECLS,
	AH_CHECK_SIZEOF, AH_CHECK_FUNCS, AH_CHECK_HEADERS,
	AH_CHECK_HEADERS, AH_CHECK_LIB, AH_PROG_LEX, AH_FUNC_ALLOCA,
	AH_C_CHAR_UNSIGNED, AH_AIX, AH_F77_WRAPPERS): New macros.

	* autoheader.m4 (End section): Bind AC_ macros to their
	AH_siblings.

	* autoheader.sh: Remove the sections in charge of SYMS, TYPES,
	FUNCS, HEADERS, LIBS and DECLS: autoheader.m4 is now in charge of
	these.

	* autoheader.sh (options): Added -d, --debug, which does not
	remove the temporary files.

	* autoheader.sh: Instead of redirecting stdout to the output
	stream, always output to a temporary file.  This allows to change
	slightly the consistency check: before autoheader would check that
	each non documented AC_DEFINE is templated in an acconfig.  Now it
	just checks whether the template is in the output file.

	* acconfig.h: Completely emptied, the remaining templates
	(_ALL_SOURCE, __CHAR_UNSIGNED__, F77_FUNC, F77_FUNC_,
	HAVE_STRINGIZE, and STACK_DIRECTION) are now either associated to
	their AC_DEFINE, or to one of the new AH_ macros.

	* acgeneral.m4: Reordering of the m4 macros which are not specific
	to Autoconf.

	* acgeneral.m4 (AC_HAVE_LIB): Promoted from obsolete to hasbeen.

	* acgeneral.m4 (AC_TR_CPP): Fixed quoting problem, and missing ^
	in patsubst.
	(AC_TR_SH): Fixed quoting problem.

1999-09-29  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_WRAP): Don't output an extra space after the
	last word.

1999-09-29  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Check for the kstat_open()
	function in libkstat (on systems such as Solaris). This family of
	functions is preferred since they don't require setgid permissions
	to use them. Fix for PR autoconf/65.

1999-09-29  Akim Demaille  <akim@epita.fr>

	* acconfig.h: Commit the change announced below.

1999-09-29  Akim Demaille  <akim@epita.fr>

	* acspecific.m4 (AC_C_CONST): Changed from
	const charset x;
	to
	const charset x = {0, 0};
	From Jim Meyering.

1999-09-28  Akim Demaille  <akim@epita.fr>

	Start to get rid of acconfig.h.  It is an anachronism.

	* acgeneral.m4 (_AC_SH_QUOTE): Both cases must be evaluated the
	same number of times.

	* acconfig.h (_ALLOCA, CLOSEDIR_VOID, const, CRAY_STACKSEG_END,
	DGUX, DIRENT, GETGROUPS_T, GETLOADAVG_PRIVILEGED, GETPGRP_VOID,
	gid_t, HAVE_ALLOCA, HAVE_ALLOCA_H, HAVE_DOPRNT, HAVE_FNMATCH,
	HAVE_GETLOADAVG, HAVE_GETMNTENT, HAVE_LONG_DOUBLE,
	HAVE_LONG_FILE_NAMES, HAVE_MMAP, HAVE_RESTARTABLE_SYSCALLS,
	HAVE_ST_BLKSIZE, HAVE_ST_BLOCKS, HAVE_STRCOLL, HAVE_ST_RDEV,
	HAVE_STRFTIME, HAVE_SYS_WAIT_H, HAVE_TM_ZONE, HAVE_TZNAME,
	HAVE_UNISTD_H, HAVE_UTIME_NULL, HAVE_VFORK_H, HAVE_VPRINTF,
	HAVE_WAIT3, inline, INT_16_BITS, LONG_64_BITS, MAJOR_IN_MKDEV,
	MAJOR_IN_SYSMACROS, _MINIX, NDIR, NEED_MEMORY_H, NLIST_NAME_UNION,
	NLIST_STRUCT, NO_MINUS_C_MINUS_O, F77_NO_MINUS_C_MINUS_O,
	_POSIX_1_SOURCE, _POSIX_SOURCE, RETSIGTYPE, SELECT_TYPE_ARG1,
	SELECT_TYPE_ARG234, SELECT_TYPE_ARG5, SETPGRP_VOID,
	SETVBUF_REVERSED, STAT_MACROS_BROKEN, STDC_HEADERS, SVR4, SYSDIR,
	SYSNDIR, SYS_SIGLIST_DECLARED, TIME_WITH_SYS_TIME, TM_IN_SYS_TIME,
	uid_t, UMAX, UMAX4_3, USG, vfork, VOID_CLOSEDIR, WORDS_BIGENDIAN,
	X_DISPLAY_MISSING, YYTEXT_POINTER): Removed their autoheader
	template.  They are now documented with their own AC_DEFINE.

	* acgeneral.m4 (AC_HASBEEN): New macro.  Same as AC_OBSOLETE, but
	dies.

	* acspecific.m4 (AC_UNISTD_H, AC_USG, AC_MEMORY_H, AC_INT_16_BITS,
	AC_LONG_64_BITS): Promoted from obsolete to hasbeen.

	* autoheader.m4 (AC_DEFINE_UNQUOTED): Define via AC_DEFINE, so
	that we program things only once.
	(AC_DEFINE): Use AC_WRAP and _AC_SH_QUOTE.  It is now safe to have
	backquotes and extra spaces in the third argument, without
	yielding a bad result.

	* autoheader.m4: Instead of a huge `eval', use a temporary file.
	(option handling): Added --debug, to keep the temporary files.
	Fixed a couple of missing quotes.

1999-09-28  Akim Demaille  <akim@epita.fr>

	Make AC_FOREACH be robust to active symbols.

	* acgeneral.m4 (m4_split, m4_join, m4_strip): New macros.
	(AC_FOREACH_COMMA): Rename as...
	(m4_foreach): this.
	(_AC_CAR): Renamed as...
	(_m4_car): this.
	(_AC_FOREACH): Renamed as...
	(_m4_foreach): this.
	(_AC_COMMATIZE): Removed.
	(AC_FOREACH): Rewritten using m4_split, m4_join, m4_strip, and
	m4_foreach.
	* acgeneral.m4: Spell checked.
	* autoconf.texi: Likewise.

1999-09-28  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_NEED_DECL): When $4 is given, don't provide
	defaults headers.
	Change the message from `have' to `need'.
	Change the actions for `if-(not-)found' to `if-(not-)needed.
	Remove trailing parentheses.

	* acgeneral.m4 (AC_NEED_DECLS): Change the actions for
	`if-(not-)found' to `if-(not-)needed.
	Define NEED_DECL_foo, instead of NEED_foo_DECL.

	* autoheader.sh (decls): Reflect this.

	* autoconf.texi (Generic Declarations): Update.

1999-09-27  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT): Divert AC_OUTPUT_FILE to
	AC_DIVERSION_KILL if there are no CONFIG_FILES.
	(AC_OUTPUT, ac_cs_usage): Output the list of files to instanciate
	only if there are.

1999-09-27  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_DECL): Renamed as...
	(AC_NEED_DECL): This.
	(AC_CHECK_DECLS): Renamed as...
	(AC_NEED_DECLS): This.
	(AC_NEED_DECL): Include <stdio.h>, <memory.h>, <string.h>,
	<strings.h>, <stdlib.h>, <stddef.h>, and <unistd.h>.

	* autoconf.texi (Generic Declarations): Updated.

1999-09-27  Ben Elliston  <bje@cygnus.com>

	* autoscan.pl (scan_files): Emit an AC_PROG_CC invocation to
	configure.scan if there are any C files present. Fix for PR
	autoconf/19.

1999-09-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_WRAP): Rewritten.
	(AC_HELP_STRING): Wrapper of AC_WRAP.
	* acgeneral.m4 (_AC_SH_QUOTE): Rewritten.  Don't try to handle
	both backslashed and non backslashed backquotes in a single
	string: consider that either all the backquotes are quoted, or
	none.

1999-09-26  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_PATH_PROG): Use a single case statement for
	Unix and DOS absolute paths.

	* acgeneral.m4 (AC_CHECK_SIZEOF): Fix a typo.
	Allow a third default argument: extra headers.
	* autoconf.texi (C Compiler Characteristics): Document.

	* acgeneral.m4 (AC_CHECK_TYPE): Convert to the AC_VAR_* family.
	Allow a third optional argument: extra includes.
	* autoconf.texi (Generic Typedefs): Documents.

1999-09-26  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_OUTPUT_LINKS): Eliminate gratuitous spaces from
	$ac_sources if this variable is otherwise empty. Fix for PR
	autoconf/30.

1999-09-25  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (AC_FUNC_SETVBUF): Do not mention which systems
	might have their setvbuf() arguments reordered. It's difficult to
	accurately determine and is not essential. Fix for PR autoconf/7.

	* acgeneral.m4 (AC_LINK_FILES): Emit an error if an incorrect
	number of arguments are collected. Fix for PR autoconf/10.

1999-09-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT, handling of options): Make it possible
	to specify the files to configure on the command line instead of
	via envvars.  Document it.

1999-09-25  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4: Rename the occurences of the variable `confstat'
	as `ac_cs_root'.  The previous name was breaking the naming
	scheme.

1999-10-24  Akim Demaille  <akim@epita.fr>

	* TODO: Updated.
	Added a section for 2.15 and 3.

1999-09-24  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_HEADER_STDC): Define ISLOWER and ISUPPER
	macros correctly on EBCDIC systems. Contributed by Kurt D.
	Zeilenga. Fix for PR autoconf/6.

1999-09-24  Jim Blandy  <jimb@zwingli.cygnus.com>

	* acspecific.m4 (AC_C_VOLATILE): New test.
	* acconfig.h: Add new entry for `volatile'.
	* autoconf.texi (C Compiler Characteristics): Document it.

1999-09-24  Ben Elliston  <bje@cygnus.com>

	* autoreconf.sh: Do not run autoheader if AC_CONFIG_HEADER is
	commented out in configure.in. Reported by Erez Zadok
	as a fix for PR autoconf/21.

	* install.texi: Replace `can not' with `cannot'.

1999-09-23  Pavel Roskin  <pavel_roskin@geocities.com>

	Avoid that comments from aclocal.m4 show up in configure when
	using AC_REVISION.

	* acgeneral.m4: New diversion levels AC_DIVERSION_KILL and
	AC_DIVERSION_BINSH introduced. Use AC_DIVERSION_KILL as the
	initial value for AC_DIVERSION_CURRENT.
	(AC_INIT_BINSH): Set AC_DIVERSION_BINSH explicitly
	(AC_REVISION): Likewise.
	(AC_INIT): Set AC_DIVERSION_NOTICE when calling AC_INIT_NOTICE.

1999-09-23  Akim Demaille  <akim@epita.fr>

	* NEWS: Document AC_ARG_VAR.

	* acspecific.m4 (AC_C_LONG_DOUBLE): Avoid a needed execution by
	using a pure compilation test.  Excellent for cross compilation.
	From Kaveh R. Ghazi.

1999-09-22  Akim Demaille  <akim@epita.fr>

	* install.texi: Give more details on envvar handling.
	* acgeneral.m4 (AC_HELP_STRING): Add a third argument to tune the
	width of the first column.
	(AC_INIT_NOTICE): Initialize ac_arg_enable_help, ac_arg_with_help,
	and ac_arg_var_help.
	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Remove the handling of
	--env-var=.  After debate, the solution chosen to specify envvars
	to configure is a` la make: ./configure VAR=VAL.
	(AC_INIT_PARSE_ARGS, --help): Output ac_arg_enable_help,
	ac_arg_with_help, and ac_arg_var_help.
	* acgeneral.m4 (AC_ARG_VAR): New macro, to register and document
	influent envvars.
	* acspecific.m4 (AC_PROG_CC): Document CFLAGS.
	This is mainly to test AC_ARG_VAR.  Var to document are to be
	defined.

1999-09-22  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (m4_default): New macro.
	(AC_CHECK_LIB): When ACTION-IF-FOUND is specified, don't perform
	the default action.
	Reported by Pavel.

1999-09-22  Ben Elliston  <bje@cygnus.com>

	* config.guess: Clear the CCOPTS environment variable before
	invoking the C compiler on HP-UX. This is necessary to guarantee
	that the test program is compiled correctly. Reported by Dietmar
	P. Schindler.

1999-09-22  Linas Vepstas  <linas@linas.org>

	* config.guess: Add OS/390 match pattern.
	* config.sub: Add mvs, openedition targets.

1999-09-21  Nick Clifton  <nickc@cygnus.com>

	* config.sub: Add fr30 target.

1999-09-21  Ben Elliston  <bje@cygnus.com>

	* configure.in: Check if an appropriate version of GNU m4 is
	installed at configure-time rather than at runtime. From Pavel
	Roskin. Fix for PR autoconf/2.
	* configure: Regenerate.

1999-09-21  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_PARSE_ARGS, --help message): Use quoted
	heredocs to avoid problems with quotes.

1999-09-21  Akim Demaille  <akim@epita.fr>

	* NEWS: Updated.
	* THANKS: Likewise.

	* acgeneral.m4 (AC_CHECK_HEADER): Use AC_VAR_*.
	(AC_CHECK_HEADERS): Adapted.

	* acgeneral.m4 (AC_TR): Remove, it is useless.
	(AC_TR_CPP): Updated version of formerly AC_TR_DEFINE, based on
	the model of AC_TR_SH.
	All callers changed.

	* autoconf.sh (Checking for Bugs): Remove the indirection that
	made the `sort -u' useless.

1999-09-21  Akim Demaille  <akim@epita.fr>

	* autoconf.sh (Last sed cmd): Change also @PND@ to `#', since this
	is also a symbol very hard to quote in m4.

	* acgeneral.m4 (AC_CHECK_LIB): Use AC_VAR_*.

	* acgeneral.m4: Use `m4_BUILTIN' instead of indirection via
	`builtin'.

1999-09-21  Akim Demaille  <akim@epita.fr>

	* autoconf.texi	(Particular Structures): Move documentation of
	AC_HEADER_STAT and AC_HEADER_TIME from here...
	(Particular Headers): to here.
	(Declarations): New section.
	(Particular Headers): Move doc of AC_DECL_SYS_SIGLIST from here...
	(Particular Declarations): to here.

1999-09-21  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* acgeneral.m4 (AC_CHECK_FUNC_DECL, AC_CHECK_FUNC_DECLS): New
	macros.

	* autoconf.texi (AC_CHECK_FUNC_DECL, AC_CHECK_FUNC_DECLS):
	Document.

	* autoheader.m4: Add support for AC_CHECK_FUNC_DECLS.

	* autoheader.sh: Likewise.

1999-09-21  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_SHELL_IFELSE): New macro.
	(AC_VAR_IF_SET): Use it.
	(AC_CHECK_FUNC): Likewise.

	* Makefile.in (${srcdir}/configure): Use autoconf.sh to build
	Autoconf's configure.  Before the building was performed running
	m4 at hand, but much was not done (e.g., __oline__,
	@BKL@... expansion)

1999-09-20  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_OUTPUT): Don't remove the CONFIG_HEADERS
	unconditionaly: it breaks the `config.h has not changed' trick.

1999-09-20  Ben Elliston  <bje@cygnus.com>

	* autoheader.sh: Bourne shell compatibility fix. From Pavel Roskin.

1999-09-20  Pavel Roskin  <pavel_roskin@geocities.com>

	* autoheader.sh: Fix the tr invocation.

1999-09-17  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect QNX version 4.
	* config.sub: Handle `qnx' and `i386-qnx' aliases.

1999-09-17  Erez Zadok  <ezk@cs.columbia.edu>

	* config.guess: Eliminate the trailing dot if ${UNAME_RELEASE} is
	1.4-<SOMETHING>. Fix for PR autoconf/22.

1999-09-17  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Improve configure's --help.

	* acgeneral.m4 (AC_OUTPUT): Change the root of filenames of
	config.status from $conftest to $confstat.
	The previous patch to make config.status reentrant was wrong,
	because it changed some `conftest' that are used by configure into
	`$conftest', while it was for config.status only.  To avoid
	another confusion like this, all the filenames of config.status
	should be `$confstat*', and those of configure should be
	`conftest*'.
	(AC_OUTPUT): Rename the uses of `ac_file' for the sed fragments as
	`ac_sed_frag'.

	* acgeneral.m4 (AC_OUTPUT): This macro used to open the here
	documents that configure uses to generate config.status, included
	that of the submacros.  Now, it no longer handles the here
	documents for its subroutines (it was far to hard to track).
	(AC_OUTPUT_FILES): Open and close your here documents to
	$CONFIG_STATUS.
	(AC_OUTPUT_HEADER): Likewise.
	(AC_OUTPUT_LINKS): Likewise.

	* acgeneral.m4 (AC_OUTPUT_FILES): Move $ac_vpsub and $extrasub
	from the AC_SUBST substitutions (i.e., that of @SHELL@ etc.) to
	the specific section (that of @srcdir@ etc.).
	Now the ``general substitution'' section is absolutely uniform.

	* acgeneral.m4 (AC_SUBST): Change sed call from `s%@from@%to%g'
	into `s%@from@%to%;t t'.
	(AC_SUBST_FILE): Likewise.
	(AC_OUTPUT_FILES): Optimize the sed scripts by branching if there
	are no `@' on the line. Impressive speed up.

	* Makefile.in (DISTFILES): Add THANKS.

	* THANKS: New file.

1999-09-15  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_CHECK_FILE): Use ifset.
	(AC_CHECK_FUNC): Updated to use AC_VAR_*, and AC_CACHE_CHECK.
	(AC_CHECK_SIZEOF): Likewise.
	(AC_CACHE_CHECK): Use AC_MSG_RESULT_UNQUOTED.
	(AC_MSG_RESULT_UNQUOTED): New macro.

1999-09-15  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	Fix for PR autoconf/28.
	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Don't assume LF is \012, use
	`echo` followed by a non-blank, within quotes.
	* autoheader.sh (syms): Likewise.
	* configure: Rebuilt.

1999-09-14  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Don't assume LF is \012,
	use `echo` followed by a non-blank, within quotes.
	* autoheader.sh (syms): Likewise.
	* configure: Rebuilt.
	Reported by Christian Krone <krischan@sql.de>

	* acgeneral.m4 (AC_INCLUDE): New macro.
	* autoconf.texi: Document it.

	* acgeneral.m4 (AC_OUTPUT_SUBDIRS): Save INSTALL in
	ac_given_INSTALL, so that we can adjust relative pathnames for
	sub-configures.

	* acgeneral.m4 (Configuration): Accept --env-VAR=VALUE and
	VAR=value.
	* autoconf.texi, install.texi: Document it.
	* configure: Rebuilt.

1999-09-14  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_HELP_STRING): Rewrite in m4.  Have m4 work, and
	give a break to sh.
	(_AC_FOREACH): Be careful not to evaluate the arguments.  A loop
	over *quoted* macro names should loop over the macro names, not
	upon their expansion.
	(_AC_COMMATIZE): Also swallow end of lines.

	* autoconf.texi (Pretty Help Strings): Updated to reflect the
	changes.

1999-09-13  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (ifset): New helpy tiny macro.
	(AC_OUTPUT): Improved --help of config.status.
	(AC_OUTPUT): Remove inconditionaly all the files to be updated.
	(AC_OUTPUT): Use pid to define the temporary file names in order
	to allow parallel builds.

	* autoconf.sh: Substitute also /@BKL@/[/ /@BKR@/]/ /@DLR@/$/ so
	that these characters are more easily accessible from m4 without
	turning changequote juggling into a nightmare.

	* acgeneral.m4 (AC_WRAP): New macro, for word wrapping.

	* autoconf.texi: Update the direntry for more modern Texinfos.
	Add pointer to configure and config.status.
	Remove the dots from the menus: horizontal space is precious.
	(Invoking config.status): More traditional presentation of the options.

1999-09-07  Ben Elliston  <bje@cygnus.com>

	* autoreconf.sh: Recognise -v as a synonym for --verbose.

1999-09-07  Gary V. Vaughan  <gvaughan@oranda.demon.co.uk>

	* Makefile.in (INSTALL, standards.info, autoconf.info):  MiKTeX
	for Windows treats all options after the first filename as
	additional filenames, so real options must appear before the first
	filename.

1999-09-07  Steven G. Johnson  <stevenj@alum.mit.edu>

	* autoconf.texi (LDFLAGS, LIBS): Document that -L linker flags
	should be kept in LDFLAGS and not LIBS.

1999-09-07  Jim Meyering  <meyering@ascend.com>

	* acgeneral.m4 (AC_SEARCH_LIBS): Use $ac_lib as the index, not $i.

1999-09-06  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_FUNC_ALLOCA): Rename cache variable to avoid
	name clashes with AC_CHECK_HEADER(alloca.h).

1999-09-05  Steve Chamberlain  <sac@pobox.com>

	* config.sub: Add support for configuring for picoJava (pj).

1999-09-05  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (CONFIG_AUX_DIRS): Try running `shtool install'.
	Contributed by Ralf S. Engelschall.

1999-09-04  Ben Elliston  <bje@cygnus.com>

	* config.guess: Use POSIX compliant shell code on DG/UX.
	Suggested by Stephen Gildea.

1999-09-04  Pavel Roskin  <pavel_roskin@geocities.com>

	* acgeneral.m4 (AC_OUTPUT_FILES): Output comment to not only
	`Makefile', but also `makefile'.

1999-09-04  Jim Blandy  <jimb@zwingli.cygnus.com>

	* Makefile.in (install): Don't freak if the M4FROZEN files were
	never generated.  m4 1.1 is supported, but doesn't freeze files.

1999-09-04  Scott Bambrough  <scottb@netwinder.org>

	* config.guess: Autodetect ArmLinux using 2.9.1.xx linker
	emulation names and using the emulation names from the linker from
	the binutils CVS tree.

	* config.sub: Change manufacturer name for the NetWinder alias
	from Corel to Rebel.

1999-09-04  Jeremy Elson  <jelson@circlemud.org>

	* autoheader.m4 (AC_CHECK_HEADER): Define.

1999-09-02  Tom Tromey  <tromey@cygnus.com>

	* autoheader.sh: Allow multiple spaces between #undef and symbol
	name.

1999-09-01  Akim Demaille  <akim@epita.fr>

	* acgeneral.m4 (AC_ACVERSION): Bump to 2.14.1 to differenciate the
	experimental branch from the main trunk.

	* acgeneral.m4 (AC_FOREACH_COMMA): New macro, to perform m4 loops
	on m4 lists (i.e., list='(item_1, item_2, ..., item_n)').
	(AC_FOREACH): New macro, to perform m4 loops on shell lists (i.e.,
	list='item_1 item_2 ... item_n').

	* acgeneral.m4 (AC_DEFUN): Now accept two other optionnal
	parameters: the name of the macro which is specialized here, and
	the name of the first argument.  For instance `AC_CHECK_FNMATCH'
	should be declared as specializing `AC_CHECK_FUNC' for `fnmatch'
	as first argument.

	* acgeneral.m4 (AC_CHECK_FILES): Use AC_FOREACH for looping,
	instead of the shell's loop.

	* acgeneral.m4 (AC_TR): In addition to transliteration, provide a
	means to specify the valid destination alphabet and a default
	character for aliens characters.  This is in order to remove
	characters such as `+:-' etc. that may appear in file names, but
	are not valid for shell variables or #defines.
	(AC_TR_DEFINE): New macro, maps anything to a valid uppercase
	#define rhs.
	(AC_TR_UPCASE_NAME): Replaced by AC_TR_DEFINE.  All callers
	changed.
	(AC_TR_UPCASE_FILE): Likewise.

	* acgeneral.m4 (AC_TR_SH): Don't use the generic AC_TR: there is a
	difficult problem of quoting between m4 and sh.  Use the variable
	$ac_tr_sh to work around this difficulty.
	(AC_VAR_TEST_SET): New macro, which tests if a variable is set.
	(AC_VAR_IF_SET): New `ifelse' macro.
	(AC_CACHE_VAL): Use AC_VAR_IF_SET.
	(AC_INIT_NOTICE): Define $ac_tr_sh.

	* acgeneral.m4 (AC_CHECK_FILE): Converted to use AC_TR and AC_VAR
	families.

	* acgeneral.m4: Fixed the regular expressions: `$' shall not be
	portably in a sed \(\) group.

1999-08-28  Ben Elliston  <bje@cygnus.com>

	* config.guess: Once and for all, emit the correct string for
	Unixware 7! Contributed by Mike Hopkirk.

	* acspecific.m4 (AC_C_INLINE): Qualify the return type of the
	dummy inlined function to satisfy newer C++ compilers. Fix for
	PR autoconf/49.

1999-08-26  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (Changed Results): Correct an error in one of the
	examples. Fix for PR autoconf/38.

1999-08-25  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (Cache Variable Names): Be more explicit about the
	requirements for cache variable names. Fix for PR autoconf/53.

1999-08-25  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* autoreconf.sh: Run aclocal with the -I option only if
	aclocal_dir != `.'.  Fix for PR autoconf/44.

1999-08-22  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acspecific.m4 (AC_PROG_CC): Remove uname test for win32/Cygwin,
	and just test for `cl' as a last resort.

	* autoconf.texi (Particular Programs): Document new optional
	argument to AC_PROG_CC, AC_PROG_CXX and AC_PROG_F77.  Document
	additions to the Fortran 77 compiler search list.

	* acspecific.m4 (AC_PROG_F77): Add more Fortran 77 compilers to
	the search list.  Contributed by Steven G. Johnson.

	(AC_PROG_CC): Likewise.
	(AC_PROG_CXX): Likewise.
	* acspecific.m4 (AC_PROG_F77): Add an optional first argument
	which gives the user an opportunity to specify an alternative
	search list for the compiler.

1999-08-18  Ben Elliston  <bje@cygnus.com>

	* config.guess: Remove "/MP" from the release string on
	multiprocessor x86 machines running SVR4.0. Suggested by Tom
	Purcell.

1999-08-16  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>

	* acgeneral.m4 (AC_CHECK_TYPE): Add optional third argument
	INCLUDES, which specifies the headers in which to search for the
	type in question. Also, pass a "description" argument to
	AC_DEFINE_UNQUOTED.
	* acconfig.h (mode_t, off_t, pid_t, size_t): Remove definitions.
	* autoconf.texi (AC_CHECK_TYPE): Document optional third argument.

1999-08-05  Jeffrey A Law  <law@cygnus.com>

	* config.sub (-wrs case): Use os=-vxworks, not os=vxworks.

1999-08-05  Ben Elliston  <bje@cygnus.com>

	* config.guess: Update patch submission address.

1999-08-05  Ben Elliston  <bje@cygnus.com>

	* config.sub: Accept version number appended to OS name for MiNT.
	Contributed by Guido Flohr.

1999-08-04  Ben Elliston  <bje@cygnus.com>

	* Makefile.in (INSTALL_SCRIPT): Substitute.
	(install): Install scripts with $(INSTALL_SCRIPT).

1999-07-20  Tom Tromey  <tromey@cygnus.com>

	* autoheader.sh: Fixed regexp when searching for missing symbol.
	From Pavel Roskin.

1999-07-16  Tom Tromey  <tromey@cygnus.com>

	* autoheader.sh: Be more stringent when looking to see if symbol
	is in a template file.

1999-07-15  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acspecific.m4 (AC_F77_LIBRARY_LDFLAGS): New implementation, to
	make maintenance easier.
	Grep the initial output so that we don't start parsing "-l" and
	"-L" too early.  From Christopher Lee <chrislee@ri.cmu.edu>

	* acgeneral.m4 (AC_LIST_MEMBER_OF): New "private implementation
	macro" use by AC_F77_LIBRARY_LDFLAGS.
	(AC_LINKER_OPTION): Likewise.

1999-07-11  Ben Elliston  <bje@cygnus.com>

	* config.guess: Cray T3E has an Alpha CPU.

1999-07-04  Mark Elbrecht  <snowball3@bigfoot.com>

	* acspecific.m4 (AC_PROG_CXX): Look for gpp after g++. gpp is the
	DJGPP C++ compiler, since `g++' is not a valid DOS filename.

1999-06-12  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect Linux on ia64.
	* config.sub: Handle ia64.

1999-06-12  Ben Elliston  <bje@cygnus.com>

	* config.guess: Handle `elf32ppclinux' from ld. Contributed by
	Cort Dougan.

1999-06-09  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* autoconf.texi (Pretty Help Strings): Synchronize documentation
	with implementation.

1999-06-04  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Fix sed regexp for handling
	CPP macros with args.

1999-06-04  Nick Clifton  <nickc@cygnus.com>

	* config.sub: Add mcore target.

1999-06-03  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_ACVERSION): Correct version number.
	* autoconf.texi (EDITION): Likewise.
	(VERSION): Likewise.

1999-06-02  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* autoconf.texi (Pretty Help Strings): Document and regenerate the
	indices.
	* acgeneral.m4 (AC_HELP_STRING): New macro.

	* NEWS: Begin documenting "Major changes" for release 2.14.

	* acconfig.h (F77_FUNC): Add.
	(F77_FUNC_): Likewise.

1999-06-01  Akim Demaille  <demaille@inf.enst.fr>

	* acgeneral.m4 (AC_PREFIX_PROGRAM): Use macros of the AC_TR_
	family.
	(AC_HAVE_LIBRARY): Likewise.
	(AC_CHECK_FUNCS): Likewise.
	(AC_CHECK_FILES): Likewise.
	(AC_CHECK_SIZEOF): Likewise.

	* acgeneral.m4 (AC_TR): New macro which performs transliteration
	by m4 when possible, or by `tr' at configure time.
	(AC_TR_UPCASE_NAME): New macro, transliteration 'a-z' to 'A-Z'.
	(AC_TR_UPCASE_FILE): New macro, transliteration 'a-z./-' to
	'A-Z___'.
	(AC_TR_SH): New macro, transliteration to valid sh var name.

	* acgeneral.m4 (_AC_SH_QUOTE): New macro which protects non
	protected backquotes against shell expansion.
	(AC_MSG_CHECKING): Use it.
	(AC_CHECKING): Use it.
	(AC_MSG_RESULT): Use it.
	(AC_VERBOSE): Use it.
	(AC_MSG_WARN): Use it.
	(AC_MSG_ERROR): Use it.

	* acgeneral.m4 (_AC_MESSAGE): New macro to report message at m4
	time.
	(AC_WARNING): New macro to report warnings at m4 runtime.
	(AC_FATAL): New macro, to report fatal error at m4 runtime.

	* acspecific.m4 (AC_RSH): Use AC_FATAL.
	(AC_ARG_ARRAY): Idem.
	(AC_HAVE_BOUNDBANG): Idem.

	* acgeneral.m4 (AC_VAR_IF_INDIR): New macro.
	(AC_VAR_SET): Likewise.
	(AC_VAR_GET): Likewise.

1999-05-30  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* autoheader.m4 (AC_DEFINE): Ignore CPP macro arguments.
	(AC_DEFINE_UNQUOTED): Likewise.

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Change sed regexps to
	recognize CPP macros that take arguments.  Reported, and based on
	a patch, by Steven G. Johnson.
	(AC_OUTPUT_HEADER): Likewise.

	* autoconf.texi (Fortran 77 Compiler Characteristics): Document
	new AC_F77_NAME_MANGLING macro.

1999-05-30  Steven G. Johnson <stevenj@alum.mit.edu>

	* autoconf.texi (Fortran 77 Compiler Characteristics): Document
	new AC_F77_FUNC_WRAPPER macro.

	* acspecific.m4 (AC_F77_WRAPPERS): New macro to define the
	F77_FUNC and F77_FUNC_ CPP macros to properly mangle the names of
	C identifiers so that they match the name mangling scheme used by
	the Fortran 77 compiler.
	(AC_F77_NAME_MANGLING): New macro to test for the name mangling
	scheme used by the Fortran 77 compiler.

1999-05-27  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acgeneral.m4 (AC_CHECK_LIB): Translate the ":" character to a
	"_", which allows checking for member functions in C++ libraries.

1999-05-25  H.J. Lu  <hjl@gnu.org>

	* config.guess (dummy): Changed to $dummy.

1999-05-22  Ben Elliston  <bje@cygnus.com>

	* config.guess: Handle NEC UX/4800. Contributed by Jiro Takabatake.

1999-05-17  Ben Elliston  <bje@cygnus.com>

	Merge with the EGCS source tree.

	* config.guess: Add detection for Interix and UWIN on Windows NT,
	OpenBSD on PA-RISC and UnixWare version 7.x.
	Improve usage of `tr' where sets are concerned.
	Detect all HP 9000 machines.
	Determine machine types more completely on older UnixWare systems.
	Determine C library version on GNU/Linux for the PowerPC.
	* config.sub: Numerous additions. Some cleanup.

1999-04-29  Ben Elliston  <bje@cygnus.com>

	* config.sub: Handle `t3e' alias for Cray T3E. Contributed by
	James A. Lupo.

1999-04-19  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acgeneral.m4 (AC_TRY_LINK_FUNC): Add support for Fortran 77.

1999-04-17  Paul Eggert  <eggert@twinsun.com>

	* autoconf.texi, acspecific.m4 (AC_FUNC_MKTIME): New macro.
	taken from automake's AM_FUNC_MKTIME.
	* acfunctions: mktime now belongs to AC_FUNC_MKTIME.

1999-04-11  Philipp Thomas  <kthomas@gwdg.de>

	* config.sub: Set basic_machine to i586 when target_alias = k6-*.

1999-04-11  Pavel Roskin  <pavel_roskin@geocities.com>

	* autoheader.m4: Do not complain about using AC_TRY_RUN without a
	cross-compilation action--only autoconf should do this.

1999-04-11  Paul Eggert  <eggert@twinsun.com>

	* acgeneral.m4 (AC_CHECK_TYPE): Allow first argument to be a
	shell variable.

1999-04-11  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_C_STRUCT_MEMBER): New macro.
	* acspecific.m4 (AC_STRUCT_TIMEZONE): Rewrite in terms of
	AC_C_STRUCT_MEMBER.
	(AC_STRUCT_ST_BLOCKS): Likewise.
	(AC_STRUCT_ST_BLKSIZE): Likewise.
	(AC_STRUCT_ST_RDEV): Likewise.
	* autoconf.texi (Structures): Update. Add menu for subnodes.
	(Particular Structures): New node.
	(Generic Structures): New node.
	(AC_C_STRUCT_MEMBER): Document.

1999-04-10  Ben Elliston  <bje@cygnus.com>

	* mkinstalldirs: Add `-m' flag to specify the mode of a newly
	created directory. Add command line usage and `-h', `--help'
	options. Contributed by Jeff Garzik.

1999-04-08  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_PROG_CC): Try using the `cl' C compiler under
	Cygwin. Contributed by Scott Stanton.

	* config.sub: Handle MPE/iX.

1999-04-07  Ben Elliston  <bje@cygnus.com>

	* config.guess: Add more CLIX machines. From Thomas Dickey.

1999-04-06  Ben Elliston  <bje@cygnus.com>

	* config.guess: Avoid the possibility of `ld' on GNU/Linux systems
	being something other than the GNU linker (such as a directory, in
	the case of GNU binutils).

1999-04-05  Ben Elliston  <bje@cygnus.com>

	* config.sub: Add modern Alpha processors. Reorganise.

	* acspecific.m4 (AC_CYGWIN): Do not remove conftest*; let
	AC_TRY_COMPILE clean up after itself.
	(AC_MINGW32): Likewise.
	(AC_EMXOS2): Likewise.

	* acspecific.m4 (AC_EMXOS2): New macro. Contributed by Ryuji Abe.
	(AC_EXEEXT): Handle case for OS/2.
	(AC_PROG_CC_WORKS): Show $CPPFLAGS when running the compiler.
	(AC_PROG_CXX_WORKS): Likewise.

	* autoconf.texi (AC_EMXOS2): Document.
	(AC_EXEEXT): Mention OS/2.
	(AC_MINGW32): Move.
	(UPDATED): Update.

1999-04-02  Mike Stump  <mrs@wrs.com>

	* acgeneral.m4 (AC_ARG_PROGRAM): Remove spaces, as there is one
	more pass through sh than you think.

1999-04-01  Ben Elliston  <bje@cygnus.com>

	* standards.texi: Update from FSF.

	* acspecific.m4 (AC_PROG_INSTALL): Avoid using the installation
	script belonging to HP `pwplus' when running the install
	program. Contributed by Steven G. Johnson and Dave Adams.
	(AC_EXEEXT): Do not consider `.xcoff' as a possible executable
	filename extension. Contributed by Robert S. Maier.

1999-03-28  Tom Tromey  <tromey@cygnus.com>

	* autoconf.texi (AC_OUTPUT_COMMANDS): Add to macro index.

1999-03-22  Ben Elliston  <bje@cygnus.com>

	* config.guess: Rename BUILD_CC to CC_FOR_BUILD; there is a
	precedent for the usual name of this environment variable.

1999-03-22  Pavel Roskin  <pavel_roskin@geocities.com>

	* autoheader.sh: Report an error if AC_CONFIG_HEADER is not
	present in the configure input file.

1999-03-21  Ben Elliston  <bje@cygnus.com>

	* config.guess: Correct typo for detecting ELF on FreeBSD.

1999-03-14  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* config.guess: Recognise HP 9000/8x0 machines.

1999-03-11  Ben Elliston  <bje@cygnus.com>

	* config.sub: Recognise hppa2.0w. Contributed by Erez Zadok.

1999-03-11  Pavel Roskin  <pavel_roskin@geocities.com>

	* config.guess: Prefer $HOST_CC over $CC when deciding on a C
	compiler to compile stub programs. Allow this to be overridden
	with the value of $BUILD_CC in cross-compilation environments
	where the native compiler must be used for running tests on the
	host.

1999-03-11  Ben Elliston  <bje@cygnus.com>

	* config.guess: Recognise MiNT and TOS on Atari machines.
	Contributed by Guido Flohr.

	* config.sub: Add aliases for MiNT.

1999-03-10  Ben Elliston  <bje@cygnus.com>

	* config.guess: Recognise HP 9000/800. Merged from the master
	FSF version of this file.

1999-03-01  Gordon Matzigkeit  <gord@trick.fig.org>

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Don't require that macro
	symbols be valid C identifiers.

1999-02-28  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_FUNC_VFORK): Allow test to behave correctly
	when $ac_cv_func_vfork_works is the empty string. Contributed by
	<red@nym.alias.net>.

	* config.sub: Add `oskit' as a basic system type. From Godmar Back.

1999-02-26  Ben Elliston  <bje@cygnus.com>

	* install-sh: Avoid trailing whitespace.

	* autoscan.pl (parse_args): Make compatible with Perl version 4.

1999-02-24  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect LynxOS 3.x. Contributed by Giuseppe
	Guerrini.

1999-02-23  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect ReliantUNIX on MIPS. Contributed by Andrej
	Borsenkow.
	Also remove random trailing whitespace.

1999-02-22  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (System Services): Explain the semantics of the
	AC_SYS_RESTARTABLE_SYSCALLS macro in greater detail. Suggested by
	Franc,ois Pinard.

1999-02-22  Stu Grossman  <grossman@cygnus.com>

	* acgeneral.m4 (AC_CANONICAL_SYSTEM): Explicitly require
	AC_CANONICAL_HOST, AC_CANONICAL_TARGET and AC_CONICAL_BUILD.
	(AC_CONFIG_AUX_DIR): Run auxillary shell scripts through $SHELL.
	Do not rely on their magic number.
	(AC_CANONICAL_THING): New macro. Cache results.
	(AC_CANONICAL_HOST): Reimplement; use AC_CANONICAL_THING.
	(AC_CANONICAL_TARGET): Likewise.
	(AC_CANONICAL_BUILD): Likewise.
	(AC_OUTPUT): Use $SHELL.
	(AC_OUTPUT_SUBDIRS): Likewise.

1999-02-19  Ben Elliston  <bje@cygnus.com>

	* config.guess: Make C code clean for C++ compilers. Contributed
	by Markus Oberhumer.

1999-02-19  Ben Elliston <bje@cygnus.com>

	* config.guess: Automatically recognise ELF on FreeBSD. From Niall
	Smart and improved by Andrew Cagney.

1999-02-19  Felix Lee  <flee@cygnus.com>

	* acgeneral.m4 (AC_CACHE_VAL): Don't need backticks. This is a
	performance enhancement for about a 5% reduction in the runtime of
	the generated configure script.

1999-02-18  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect NEC EWS4800. Contributed by Koji Arai.

1999-02-11  Ben Elliston  <bje@cygnus.com>

	* standards.texi: Update from FSF.

1999-02-10  Tom Tromey  <tromey@cygnus.com>

	* acgeneral.m4 (AC_CACHE_LOAD): Avoid sourcing special files.
	Works around bug in some versions of bash.

1999-02-02  Pavel Roskin  <pavel_roskin@geocities.com>

	* autoconf.texi: Corrected definitions for AC_CONFIG_AUX_DIR and
	AC_PROG_F77. Duplicated descriptions for AC_SEARCH_LIBS and
	AC_TRY_LINK_FUNC removed.

1999-01-29  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_EXEEXT): Ignore C++ source files.

1999-01-28  Gary V. Vaughan  <gvaughan@oranda.demon.co.uk>

	* acspecific.m4 (AC_PROG_INSTALL): set INSTALL_SCRIPT to
	${INSTALL} so that automake doesn't propogate install time flags
	for INSTALL_PROGRAM into INSTALL_SCRIPT.

1999-01-25  Ben Elliston  <bje@cygnus.com>

	* install-sh: Use $mkdirprog, not `mkdir' directly. Contributed by
	Jeff Garzik.

	* Makefile.in (clean mostlyclean distclean maintainer-clean):
	Remove .m4f files.

	* config.guess: Synchronise with master FSF version. Add detection
	for HP MPE/iX.

	* config.sub: Likewise.

1999-01-23  Ben Elliston  <bje@cygnus.com>

	* config.guess: Catch more NILE system models. Contributed by
	Akim Demaille and Graham Jenkins.

	* autoheader.sh: Force $tmpout to close to avoid Windows file
	sharing conflicts. From Mark Elbrecht.

1999-01-21  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (Introduction): Update bug reporting address.

	* config.guess: Likewise.

1999-01-19  Pavel Roskin  <pavel_roskin@geocities.com>

	* ifnames.sh: Source lines ending with backslash are prepended to
	the following line before further processing.

1999-01-19  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_PROG_CXXCPP): Substitute @CXXCPP@ correctly
	when $CXXCPP is overridden in the supervisory shell. Contributed
	by Michael Schoene.

1999-01-16  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_ACVERSION): Bump to 2.14.1 for prereleases.

1999-01-14  Scott Bambrough  <scottb@corelcomputer.com>

	* config.guess: Recognise armv[234][lb] types (ie. `armv*').

1999-01-13  Ben Elliston  <bje@cygnus.com>

	* autoconf.sh: Remove -v and --verbose from the command line usage
	help. They do not exist.

1999-01-12  Scott Bambrough  <scottb@corelcomputer.com>

	* config.sub: Recognize armv[234][lb] types (ie. `armv*'). Add
	alias for the NetWinder; set company to `corel'.

1999-01-11  Akim Demaille  <demaille@inf.enst.fr>

	* autoreconf.sh (verbose): use either `:' or `echo'.
	(aclocal_m4): Renamed from aclocal.
	(aclocal_flags): New var.
	Run aclocal using $aclocal_flags.
	Redirect ls' stderr to /dev/null to avoid spurious messages.

1999-01-11  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect HP-UX on MPE/iX machines.

	* acgeneral.m4 (AC_ACVERSION): Increment to 2.14.

	* autoconf.texi (EDITION): Likewise.
	(VERSION): Likewise.

1999-01-10  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect Rhapsody on PowerPC and other machines.
	Contributed by Wilfredo Sanchez.

	* config.sub: Add rhapsody and openstep aliases.

1999-01-09  Ben Elliston  <bje@cygnus.com>

	* Makefile.in (html): New target. Generate HTML documentation.
	(install-strip): Add.
	Contributed by Wilfredo Sanchez.

	* autoconf.texi (AC_CHECK_LIB): Explain more. Contributed by Bob
	Friesenhahn.
	(UPDATED): Bump to 1999.

	* config.guess: Distinguish between OpenStep and NeXTStep
	platforms. Contributed by Wilfredo Sanchez.

1999-01-09  J"orn Rennecke  <amylaar@cygnus.co.uk>

	* acgeneral.m4 (AC_CHECK_FUNC): Don't actually call the function.

1999-01-09  H.J. Lu  <hjl@lucon.org>

	* config.guess: Permit multiple concurrent instances by including
	the process ID of the shell running this script in temporary
	filenames.

1999-01-08  Ben Elliston  <bje@cygnus.com>

	* autoconf.sh: More useful and up-to-date help from the --help
	option. Contributed by Akim Demaille.

	* autoheader.sh: Likewise.

	* autoreconf.sh: Likewise.

	* autoscan.pl: Likewise.

	* autoupdate.sh: Likewise.

	* ifnames.sh: Likewise.

	* config.guess: Detect Cray T3E and NEC SX-4, SX-5 machines.
	Contributed by Andreas Schott.

1999-01-06  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (AC_OBJEXT): Correct documentation.

1999-01-05  Ben Elliston  <bje@cygnus.com>

	* Version 2.13.

1999-01-04  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (AC_CHECK_FILE): Document.
	(AC_CHECK_FILES): Likewise.
	(AC_SEARCH_LIBS): Likewise.
	(AC_FUNC_SELECT_ARGTYPES): Use Jeff Garzik's version.
	(AC_C_STRINGIZE): Likewise.
	(AC_CYGWIN): Document.
	(AC_EXEEXT): Likewise.
	(AC_OBJEXT): Likewise.
	(AC_MINGW32): Likewise.
	(AC_TRY_LINK_FUNC): Likewise.
	(AC_VALIDATE_CACHED_SYSTEM_TUPLE): Likewise.

1999-01-01  Ben Elliston  <bje@cygnus.com>

	* NEWS: Update.

	* acspecific.m4 (AC_PROG_CXX_WORKS): Specify an explicit return
	type for `main' to keep modern C++ compilers happy.

1998-12-28  Jeff Garzik  <jgarzik@pobox.com>

	* autoconf.texi:
	 (AC_SEARCH_LIBS, AC_CHECK_FILE, AC_CHECK_FILES,
	  AC_TRY_LINK_FUNC): Document.
	 (AC_CHECK_LIB): Indicate the absence of
		action-if-not-found will not kill default action.
	 (AC_SYS_INTERPRETER): Alphabetize with rest of section,
		s/ac_cv_sys_interpreter/interpval/

	* acgeneral.m4:
	 (AC_TRY_LINK_FUNC): Fix arg transposition.
	 (AC_SEARCH_LIBS): Require autoconf 2.13, add other-libs arg.
	 (AC_CHECK_FILES): Add underscore to HAVE_file define.

	* acspecific.m4:
	 (AC_SYS_INTERPRETER): New shell var 'interpval' stores
		internal var ac_cv_sys_interpreter.

1998-12-27  Ben Elliston  <bje@cygnus.com>

	* autoconf.texi (AC_PROG_INSTALL): Update.
	(AC_FUNC_ALLOCA): Correct code fragment.
	(AC_FUNC_SELECT_ARGTYPES): Document.
	(AC_C_STRINGIZE): Likewise.
	(AC_VALIDATE_CACHED_SYSTEM_TUPLE): Likewise.

	* acspecific.m4 (AC_CYGWIN): Rename from `AC_CYGWIN32'.
	(AC_CYGWIN32): Warn about deprecated usage. Forward to AC_CYGWIN.

	* config.sub: Drop `32' from `Cygwin32'.

	* config.guess: Likewise.
	Handle BSD/OS variants for non-x86 machines. Contributed by Chris
	P. Ross.

	* NEWS: Update.

	* configure: Rebuild.

1998-12-26  Ben Elliston  <bje@cygnus.com>

	* autoreconf.sh (stamp): Add missing quote.

	* mkinstalldirs: Write output which is not diagnostic to standard
	output and not standard error. Suggested by Steve Robbins.

1998-12-11  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acconfig.h, acgeneral.m4, acspecific.m4, autoconf.texi: Change
	all of the Fortran 77 code to use the new `F77' prefix instead of
	the older `FC' prefix.

1998-12-11  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_ACVERSION): Bump to 2.13.

	* autoconf.texi (EDITION): Likewise.
	(VERSION): Likewise.

1998-10-30  Jeff Garzik <jgarzik@pobox.com>

	* autoconf.texi: Document AC_CACHE_LOAD and AC_CACHE_SAVE. Explain
	how AC_CACHE_SAVE can be used as a means of syncing the cache to
	disk prior to doing something potentially fatal in configure.

1998-10-29  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* autoreconf.sh: Support several automake command line options,
	and run aclocal and automake when needed. Also, create stamp files
	just like automake's Makefiles would do for config headers.
	Additional contributions from Tom Tromey.

1998-10-24  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acgeneral.m4 (AC_LANG_FORTRAN77): Remove [] (i.e. the m4 quotes)
	since it was confusing the test suite.  Also make `f77' the default
	for FC, otherwise the test suite fails.

	* autoconf.texi (Fortran 77 Compiler Characteristics): Added new
	node documenting the new AC_F77_LIBRARY_LDFLAGS macro.

	* acspecific.m4 (AC_F77_LIBRARY_LDFLAGS): New macro to determine
	the linker flags (e.g. `-L' and `-l') for the Fortran 77 intrinsic
	and run-time libraries.

1998-10-24  Ben Elliston  <bje@cygnus.com>

	* acspecific.m4 (AC_FUNC_SELECT_ARGTYPES): New macro. Detects the
	types of formal arguments to select(). Contributed by Lars Hecking.

	* acconfig.h (SELECT_TYPE_ARG1): Add.
	(SELECT_TYPE_ARG234): Likewise.
	(SELECT_TYPE_ARG5): Likewise.

	* config.guess: Hide warnings emitted by the HP linker when
	generating a PA 2.0 object file. Contributed by Marcus Thiessel.

1998-10-20  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_LANG_RESTORE): Fix a typo spotted by Noah
	Elliott.

1998-10-09  Tom Tromey  <tromey@cygnus.com>

	* Makefile.in (autoconf.m4f): New target.
	(autoheader.m4f): Likewise.

1998-10-08  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_TRY_LINK_FUNC): Fix macro ordering.

Sun Oct  4 21:57:20 1998  Tom Tromey  <tromey@cygnus.com>

	* autoconf.texi (Defining Symbols): Documented third argument to
	AC_DEFINE.
	* autoheader.m4 (AC_DEFINE_UNQUOTED): Generate `verbatim'
	assignment if third argument given.
	(AC_DEFINE): Likewise.
	* acgeneral.m4 (AC_DEFINE): Handle case where $# is 3.
	(AC_DEFINE_UNQUOTED): Likewise.
	* autoheader.sh: Echo $verbatim if not empty.

1998-10-03  Ben Elliston  <bje@cygnus.com>

	* acconfig.h (FC_NO_MINUS_C_MINUS_O): Add to complete the Fortran
	77 support.

	* README: Update bug reporting address. Include maintainer info.

1998-10-02  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_VALIDATE_CACHED_SYSTEM_TUPLE): New macro. This
	macro can be used to ensure that a configure script will not run
	on a second system without removing the cache and re-running
	configure. Contributed by Alexandre Oliva.

1998-09-29  Ben Elliston  <bje@cygnus.com>

	* acgeneral.m4 (AC_SEARCH_LIBS): New macro. Searches a series of
	libraries for a given function. Contributed by Jim Blandy.
	(AC_TRY_LINK_FUNC): New macro. Again, from Jim.

1998-09-28  Ben Elliston  <bje@cygnus.com>

	* config.guess: Detect multiprocessor DC/OSx running on Pyramid
	MIServer machines.  Contributed by Graham K. Jenkins.

	* acgeneral.m4 (AC_CHECK_PROG): Fix a bug if the supplied path
	contains colons. This was observed with some versions of NetBSD
	`sh' and some versions of `bash'.
	(AC_PATH_PROG): Likewise. Contributed by Tom Yu.

1998-09-27  Ben Elliston  <bje@cygnus.com>

	* Makefile.in (all): Generate frozen .m4 files at build time.
	(install): Do not freeze .m4 files. Install pre-frozen .m4f files
	using $(INSTALL_DATA).
	(.m4.m4f): Freeze files if m4 supports stored internal state.
	Contributed by Karl Heuer.

	* install-sh: Import latest version from the FSF.

	* mkinstalldirs: Likewise.

	* config.guess: Apply the sysconf(2) test to HP 9000/600-series,
	9000/802, 9000/804 and 9000/892 machines.  Contributed by Pavel
	Roskin.
	Detect UnixWare 7.  Contributed by Paul Gampe.

	* acspecific.m4 (AC_PROG_INSTALL): Substitute `INSTALL_SCRIPT'.
	Contributed by Franc,ois Pinard
	(AC_C_STRINGIZE): New macro to test the availability of the
	stringizing operator in the C preprocessor. Contributed by Arnold
	Robbins on behalf of the GNU AWK project.

	* acconfig.h (HAVE_STRINGIZE): Add for the AC_C_STRINGIZE macro.

	* testsuite/Makefile.in (check): If DejaGNU is not installed,
	print a warning and skip the `dejacheck' target (which will fail).
	(site.exp): Use tests to guard commands from generating error
	messages if `site.exp' or `site.bak' do not exist. Contributed by
	Karl Heuer.
	(dejacheck): Remove unused target.

1998-09-26  Ben Elliston  <bje@cygnus.com>

	* texinfo.tex: Import latest version from the FSF.

	* config.guess: Treat all SPARC variant processors running BSD/OS
	as just `sparc' for compatibility reasons.  Contributed by Chris
	Torek.

	* acgeneral.m4 (AC_CHECK_FILE): New macro. Checks for the
	existence of a file in the file system (native only).
	Contributed by Ken Raeburn.
	(AC_CHECK_FILES): Likewise.

1998-09-15  Didier Verna  <verna@inf.enst.fr>

	* acspecific.m4 (AC_PATH_XTRA): use X_EXTRA_LIBS add-on libraries
	in the test for libICE. It is needed at least under Solaris.

1998-09-15  Ben Elliston  <bje@cygnus.com>

	* config.guess: Handle strange processor ID assignments on AIX
	machines.  Contributed by Didier Desseaux.

Sat Sep 12 16:25:00 1998  Aaron Crane  <aaronc@pobox.com>

	* acgeneral.m4 (AC_CHECK_TYPE): Changed the egrep regex to avoid
	incorrectly assuming that if foobar_t is defined, then so is
	bar_t.

Tue Sep  8 14:06:04 1998  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* acgeneral.m4: Make the following macros Fortran 77 aware
	(i.e. conditionalize whether to `#include "confdefs.h"', etc.):
	(AC_TRY_COMPILE)
	(AC_TRY_LINK)
	(AC_CHECK_LIB)

	* acgeneral.m4 (AC_LANG_FORTRAN77): Rename `AC_LANG_FORTRAN' to
	`AC_LANG_FORTRAN77'.  Change the Fortran 77 language macro from
	`FORTRAN' to `FORTRAN77'.
	(AC_LANG_RESTORE): Change the Fortran 77 language macro from
	`FORTRAN' to `FORTRAN77'

	* autoconf.texi: Updated Fortran 77 documentation, particularly
	for `AC_TRY_COMPILE', `AC_TRY_LINK' and `AC_CHECK_LIB'.

Thu Sep  3 09:34:39 1998  Matthew D. Langston  <langston@SLAC.Stanford.EDU>

	* autoconf.texi: Added Fortran 77 documentation.

	* acspecific.m4 (AC_PROG_FC): New macro.  Determine a Fortran
	compiler to use.
	(AC_PROG_FC_WORKS): New macro.
	(AC_PROG_FC_GNU): New macro.
	(AC_PROG_FC_G): New macro.
	(AC_PROG_FC_C_O): New macro.

	* acgeneral.m4: Add FFLAGS (Fortran 77 flags).
	(AC_LANG_FORTRAN): New macro.
	(AC_LANG_RESTORE): Make Fortran 77 aware.
	(AC_TRY_COMPILER): Make Fortran 77 aware (i.e. conditionalize
	whether to `#include "confdefs.h"').

Thu Jun 18 12:13:27 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acspecific.m4 (AC_EXEEXT): Correct setting of ac_exeext when
	there is no extension.

Mon Jun  1 12:30:39 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acgeneral.m4 (AC_CHECK_PROG): Set IFS to just ":" when searching
	through PATH.
	(AC_PATH_PROG): Likewise.
	* acspecific.m4 (AC_PROG_INSTALL): Likewise.
	(AC_PROG_CC): On cygwin32, if neither gcc nor cc
	are found, look for cl.
	(AC_PROG_CXX): Look for cl after all other choices.
	* configure: Rebuild.

Thu May 28 18:37:36 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acgeneral.m4 (AC_ACVERSION): Bump to 2.12.2.

	Add support for Visual C++:
	* acgeneral.m4 (ac_exeext, ac_objext): New variables.
	(ac_link): Use ac_exeext.
	(AC_TRY_COMPILER, AC_TRY_LINK, AC_TRY_RUN_NATIVE): Likewise.
	(AC_TRY_CPP): Remove lines from stderr which contain only the name
	of the file.
	(AC_REPLACE_FUNCS): Use ac_objext.
	* acspecific.m4 (AC_PROG_CC): Check whether compiler supports -g
	even if it is not gcc.
	(AC_PROG_CXX): Likewise.
	(AC_PROG_CPP): Try running the compiler with the -nologo option.
	(AC_FUNC_ALLOCA): Check for _MSC_VER.  Use ac_objext.
	(AC_FUNC_MEMCMP): Use ac_objext.
	(AC_STRUCT_ST_BLOCKS): Likewise.
	(AC_OBJEXT): New macro.
	(AC_CYGWIN32, AC_MINGW32, AC_EXEEXT): New macros.
	* configure: Rebuild.

	* Makefile.in (editsh): Substitute for SHELL.
	(Makefile, config.status): Use $(SHELL) when running
	config.status.
	* autoconf.sh: Change initial /bin/sh to @SHELL@.
	* autoheader.sh: Likewise.
	* autoreconf.sh: Likewise.
	* autoupdate.sh: Likewise.
	* ifnames.sh: Likewise.

Thu Apr 30 16:29:00 1998  Syd Polk  <spolk@cygnus.com>

	* acspecific.m4 (SETPGRP_VOID): The test for setpgrp needs
	to have unistd.h included or the DEC compiler does not
	flag the error that triggers setting the variable.

Tue Nov 18 14:21:38 1997  Eric Mumpower  <nocturne@cygnus.com>

	* autoreconf.sh: Do the right thing when AC_CONFIG_HEADER is
	given more than one filename. As noted in the "Invoking
	autoheader" node of the info files, autoheader will use the first
	file argument given to AC_CONFIG_HEADER. Prior to this patch,
	autoreconf would end up executing incorrect shell code (e.g.
	"test ! -f 1.h 2.h.in") in such cases.
	Patch submitted in parallel to bug-gnu-utils@prep.ai.mit.edu.

Fri Oct  3 18:10:39 1997  Ian Lance Taylor  <ian@cygnus.com>

	* acgeneral.m4 (AC_CACHE_SAVE): Add a grep when checking whether
	set quotes correctly, to avoid a cache overflow on HP-UX 9.
	* configure: Rebuild.

Wed Sep 11 15:35:19 1997  Chris Provenzano  <proven@cygnus.com>

	* acgeneral.m4 : Always set SHELL and substitute SHELL.
	When looking for a path for an executable allow the
	user to override with an DOS path.
	* configure : New configure generated by autoconf.

Thu Sep  4 22:30:40 1997  Jeffrey A Law  (law@cygnus.com)

	* acspecific (AC_PROC_INSTALL): Don't use installbsd on OSF.

Wed Sep  3 23:00:44 1997  Chris Provenzano  <proven@cygnus.com>

	* configure : New configure generated by autoconf.
	* Makefile.in : Set SHELL=@SHELL@. configure now substiutes
	${CONFIG_SHELL-/bin/sh} in for @SHELL@ at configure time.

Mon Aug 11 01:40:37 1997  Jason Molenda  <crash@cygnus.co.jp>

	* acspecific (AC_FUNC_VFORK): If cross-compiling, set
	$ac_cv_func_vfork_works to $ac_cv_func_vfork (assume vfork works
	if present).

Tue Aug  5 23:00:05 1997  Ian Lance Taylor  <ian@cygnus.com>

	* acgeneral.m4 (AC_VERSION): Set to 2.12.1.
	(AC_CANONICAL_HOST): Use CONFIG_SHELL to run $ac_config_sub and
	$ac_config_guess.
	(AC_CANONICAL_TARGET, AC_CANONICAL_BUILD): Likewise.

Tue Dec 10 19:38:59 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CACHE_SAVE): Use grep to prevent overflowing
	HP-UX 9.05 /bin/sh buffer in case statement.  From Eric Backus.

Mon Dec  9 23:39:17 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Add a semicolon between
	shell variable assignments; the evaluation order varies between
	implementations.

Tue Nov 26 13:00:28 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* Version 2.12.

Wed Nov 20 13:00:21 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* Test release 2.11.2.

	* acgeneral.m4 (AC_OUTPUT): Remove a now-wrong test for whether to
	make an unquoted here document.
	(AC_CACHE_SAVE): Double-up backslashes in double quotes.
	From Paul Eggert.

	* Test release 2.11.1.

	* acgeneral.m4 (AC_TRY_COMPILE, AC_TRY_LINK): Make the final
	newline consistent with the other AC_TRY_* macros: no final dnl
	is needed to avoid extraneous blank lines.
	(AC_CHECK_LIB, AC_HAVE_LIBRARY, AC_COMPILE_CHECK): Remove
	extraneous dnl's.
	(AC_DIVERSION_CMDS, AC_DIVERSION_ICMDS): New macros.
	(AC_OUTPUT_COMMANDS, AC_OUTPUT): Use them instead of appending to
	list macros.

	* acgeneral.m4 (AC_CACHE_SAVE): Handle cache variable values
	correctly even if they contain single quote, or are quoted by
	the shell.  From Paul Eggert.
	(AC_INIT_PREPARE): Set LC_MESSAGES to C if set.
	From Hans Olsson.
	Set LC_CTYPE to C if set.
	From Thomas Winder.
	* autoconf.sh, autoheader.sh: Likewise set LC_MESSAGES and LC_CTYPE.

Tue Nov 19 10:29:06 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* testsuite/autoconf.g/sizeof.exp: Use the v2 macro name.

	* acgeneral.m4 (AC_OUTPUT_FILES, AC_OUTPUT_HEADER): Support
	creating output files from multiple pieces, concatenated.
	Suggested by Theodore Ts'o.
	(AC_LINK_FILES): If called more than once, concatenate the
	arguments.  From Roland McGrath.
	(AC_CONFIG_SUBDIRS): Likewise.
	(AC_OUTPUT_COMMANDS): New macro.  Suggested by
	Tom Tromey.
	(AC_OUTPUT): Use the lists it sets.

	* acgeneral.m4 (AC_TRY_RUN_NATIVE): Fail if linking fails, like
	AC_TRY_LINK.
	(AC_TRY_RUN): Don't require AC_C_CROSS.
	(AC_TRY_COMPILER): New macro.
	(AC_LANG_C, AC_LANG_CPLUSPLUS): Set cross_compiling.
	* acspecific.m4 (AC_PROG_CC_WORKS, AC_PROG_CXX_WORKS): Use
	AC_TRY_COMPILER instead of AC_TRY_LINK.
	(AC_PROG_CC_GNU, AC_PROG_CC_G): Split out of AC_PROG_CC.
	(AC_PROG_CXX_GNU, AC_PROG_CXX_G): Split out of AC_PROG_CXX.
	For the *_G macros, make the cache variable names non-GNU-specific.
	(AC_C_CROSS): Mark obsolete, and otherwise a no-op.

	* AUTHORS: New file.
	* Makefile.in (DISTFILES): Add it.

	* acspecific.m4 (AC_FUNC_MMAP): Update the getpagesize
	declarations from getpagesize.h.  Check for unistd.h.

	* acgeneral.m4 (AC_OUTPUT_FILES): Run the eval in a subshell.

	* acfunctions: Map fnmatch, strftime, getpgrp, setpgrp to their
	own macros.

	* acgeneral.m4 (AC_OUTPUT_HEADER): Check that $CONFIG_HEADERS is
	unset, not that it's empty.

Mon Nov 18 10:24:50 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* Version 2.11.

Sun Nov 17 20:12:05 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acspecific.m4 (AC_FUNC_STRCOLL): Make the checking message more
	accurate.

Thu Nov 14 11:15:27 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acheaders: Add entry for malloc.h.  Make the strings.h entry
	suggest AC_CHECK_HEADERS instead of AC_HEADER_STDC.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Move initialization of
	ac_max_here_lines here from AC_OUTPUT_HEADER.

	* autoheader.sh: Take the multiple-include protection back out.
	It's not needed for a file that just #defines stuff, and, as Ken
	Raeburn pointed out in Apr 1994:
	Since you don't make it optional, and you don't give the writer of
	configure.in much control over the name of the symbol, it also would
	prevent one "config.h" file in a subdirectory from including
	"../config.h" as a way to avoid duplicating some common tests.

	* acspecific.m4 (AC_PROG_CC_WORKS, AC_PROG_CXX_WORKS): Don't try
	running a program, just try linking.
	(AC_C_CROSS): Make the wording clearer.

Wed Nov 13 10:07:14 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acspecific.m4 (AC_PROG_CC, AC_PROG_CXX): Check whether the
	compiler works before checking whether it's a GNU compiler.
	(AC_FUNC_VFORK): Call _exit after perror.
	(AC_PATH_XTRA): Go back to using -R, as setting an env var as part
	of CC doesn't get eval'd correctly to actually work.
	Directly test whether a space is needed after -R.
	Don't add "-L" to LDFLAGS if $x_libraries is empty.
	(AC_FUNC_STRFTIME): Check for it in -lintl only if it's not in the
	normal libraries.

	* Test release 2.10.3.

	* testsuite/Makefile.in (dejacheck): New target, suggested by Tom
	Tromey.
	(check): Depend on dejacheck.

Tue Nov 12 00:06:14 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_OUTPUT_FILES): Split the list of sed commands in
	conftest.subs into multiple files named conftest.s[1-9][0-9]*.
	Create a pipeline of sed commands that use these files, then delete
	the temporary files.  From John W. Eaton.

	* acspecific.m4 (AC_AIX, AC_MINIX): Remove warnings about AC_TRY_LINK.
	These macros don't change the linkage options.

	* Test release 2.10.2.

	* acspecific.m4 (AC_PROG_CC, AC_PROG_CXX) [GCC]: Use -O2 instead
	of -O.  Suggested by fnf@ninemoons.com (Fred Fish).

	* acgeneral.m4 (AC_OUTPUT_HEADER): Support passing
	AC_CONFIG_HEADER a value containing shell variables.  Suggested by
	Markku Savela and Julian Onions.
	* acgeneral.m4 (AC_TRY_RUN_NATIVE, AC_TRY_LINK, AC_TRY_COMPILE,
	AC_TRY_CPP): Show the test program in config.log if the test fails.
	From Karl Berry.

	* testsuite/config/unix.exp: Run the configure script as "./script"
	in case the user doesn't have "." in their PATH.

Mon Nov 11 18:02:58 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_TRY_COMPILE, AC_TRY_LINK): Deal with smart
	compilers that know that an unused function doesn't have to be
	linked in: call the function directly from main().
	(Removing a legacy from when they tried to run the code, I think-djm.)
	From fnf@ninemoons.com (Fred Fish).

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Rename ac_save_LIBS to avoid
	a clash with AC_CHECK_LIB.
	From Jim Meyering.
	(AC_FUNC_FNMATCH, AC_FUNC_MMAP, AC_FUNC_VFORK, AC_FUNC_WAIT3,
	AC_FUNC_STRCOLL, AC_FUNC_MEMCMP): Rename cache variables to avoid
	wrong results if someone calls AC_CHECK_FUNC for these functions.

	* autoheader.sh: Don't cmp with config.h.in if it doesn't exist yet.
	Don't frob lines 1-@TOP@ or @BOTTOM@-end of acconfig.h's.
	Accept TAB as well as SPC after #undef in acconfig.h's.

Sat Nov  9 01:54:04 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* Test release 2.10.1.

	* acspecific.m4 (AC_PROG_CC_WORKS, AC_PROG_CXX_WORKS): New macros
	adapted from Bruno Haible.
	(AC_PROG_CC, AC_PROG_CXX): Use them.
	* acgeneral.m4 (AC_TRY_RUN_NATIVE): Split out of AC_TRY_RUN.
	(AC_TRY_LINK): Check that the executable exists after linking.
	(AC_EGREP_CPP): Disable m4 quote chars around egrep, so [] in regexps
	isn't eaten.

	* autoheader.sh: Add multiple-inclusion protection for config.h.

	* acgeneral.m4 (AC_PREFIX_PROGRAM): Pretty up the output.
	(AC_CHECK_LIB): Include the function being tested in the message.
	(AC_CHECK_PROG, AC_PATH_PROG): Add a dummy variable to force word
	splitting on the path.

	* acspecific.m4 (AC_FUNC_MMAP): Remove check and uses of valloc.
	It turns out it's a separate issue, for GNU grep.
	Replace the test program with a new version from Mike Haertel.

	* acgeneral.m4 (AC_CACHE_SAVE): Accept the HP-UX sh 'set' output
	format.  From Marcus Daniels.

	* acgeneral.m4 (AC_MSG_CHECKING, AC_CHECKING): Write a message to
	config.log also.  From T.E.Dickey.
	(AC_CHECK_LIB, AC_CHECK_HEADER, AC_CHECK_HEADERS): Replace use of
	tr with sed, to avoid a bug in the AIX 4.1.3.0 tr reported by
	Alain Knaff.  He says that version of tr interprets \055 as a
	range specifier, like an unquoted -.
	* acspecific.m4 (AC_PROG_MAKE_SET, AC_CHECK_HEADER_DIRENT,
	AC_CHECK_HEADERS_DIRENT): Ditto.

	* acspecific.m4 (AC_FUNC_SETPGRP): New macro.
	* acconfig.h (SETPGRP_VOID): New entry.
	From T.E.Dickey.

	* acspecific.m4 (AC_PATH_X_DIRECT): Try /lib/usr/lib/X11 for A/UX.
	From Guillermo Gomez.
	(AC_PATH_XTRA): Replace -R with adding LD_RUN_PATH to CC in the
	Solaris kludge.  Suggested by Paul Eggert.
	Define X_DISPLAY_MISSING with AC_DEFINE, and
	if not using X, clear out the X variables.
	Check system-dependent libs before system-independent ones.
	Check for more system-dependent libs.
	From Karl Berry.
	Use AC_CHECK_FUNC in the system-dependent libs tests.
	From Larry Schwimmer.
	Wart removal: Don't require AC_ISC_POSIX.
	(AC_ISC_POSIX): Require AC_PROG_CC, since it uses $GCC.
	From gvran@uddeborg.pp.se.
	Don't blather about being called before AC_TRY_LINK,
	which is now called in AC_PROG_CC.  Don't encourage using this macro.
	* acconfig.h (X_DISPLAY_MISSING): Add entry.

Fri Nov  8 16:02:08 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acspecific.m4 (AC_PATH_X_DIRECT): Search for /usr/X11 before
	/usr/X11Rn, etc.  From bostic@bsdi.com (Keith Bostic).

	* acgeneral.m4 (AC_CHECK_TYPE) [STDC_HEADERS]: Check in stddef.h, too.
	From Glenn P. Davis.
	Don't require the second char after the type name to be a space.
	(AC_TRY_RUN): Remove the test files before executing the "failure"
	case code.

	* acspecific.m4 (AC_PROG_CXX): Check for cc++ for NexT.
	From Carl Edman.
	(AC_PROG_CC, AC_PROG_CXX): Check whether -g works even if
	C[XX]FLAGS is set.  From T.E.Dickey <dickey@clark.net>
	(AC_FUNC_FNMATCH): New macro.
	* acconfig.h (HAVE_FNMATCH): New entry.

	* acgeneral.m4 (AC_REPLACE_FUNCS): Call AC_CHECK_FUNCS to do the work.

Tue Oct 29 13:03:44 1996  Doug Evans  <dje@canuck.cygnus.com>

	* acgeneral.m4 (AC_OUTPUT_SUBDIRS): Fix thinko in computation of
	ac_sub_srcdir in relative but not "." case.

Thu Oct 10 22:29:37 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CANONICAL_HOST, AC_CANONICAL_TARGET,
	AC_CANONICAL_BUILD): Allow the os part of the string returned by
	config.sub to contain dashes, as in "linux-gnu".

Fri Jul 19 16:59:00 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_TYPE): Add dnl so regexp doesn't have a
	leading newline.

Wed Jun 12 13:56:57 1996  David J MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CHECK_TYPE): Remove extra ')'.

	* Many files: Update the FSF street address.

Sun Jun  9 17:54:23 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_LIB): Add missing \ in last change.

Fri Jun  7 11:54:58 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_LIB): Identifierize lib name in $ac_tr_lib.

Mon May 27 13:49:02 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>

	* acspecific.m4 (AC_SYS_LONG_FILE_NAMES): If $TMPDIR names an
	existing, writable directory, then test it instead of /tmp, /var/tmp,
	and /usr/tmp for long file name support.

	* acgeneral.m4 (AC_PREREQ): Prepend "FATAL ERROR: " to msg.

Sun May 26 19:07:15 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PROG_MAKE_SET): Sanitize $MAKE for use as
	identifier.

	* acgeneral.m4 (AC_CHECK_TYPE): Tighten regexp so ulong doesn't match
	ulong_t.

	* autoheader.sh: Put $syms in a temporary file and use fgrep -f.

Tue May  7 13:20:33 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>

	* acgeneral.m4: Version 2.10 released.

Tue Mar 26 13:03:12 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_OUTPUT_HEADER): Make subdir if necessary.

Thu Mar 21 10:52:03 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Fix name of -lelf cache variable
	name in test of it.
	(AC_PATH_XTRA): Fix name of -ldnet cache variable name in test of it.

Wed Mar 20 09:37:31 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_LIB): Use \055 for -; leading and trailing
	both lose with some tr.

	* acspecific.m4 (AC_C_CONST): Remove check for gcc 2.7 bug.
	RMS wants everyone to lose until gcc is fixed.

	* acgeneral.m4 (AC_CHECK_LIB): Put - last in tr set so it is not
	considered a range.

	* acspecific.m4 (AC_C_CONST): Add check for gcc 2.7 bug.
	From Paul Eggert and Jim Meyering.

	* acgeneral.m4 (AC_CHECK_LIB): Omit `char $2' decl when $2 is `main'.

Wed Mar 13 22:10:42 1996  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>

	* acgeneral.m4 (AC_CHECK_LIB): Put quotes around _ when
	constructing cache variable name, to separate it from preceding
	text.

Sat Mar 16 15:53:22 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* Version 2.9 released.
	* acgeneral.m4 (AC_ACVERSION): Updated to 2.9.

Wed Mar 13 12:49:51 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_OUTPUT_HEADER): Undo last change to $ac_dB,
	and instead change the code written into conftest.hdr.

Tue Mar 12 02:51:24 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_OUTPUT_HEADER): Apply Jan 15 fix to
	AC_OUTPUT_MAKE_DEFS here too: Match `#define foo' without trailing
	space in confdefs.h.  Before configure would lose if all its trailing
	whitespace got stripped, and that can happen in mail.

Sun Mar 10 20:30:09 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_INIT_NOTICE): Add 95 and 96 to copyright years.

Sat Mar  9 18:28:42 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_LIB): Add missing [.

Fri Mar  8 15:06:48 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_LIB): Declare $2 to override gcc2 internal
	prototype.

	* Version 2.8 released.

Wed Mar  6 14:38:31 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_LIB): Use a cache variable name containing
	both the library and function name.

Tue Jan 16 16:39:21 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_PROG): Take optional 6th arg, full name
	of program to reject if found in search path.
	* acspecific.m4 (AC_PROG_CC): If gcc not found use AC_CHECK_PROG
	for cc, rejecting /usr/ucb/cc.
	Fatal configure error if no $CC found at all.

Mon Jan 15 15:57:36 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Match `#define foo' without
	trailing space in confdefs.h.  Before configure would lose if
	all its trailing whitespace got stripped, and that can happen in mail.

Fri Jan 12 14:38:37 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_TRY_CPP): Use "" instead of '' when setting
	ac_try; we need one level of expansion there for $ac_cpp, then
	AC_TRY_EVAL does one more for its the expansion of $ac_cpp.

Thu Jan 11 10:38:19 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_LANG_C, AC_LANG_CPLUSPLUS): Removed echo cmds
	from $ac_cpp, $ac_compile, and $ac_link.
	(AC_TRY_EVAL, AC_TRY_COMMAND): New macros for running tests' commands.
	Always put the configure source line and command line into config.log.
	(AC_TRY_CPP, AC_TRY_COMPILE, AC_TRY_LINK): Use them.
	* acspecific.m4: Use AC_TRY_EVAL and AC_TRY_COMMAND for running
	all tests.

Fri Jan  5 17:50:28 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PATH_X, AC_PATH_X_XMKMF, AC_PATH_X_DIRECT):
	Rearrange logic: do no tests if $with_x=no; make incl and lib
	tests independent, and distinguish unset from empty.

	* autoconf.sh (undefined macro check): \ sed \s inside "".  If
	grep $name in $infile misses, give error message that there must
	be an Autoconf bug.

Tue Dec 19 10:49:20 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* autoconf.sh: Ignore undefined macros in shell comments.

Mon Dec 11 22:12:54 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PROG_CC_C_O): Rearrange logic to get the right
	answer for cc.

Fri Nov 24 17:26:38 1995  Miles Bader  <miles@gnu.ai.mit.edu>

	* autoconf.sh: Define $AWK from the subst @AWK@, and use it.

Wed Nov 22 11:01:16 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Version 2.7.

	* autoheader.m4 (AC_CHECK_FUNCS, AC_CHECK_HEADERS): Expand the
	 optional action args.  From jj@jfch.vc.cvut.cz (Jakub Jelinek).

	* acgeneral.m4 (AC_CHECK_LIB): Translate - in library names to _.
	(AC_ARG_PROGRAM): Use cat instead of echo to avoid SysV echo
	interpreting backslashes.  From kim@tac.nyc.ny.US (Kimmo Suominen).
	(AC_OUTPUT_FILES): Quote $ and \ for being in an unquoted here
	document.  From Paul Eggert.

	* acspecific.m4 (AC_PATH_X_XMKMF): Use ${MAKE-make}, not plain make.
	(AC_C_CONST): Avoid a warning from g++.
	From tgl@sss.pgh.pa.us (Tom Lane).
	(AC_FUNC_MMAP): Check for valloc and getpagesize; don't rely on
	predefines.
	(AC_HEADER_STDC): If cross-compiling, assume the ctype macros are
	ANSI.  From dje@cygnus.com (Doug Evans).
	(AC_TYPE_SIGNAL) [__cplusplus]: Give a full prototype.
	From churritz@cts.com (Chad Hurwitz).
	(AC_FUNC_VFORK): If cross-compiling, use AC_CHECK_FUNC instead.
	From Steve Chamberlain.

Tue Sep  5 20:37:48 1995  Paul Eggert  <eggert@twinsun.com>

	* acspecific.m4 (X_LIBS): Use `-R lib', not `-Rlib', since Sun
	CC 3.0 requires this.

Tue Aug  8 20:10:12 1995  Paul Eggert  <eggert@twinsun.com>

	* acgeneral.m4: When creating config.status, start a new
	here-script just before building conftest.subs, to work around
	a bug in the HP-UX 9 HP9000-800 sh.

Tue Nov 21 17:36:41 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Makefile.in (install): Undo last ASCRIPTS panic change.
	The bug reporter hadn't cleaned up his source dir.

Mon Nov 20 15:26:50 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Version 2.6.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Prettify usage message somewhat.

	* Makefile.in: Use @bindir@, @datadir@, @infodir@.
	(install): Find ASCRIPTS in $(srcdir).

Sat Nov 18 14:21:55 1995  Karl Berry  <karl@cs.umb.edu>

	* autoconf.sh: Allow lowercase letters in the undefined-macro name.

Fri Nov 17 15:05:44 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* Version 2.5 released.

Fri Nov 17 15:23:04 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CHECK_LIB): Don't start tr argument with '+',
	 so as not to confuse old GNU tr's.  From
	 Ian Lance Taylor.
	 (AC_INIT_PARSE_ARGS): Make sure MFLAGS and MAKEFLAGS are empty.
	 From Paul Townsend (aab@cc.purdue.edu).
	 (AC_CHECK_LIB, AC_CHECK_HEADERS, AC_CHECK_FUNC): Remove
	 duplicate `d' from alphabets.

	* acspecific.m4 (AC_USG): Define USG if we don't have rindex and
	 bzero, not if we do have them.
	 From Viktor Dukhovni.

Sun Oct 29 15:13:37 1995  Richard Stallman  <rms@mole.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_PROG): Use arg 5 as search list, not arg 4.

Wed Aug 30 17:34:48 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PROG_CC_C_O): If $CC groks it and cc doesn't
	exist, choose yes.

Wed Jul 26 00:03:26 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Test release 2.4.2.

	* acgeneral.m4 (AC_CHECK_SIZEOF): Take an optional size to
	 use when cross-compiling.

	* acspecific.m4 (AC_FUNC_CLOSEDIR_VOID, AC_DIR_HEADER): If
	 cross-compiling, assume it returns void.  It's not a big loss.
	 From Karl Berry.

	* acgeneral.m4 autoheader.sh: Change tr [a-z] [A-Z] into expansion
	 of the full alphabet, to combat losing AIX 4.1.1 tr when LANG
	 isn't set the way it likes.

	* acspecific.m4 (AC_FUNC_GETMNTENT): Check in -lgen for Unixware.
	From miguel@roxanne.nuclecu.unam.mx (Miguel de Icaza).

	* autoheader.m4 (AC_CONFIG_HEADER): Set config_h to the first
	 argument.  From ghudson@mit.edu (Greg Hudson).

	* Makefile.in (all): Depend on info.

	* acgeneral.m4 (AC_CHECK_PROG, AC_PATH_PROG, AC_CHECK_PROGS,
	 AC_PATH_PROGS, AC_CHECK_TOOL): Add optional PATH
	 parameter.

Mon Jul 24 17:27:11 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CHECK_LIB): Don't enclose tr args in [], for
	 SysV and POSIX.  From Karl Heuer.

Wed Jul 19 17:43:44 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CHECK_LIB): Translate + to p in lib name.

Wed Jun 28 13:45:16 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_ARG_ENABLE, AC_ARG_WITH): Allow an empty value
	 for --enable and --with args.
	 (AC_CACHE_CHECK): New macro.
	* acspecific.m4: Use it where possible.

Tue Jun 27 13:29:54 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_INIT_PARSE_ARGS, AC_INIT_PREPARE): Add options
	 --bindir, --libdir, etc.

Mon Jun 26 20:54:36 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_LANG_C, AC_LANG_CPLUSPLUS): Put the command
	 being run into the log file.

Thu Jun 22 22:33:23 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acspecific.m4 (AC_PROG_INSTALL): Don't cache a shell script path.

	* acgeneral.m4 (AC_CHECK_LIB): Allow lib name to contain a . or /,
	by fixing the cache variable name.

Wed Jun 14 23:07:20 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* Version 2.4.

Sun May  7 08:09:12 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PATH_X_XMKMF): Check for libX11.{so,sl} as
	well as .a when seeing whether LIBDIR or USRLIBDIR is right.

Sat May  6 17:29:07 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PROG_CPP): If CPP is already set, use that as
	the value and set the cache variable to it.

Mon Mar 27 10:48:36 1995  David J. MacKenzie  <djm@churchy.gnu.ai.mit.edu>

	* Version 2.3.

	* acgeneral.m4 (AC_OUTPUT): Add quotes around the echo arguments
	in the trap, so backslashes aren't required for multiline input.
	From G.Wilford@ee.surrey.ac.uk.
	Also use the sed trick when not using a config header file.

Thu Mar 23 18:02:25 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_LANG_C, AC_LANG_CPLUSPLUS): Put "-c" right
	 after compiler name.  Same for "-o conftest".

	* ifnames.sh (AC_MACRODIR): Default to @datadir@, not a hardcoded
	 path.

	* Test release 2.2.1.

	* acgeneral.m4 (AC_OUTPUT): Use sed, not tr, so we only remove the
	 output config header, not the input one too.  From
	 muessig@ipf.bau-verm.uni-karlsruhe.DE (Peter Muessig).
	 (AC_LANG_C): Undo Feb 7 change.  According to Roland McGrath,
	 most compilers require all options but -l... and -o to come first.

	* Makefile.in (uninstall): Don't use $@, since the cd makes it
	 invalid when srcdir is relative.

Wed Mar  8 17:05:06 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* Version 2.2.

Wed Mar  8 12:44:34 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Makefile.in: Follow cd commands with &&, not ;.
	From Franc,ois Pinard.

Tue Mar  7 11:48:19 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acspecific.m4 (AC_FUNC_ALLOCA): Keep sh variable name space
	clean.  Put newline after AC_DEFINE_UNQUOTED call to avoid Irix
	syntax error.

Mon Mar  6 15:07:00 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Test release 2.1.3.

	* acspecific.m4 (AC_FUNC_ALLOCA): Replace nested AC_FUNC_CHECK
	 calls with a loop.

	* acspecific.m4 (AC_FUNC_VPRINTF): Don't check for signal munging.
	 From Paul Eggert.

	* acgeneral.m4 (AC_CACHE_SAVE): Tell the user whether the cache
	 changed or not.  From gnu@toad.com (John Gilmore).

	* Makefile.in (install-info): Don't cd, to avoid breaking
	 install-sh references.

Fri Mar  3 11:41:01 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* Makefile.in (autoconf.info, standards.info): Use --no-split to
	 avoid creating filenames > 14 chars.

	* acgeneral.m4 (AC_CHECK_FUNC): Use assert.h,
	 to avoid protype conflicts from ctype.h (!!) on OSF/1 3.0.

Sat Feb 25 01:56:57 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_C_BIGENDIAN): Check for BYTE_ORDER macro from
	sys/param.h before trying the test program which cannot be
	cross-compiled.

Fri Feb 24 20:02:08 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_FUNC): Include errno.h instead of ctype.h
	in test program.

Wed Feb 22 18:01:27 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* Test release 2.1.2.

Tue Feb 21 13:00:07 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CACHE_VAL): Add extra quotes to work around AIX
	 4.1 bug reported by hyc@locus.com (Howard Chu).

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Check for -lelf before -lkvm.
	Reported by Kaveh R. Ghazi.
	(AC_HEADER_STAT): Check whether S_IFDIR is defined, to work around
	ISC bug reported by rick@anasazi.com (Rick Coupland).

	* autoheader.sh: Better solution to @BOTTOM@ printing.
	From Paul Eggert.

Mon Feb 13 18:13:11 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PROG_CC_C_O): Use sed filter to make sure
	${ac_cc} is always a valid shell variable name.
	(AC_PROG_MAKE_SET): Remove gratuitous backslashes in checking message.

Sun Feb 12 18:42:35 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_TOOL_PREFIX): Require AC_CANONICAL_BUILD,
	so both $build and $host are definitely set before we compare
	them.

Sat Feb 11 04:37:30 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_TOOL): Rewritten.  Take optional third
	arg VALUE-IF-NOT-FOUND.  Check for
	${ac_tool_prefix}PROG-TO-CHECK-FOR first.  If not found and third
	arg given, and ${ac_tool_prefix} is nonempty, check for unadorned
	PROG-TO-CHECK-FOR as well.  Last choice use VALUE-IF-NOT-FOUND.

Fri Feb 10 17:45:53 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_OUTPUT): Fix sed command to produce $ac_dots
	for subdir configures.

Thu Feb  9 14:42:20 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* testsuite/config/unix.exp (autoconf_load): Run the script with
	 /dev/null as the cache.

	* acgeneral.m4 (AC_CHECK_TOOL_PREFIX, AC_CHECK_TOOL): New macros,
	 from Roland McGrath.

	* acspecific.m4 (AC_DECL_YYTEXT): Cache the output file root.
	(AC_C_INLINE): If the compiler doesn't recognize it, define it
	away.  Try __inline__ too.  From Jim Avera.
	(AC_FUNC_GETPGRP): New macro.  From Arnold Robbins.
	* acconfig.h: New entry for it.

	* configure.in: Check for new awk.
	* Makefile.in (editsh): Substitute in AWK.

	* acspecific.m4 (AC_PROG_INSTALL): Allow trailing slashes in PATH
	 elements.
	* acgeneral.m4 (AC_PREFIX_PROGRAM): Ditto.

Tue Feb  7 11:32:09 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_CHECK_LIB, AC_HAVE_LIBRARY): Check and add the new
	 library before existing libs, not after, in case it uses them.
	* acspecific.m4 (AC_FUNC_GETLOADAVG, AC_FUNC_GETMNTENT,
	 AC_FUNC_STRFTIME, AC_DYNIX_SEQ, AC_IRIX_SUN, AC_SCO_INTL): Ditto.

	* autoheader.sh: Allow @BOTTOM@ to be the first line in
	 acconfig.h.  From iwj10@cus.cam.ac.uk (Ian Jackson).

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Add semicolons before
	 AC_DEFINE.  Check for -lkvm before -lutil.  Assume it needs setgid
	 if using -lutil.

	* acgeneral.m4 (ac_compile, ac_link): Put the file name before the
	 variables, so they can contain -l options.

	* acspecific.m4 (AC_FUNC_WAIT3): Sleep longer for HPUX.
	(AC_TYPE_SIGNAL): Declare signal as extern "C" for C++.

	* Makefile.in testsuite/Makefile.in (maintainer-clean): Renamed
	 from realclean.

	* autoconf.sh (TMPDIR): Inherit from environment, or set if not.

	* acgeneral.m4 (AC_PREFIX_PROGRAM): Say we're checking the prefix.

	* acspecific.m4 (AC_ISC_POSIX): Fix typo.
	(AC_PATH_X): Screen out bogus values from imake.
	(AC_PROG_LEX): Check for yywrap, not main, in the library.

Thu Feb  2 11:32:07 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acconfig.h (__CHAR_UNSIGNED): Protect with #ifndef.
	From marcus@ee.pdx.edu (Marcus Daniels).

	* acgeneral.m4 (AC_CACHE_SAVE): Workaround Ultrix and 4.3BSD sh
	 bug in setting the high bit on variable values.
	 From Ken Raeburn.
	 (AC_OUTPUT_FILES, AC_OUTPUT_SUBDIRS): Ignore initial "./" to
	 avoid messing up the dot-dot counts.
	 (AC_OUTPUT_SUBDIRS): Pass INSTALL magic to subdirectories.
	 From Karl Berry.

	* ifnames.sh: Speed up drastically by folding 3N+2 processes into 2.
	From Paul Eggert.

Wed Feb  1 11:58:27 1995  David J. MacKenzie  <djm@catapult.va.pubnix.com>

	* acgeneral.m4 (AC_ARG_ENABLE, AC_ARG_WITH): Add additional
	 quoting for internal consistency.
	 From junio@twinsun.COM (Jun Hamano).

	* acspecific.m4 (AC_PATH_XTRA): R6 function name was wrong.
	From Karl Berry.
	(AC_C_CROSS): Fix typo in cache var name.
	From tgl@sss.pgh.pa.us (Tom Lane).
	(AC_PROG_MAKE_SET): Change / in the make program name into _ so it
	can be part of a shell variable name.
	(AC_DECL_YYTEXT): Fix arguments to AC_TRY_LINK.
	From interran@uluru.stanford.edu (John Interrante).

	* acgeneral.m4 (AC_CHECK_SIZEOF): If test program fails, set the
	 variable to 0 as the doc sez.
	 From eisen@cc.gatech.edu (Greg Eisenhauer).

	* acgeneral.m4, acspecific.m4: Remove *.core and core.* as well as
	 core, for recent BSD's.

	* acspecific.m4 (AC_SYS_INTERPRETER): Use `#! /' instead of `#!/'.
	* acgeneral.m4 (AC_INIT_BINSH): Likewise.
	* All scripts: likewise.
	From woods@kuma.web.net (Greg A. Woods).

	* acgeneral.m4 (AC_INIT_PREPARE): Use fd 6 instead of 4, to
	 prevent a conflict on the Kubota Titan.  From
	 muessig@ipf.bau-verm.uni-karlsruhe.DE (Peter Muessig).

	* autoconf.sh: Use a more concise syntax to set variables.
	From Karl Berry.

	* acspecific.m4 (AC_FUNC_WAIT3): Check page fault measurements to
	 catch Linux.  From tobias@server.et-inf.fho-emden.de (Peter Tobias).

	* acgeneral.m4 (AC_OUTPUT): If running config.status
	 fails, exit with a nonzero status.  From Ken Raeburn.

Tue Dec  6 19:07:07 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_FUNC_GETLOADAVG): Use elf_begin in -lelf
	check, not elf_read.

Mon Nov  7 18:18:11 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_PROG_MAKE_SET): Fix msg; $MAKE is not useful
	Make syntax.

Fri Nov  4 09:08:33 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* Version 2.1.

	* autoreconf.sh: Add -f --force option.
	From Theodore Ts'o.

Thu Nov  3 10:24:08 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_TRY_RUN): Reword warning.

	* acspecific.m4 (AC_PROG_CXX): Notify the user of the check for
	 GNU C++.
	 (AC_PROG_CXX, AC_PROG_CXXCPP): Use g++, not gcc, as default C++
	 compiler.
	* acgeneral.m4 (AC_LANG_CPLUSPLUS): Ditto.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Move ac_usage string directly
	 into the here document to work around A/UX shell limitation.

	* acgeneral.m4 (AC_COMPILE_CHECK): Mention the MSG macros in the
	 obsolete warning.

	* autoscan.pl (output_programs): Use AC_CHECK_LIB, not
	 AC_HAVE_LIBRARY.

	* acgeneral.m4 (AC_CHECK_FUNC): Move prototype outside of function
	 so it works with C++.  From ejb@era.COM (E. Jay Berkenbilt).

Fri Oct 28 11:23:30 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* acspecific.m4 (AC_CHECK_HEADERS_DIRENT): Use define, not
	AC_DEFUN, so the test suite doesn't call it with no arguments,
	leading to a syntax error in the real Bourne shell.

Wed Oct 26 18:40:41 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* Version 2.0.

Tue Oct 25 11:04:16 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_CHECK_HEADER, AC_CHECK_HEADERS): Change -
	in file names to _.
	* acspecific.m4 (AC_CHECK_HEADER_DIRENT, AC_CHECK_HEADERS_DIRENT):
	Likewise.

Mon Oct 24 11:28:20 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* Makefile.in (uninstall): Remove the transformed names.
	(SCRIPTS): Rename from PROGS.
	* configure.in: Likewise.

Fri Oct 21 07:14:23 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_TRY_COMPILE): New macro.
	(AC_LANG_C, AC_LANG_CPLUSPLUS): Set $ac_compile.
	(AC_TRY_LINK): Don't declare exit.
	* acspecific.m4 (AC_C_INLINE, AC_C_CONST, AC_CHECK_HEADER_DIRENT,
	AC_DECL_SYS_SIGLIST, AC_HEADER_SYS_WAIT, AC_TYPE_SIGNAL,
	AC_FUNC_GETLOADAVG, AC_HEADER_TIME, AC_STRUCT_TM,
	AC_STRUCT_TIMEZONE, AC_STRUCT_ST_BLOCKS, AC_STRUCT_ST_BLKSIZE,
	AC_STRUCT_ST_RDEV): Use AC_TRY_COMPILE instead of AC_TRY_LINK.
	(AC_AIX, AC_MINIX, AC_ISC_POSIX): Must come before AC_TRY_COMPILE.

	* acspecific.m4 (AC_PROG_LEX): Don't assume -ll if using lex;
	check for it.  From Mark Eichin.

Thu Oct 20 07:11:22 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_PARSE_ARGS): Ignore --site.

	* autoscan.pl: Add more blank lines to the output.  Pacify perl -w.

Wed Oct 19 09:14:50 1994  David J. MacKenzie  (djm@churchy.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_PREREQ_COMPARE): Allow secondary and ternary
	numbers >99.  From John Eaton.

Wed Oct 19 00:06:40 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* ifnames.sh: Take comments out of sed script.

Tue Oct 18 00:20:04 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_INIT_NOTICE): Set ac_default_prefix.
	(AC_INIT_PARSE_ARGS, AC_SITE_LOAD, AC_OUTPUT): Use it.
	(AC_PREFIX_DEFAULT): New macro.
	From Ken Raeburn.

	* testsuite/autoconf.s/syntax.exp: Renamed from specific.exp.

	* acgeneral.m4 (AC_SITE_LOAD): Change where to look for config.site.

	* configure.in: Call AC_ARG_PROGRAM.
	* Makefile.in (install): Use program_transform_name.

	* acgeneral.m4 acspecific.m4 acoldnames.m4: Clarify copying terms.

	* acgeneral.m4 (AC_CANONICAL_BUILD): Default build to host, not empty.

	* acspecific.m4 (AC_PROG_CC): Recognize NeXT cpp as GNU C.
	From tom@basil.icce.rug.NL (Tom R.Hageman).

Mon Oct 17 18:25:53 1994  David J. MacKenzie  (djm@duality.gnu.ai.mit.edu)

	* acspecific.m4 (AC_PROG_CPP): Use assert.h (comes with gcc), not
	stdio.h (loses for new cross-compilers).  From Roland McGrath.

Tue Oct 11 13:22:22 1994  David J. MacKenzie  (djm@duality.gnu.ai.mit.edu)

	* acspecific.m4 (AC_PATH_XTRA): Add X_PRE_LIBS variable and assume
	-lSM if -lICE is found.  From Karl Berry.

Mon Oct  3 20:12:36 1994  David J. MacKenzie  (djm@duality.gnu.ai.mit.edu)

	* testsuite/Makefile.in (AUTOCONF, AUTOCONFFLAGS): Test
	../autoconf, not installed autoconf.

Sat Oct  1 04:43:43 1994  Paul Eggert  <eggert@twinsun.com>

	* acspecific.m4: Catch `const' bug in NEC SVR4.0.2 mips cc.

	* Makefile.in (.sh, .pl, configure): Do chmod before mv.

	* acheaders, acspecific.m4 (AC_HEADER_SYS_WAIT): New entry.

	* acconfig.h (HAVE_SYS_WAIT_H): New entry.

Wed Sep 28 08:59:01 1994  David MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* Makefile.in: Set datadir to $(prefix)/share.

Tue Sep 27 08:00:38 1994  David MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* Makefile.in: Use implicit rules to make scripts.
	From Jim Meyering.

	* acconfig.h: Remove #undefs of unused symbols.
	From Paul Eggert.
	* testsuite/autoconf.s/defines.exp: New file.
	* testsuite/autoconf.s/specific.exp: Extract the list of macros to
	 test from acspecific.m4 instead of hardcoding it.
	* acspecific.m4 (AC_PROG_CXXCPP): Default CXX to gcc, not c++.

Mon Sep 26 12:32:46 1994  David MacKenzie  <djm@churchy.gnu.ai.mit.edu>

	* acspecific.m4 (AC_HEADER_DIRENT): Only check for -lx if not
	 using dirent.
	* autoreconf.sh: Shorten sed label for OSF/1.
	* acgeneral.m4 acspecific.m4: Change licensing terms for output.

Thu Sep 22 15:36:56 1994  David MacKenzie  <djm@churchy.gnu.ai.mit.edu>

	* autoconf.sh (tmpin): Always set.

Wed Sep 21 13:12:10 1994  David MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_INIT_PREPARE): Remove trailing slashes from
	 srcdir.

Mon Sep 19 17:11:39 1994  David MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_INIT, AC_INIT_PARSE_ARGS, AC_CANONICAL_SYSTEM,
	 AC_ARG_PROGRAM): Make the default for program_transform_name be
	 a valid sed script, and substitute it always.

Sat Sep 17 08:27:58 1994  David MacKenzie  <djm@geech.gnu.ai.mit.edu>

	* autoheader.sh: Protect `for' loop from checking empty $syms.

	* ifnames.sh: Use % instead of , as sed s separator.

	* autoscan.pl: Update output comments.

Fri Sep 16 11:20:02 1994  David MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acspecific.m4 (AC_TYPE_GETGROUPS): Provide a cross compiling
	 default.  From Jim Meyering.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Document
	 --program-transform-name.

Thu Sep 15 16:26:36 1994  David MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_INIT_NOTICE): Clarify copying notice.
	Fix up comments between sections.

	* acspecific.m4 (AC_PROG_LEX): Omit extra checking message.

	* autoreconf.sh: Give usage if non-option args are given.
	* autoconf.sh autoheader.sh: Define AC_LOCALDIR for configure.in.

Thu Sep 15 11:31:13 1994  Ian Lance Taylor  (ian@airs.com)

	* Makefile.in (check): Set AUTOCONFFLAGS from srcdir, not objdir.

Thu Sep 15 09:06:40 1994  David MacKenzie  (djm@churchy.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_MSG_ERROR): Say that it's an error in the message.

	* Makefile.in (check): Copy install-sh from srcdir if needed.

	* autoreconf.sh: Only regenerate autoheader-generated header file
	 templates.  Pass relative macrodir properly.
	* autoconf.sh autoheader.sh autoreconf.sh: Add -l --localdir option.
	Based on work by Mark Eichin.

	* ifnames.sh: Add -h option.
	* autoconf.sh autoheader.sh: Remove -v option.

	* acgeneral.m4 (AC_CHECK_TYPE): Require AC_HEADER_STDC and check
	 stdlib.h if present.

	* acgeneral.m4 (AC_OUTPUT): Protect cache save from interruptions.

Tue Sep 13 09:46:23 1994  David J. MacKenzie  (djm@churchy.gnu.ai.mit.edu)

	* Makefile.in (install): Use srcdir.  From Mark Eichin.

	* acgeneral.m4 (AC_OUTPUT_FILES): Automatically add
	 configure_input comment to Makefiles again.
	* Makefile.in testsuite/Makefile.in: Remove configure_input ref.

	* acgeneral.m4 (AC_LINK_FILES, AC_OUTPUT_LINKS): Reverse the order
	 of the arguments.  Support relative symlinks.

	* acgeneral.m4 acspecific.m4: Remove some gratuitous {} in shell
	 variable references.

	* acgeneral.m4 (AC_OUTPUT_FILES): New output variable
	 configure_input replaces big kludge for adding output comment.
	* Makefile.in, testsuite/Makefile.in: Use it.

Mon Sep 12 23:06:08 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_INIT_PREPARE, AC_OUTPUT_SUBDIRS): Make command
	 line quoting work for shell metachars besides blanks.

Sun Sep 11 23:34:24 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acspecific.m4 (AC_PATH_XTRA): Link with X_EXTRA_LIBS when
	 checking for -lSM.

	* acfunctions (memcmp): Use AC_FUNC_MEMCMP.  From Paul Eggert.

	* acgeneral.m4 (AC_COMPILE_CHECK): Mark obsolete.

Sat Sep 10 10:59:19 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* Makefile.in (DISTFILES): Include install-sh, not install.sh.

	* autoscan.pl: Check AC_MACRODIR.

	* acgeneral.m4 (AC_INIT_PARSE_ARGS, AC_INIT_PREPARE,
	 AC_CONFIG_SUBDIRS, AC_OUTPUT_SUBDIRS): Make quoting of command
	 line options work.
	 (AC_CONFIG_AUX_DIRS): Check for install-sh over install.sh.

	* acspecific.m4 (AC_FUNC_GETMNTENT): Only check for second lib if
	 first lib isn't found.  From Jim Meyering.

Fri Sep  9 10:41:42 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acspecific.m4 (AC_FUNC_MEMCMP): New macro, from Jim Meyering.
	* testsuite/autoconf.s/specific.exp: Test it.

	* testsuite/Makefile.in (site.exp): Simplify.

	* acgeneral.m4 (AC_CACHE_SAVE): Use a shorter syntax for setting
	 the variables.  Idea from Karl Berry.
	 (AC_CHECK_FUNCS, AC_CHECK_HEADERS): Take an action-if-not-found.
	 From Jim Meyering.

	* acconfig.h: Add entries for getmntent and strftime.
	* acspecific.m4 (AC_C_CHAR_UNSIGNED): If GCC, don't run a test
	 program.

Thu Sep  8 10:53:53 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acspecific.m4 (AC_USG): Was passing too many args to AC_TRY_LINK.
	(AC_FUNC_STRFTIME, AC_FUNC_GETMNTENT): New macros.
	(AC_HEADER_DIRENT): Check for Xenix dir libs.
	(AC_XENIX_DIR, AC_SCO_INTL, AC_IRIX_SUN, AC_DYNIX_SEQ, AC_AIX,
	AC_ISC_POSIX, AC_MINIX): Go back to the v1 names.
	* acoldnames.m4: Delete their aliases.
	* testsuite/autoconf.s/specific.exp: Check them.

	* acgeneral.m4 (AC_ARG_PROGRAM): Use `;' instead of `-e' to
	 separate sed arguments, to simplify Makefile usage and support
	 sed arguments containing spaces.
	 (AC_CANONICAL_HOST): Move check for config.sub here from
	 AC_CANONICAL_SYSTEM.

	* autoheader.m4 (AC_CHECK_HEADERS_DIRENT): Redefine.  From Paul Eggert.
	(AC_CHECK_SIZEOF): Redefine this, not the old name.
	(AC_HAVE_LIBRARY): Redefine.

Wed Sep  7 09:32:31 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* testsuite/lib/common.exp: Ignore warnings about test programs.
	* testsuite/autoconf.s/specific.exp: Check AC_FUNC_CLOSEDIR_VOID.

	* Makefile.in (*clean): Remove the new index.
	(dist): Undo adding write perms.  Screws up RCS.
	* acgeneral.m4 (AC_OUTPUT_MAKE_DEFS): Remove comments from sed
	 program.
	* acoldnames.m4: Change a couple of AC_DEFUN to define.

Wed Sep  7 01:27:19 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_SITE_LOAD): Check whether $CONFIG_SITE is empty.

Tue Sep  6 09:55:30 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_ARG_PROGRAM): New macro.
	(AC_INIT_PARSE_ARGS, AC_CANONICAL_SYSTEM): Do a little setup for it.

	* acspecific.m4 (AC_PROG_INSTALL): Clarify comment.  Remove check
	 for bsdinst, since it's no better than our install.sh.
	 (AC_CHECK_HEADER_DIRENT, AC_CHECK_HEADERS_DIRENT): New macros.
	 (AC_HEADER_DIRENT, AC_DIR_HEADER): Use them.
	 (AC_PROG_CC, AC_PROG_CXX): Check whether GCC accepts -g.

	* acgeneral.m4 (AC_INIT_PREPARE): Call AC_PROG_ECHO_N.
	Use define instead of AC_DEFUN for some frequently called or
	internal macros that aren't involved in ordering constraints.

Mon Sep  5 17:37:36 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acspecific.m4 (AC_C_CROSS): Provide default argument to AC_TRY_RUN.

Fri Sep  2 09:30:41 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_TRY_CPP): Use a temp file so sh -x works.
	From Mark Nudelman.

	* acgeneral.m4: --norecursion -> --no-recursion.
	(AC_OUTPUT_LINKS): Reset srcdir to ac_given_srcdir.

	* acspecific.m4 (AC_PATH_X): Call AC_ARG_WITH(x, ...).
	(AC_PROG_INSTALL): Search for bsdinst too.

	* Makefile.in (dist): Make distribution files writable.

	* acgeneral.m4 (AC_OUTPUT): Move trap 0 commands to near the end
	 of configure, to work around shell bug in failing to execute the
	 trap when there are commands after AC_OUTPUT.

Sat Sep  3 19:47:06 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* acgeneral.m4 (AC_OUTPUT_FILES): Write CONFIG_FILES defn
	unquoted, so $1 can contain references to shell variables in configure.

Thu Sep  1 15:34:15 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_TRY_RUN): Always warn if no cross-compile
	 default is given.
	* acspecific.m4 (AC_FUNC_MMAP, AC_FUNC_VFORK, AC_FUNC_WAIT3,
	 AC_FUNC_UTIME_NULL, AC_FUNC_STRCOLL): Provide a default
	 for AC_TRY_RUN.
	 (AC_FUNC_CLOSEDIR_VOID): New macro, broken out of AC_HEADER_DIRENT.

Thu Sep  1 00:06:38 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 acspecific.m4: Discard all output until AC_INIT is
	 called.  Remove now-unnecessary dnl's between macro definitions.
	 (AC_OUTPUT): Add exit 0 and optional unquoted here document to
	 end of config.status.

Wed Aug 31 00:11:28 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acspecific.m4 (AC_PATH_X_DIRECT): Use AC_TRY_LINK instead of
	 AC_CHECK_LIB, so we don't add the library to $LIBS or print anything.
	 (AC_PATH_XTRA): Remove initial checking message.
	 (AC_HEADER_STDC): In test program, default to no STDC headers if
	 cross compiling.

Tue Aug 30 16:16:29 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* autoreconf.sh: Add -h option.
	* autoupdate.sh: Remove -v option.

	* acgeneral.m4 (AC_EGREP_CPP, AC_TRY_CPP): Add parens around eval
	 for old shells.  From Kaveh Ghazi.
	 (AC_TRY_RUN): Warn when generating configure, if called without
	 a default parameter and AC_CANONICAL_SYSTEM has been called.

	* autoheader.sh: Don't run `for' loops on empty lists.
	From Ken Raeburn.

	* autoconf.sh autoheader.sh: Print the version number using grep
	 like the other scripts, not using m4.
	* acgeneral.m4: Remove conditional for printing version number.
	It broke with frozen files.

	* autoheader.m4: New file.
	* autoheader.sh: Use it; the frozen version if possible.
	* Makefile.in (install): Install a frozen autoheader.m4f if possible.
	* autoconf.m4: Don't sinclude acsite.m4 here.
	* acgeneral.m4 (AC_INIT): Include it here.

Tue Aug 30 14:02:07 1994  David J. MacKenzie  (djm@mole.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_CHECK_LIB): Use AC_DEFINE_UNQUOTED.
	From Jim Meyering.

	* acgeneral.m4: Revise diversions, to topologically order
	macros called via AC_REQUIRE.
	(AC_DIVERT_PUSH, AC_DIVERT_POP): New macros.
	(AC_INIT, AC_ARG_ENABLE, AC_ARG_WITH, AC_SUBST, AC_SUBST_FILE,
	AC_REQUIRE): Use them.
	From Franc,ois Pinard (bless his soul!).
	(AC_PRO, AC_EPI): New macros.
	(AC_DEFUN): Use them.
	(AC_INIT): sinclude aclocal.m4 herea.
	* autoconf.m4: Not here.

	* autoconf.sh: Use a freeze file if available and m4 can do it.
	* Makefile.in (install): Install a freeze file if m4 supports it.

Mon Aug 29 16:18:22 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_TRY_CPP): Remove subshell and move quotes.

Sun Aug 28 17:37:26 1994  David J. MacKenzie  (djm@bennett.eng.umd.edu)

	* acspecific.m4 (AC_C_CHAR_UNSIGNED, AC_C_LONG_DOUBLE,
	 AC_C_INLINE): Don't AC_REQUIRE AC_PROG_CC.

	* acspecific.m4 (AC_RSH, AC_ARG_ARRAY, AC_HAVE_POUNDBANG): Define
	 to print error messages.

	* acgeneral.m4 (AC_OUTPUT_LINKS): Insert ac_links and ac_files
	 into config.status using an *un*quoted here document.
	 From Ken Raeburn.

Sat Aug 27 13:31:58 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_OUTPUT_HEADER): Remove comments from within sed
	script.  From Kaveh Ghazi.

Fri Aug 26 17:03:18 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)

	* autoconf.sh, acgeneral.m4: __LINE__ -> __oline__.

	* acgeneral.m4 (AC_TRY_CPP, AC_EGREP_CPP): Append any error output
	to config.log.
	(AC_EGREP_CPP): Don't use a temp file.

	* acspecific.m4 (AC_FUNC_ALLOCA): Require CPP.

	* acgeneral.m4 (AC_INIT_PREPARE): Replace AC_SUBST_DEFAULT calls
	with AC_SUBST.
	(AC_SUBST_DEFAULT): Macro removed.
	* acspecific.m4 (AC_PROG_CC, AC_PROG_CXX): If CFLAGS or CXXFLAGS
	was not set already, give it a default value according to whether
	we have gcc.

	* acspecific.m4 (AC_PATH_XTRA): Use AC_CHECK_LIB, not AC_HAVE_LIBRARY.

Fri Aug 26 00:34:11 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acconfig.h (HAVE_UNION_WAIT): Entry removed; it wasn't defined
	anywhere.

	* acgeneral.m4 (AC_OUTPUT_HEADER): rm files before mv onto them.
	(AC_OUTPUT): Remove explicit exit at end of configure, to allow
	code after AC_OUTPUT (needed for Emacs).

	* acgeneral.m4 (AC_CANONICAL_SYSTEM): Move setting of alias vars
	into submacros.

	* acspecific.m4 (AC_PROG_CPP): If $CPP is set and is a directory,
	ignore it.

Thu Aug 25 09:26:36 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acspecific.m4 (AC_SYS_INTERPRETER): Move hash mark out of macro
	 call.
	 (AC_FUNC_MMAP): If C++, put malloc decls in extern "C".

	* acgeneral.m4 (AC_INIT_PARSE_ARGS): Untabify help message
	and indent options.

	* Makefile.in (DISTFILES): Remove ChangeLog.0.

	* acgeneral.m4 (AC_CHECK_LIB): Do uppercasing of library name at
	 runtime.
	 (AC_HAVE_LIBRARY): Retain old behavior.

	* acspecific.m4 (AC_FUNC_VFORK): If C++, use a prototype for the
	 function in the test program.
	 (AC_C_ARG_ARRAY): Macro deleted.
	* acoldnames.m4, acconfig.h, testsuite/autoconf.s/specific.exp:
	 Remove references to it.

	* autoupdate.sh: Make sure $infile can be read, and $tmpout has
	 the same permissions.  Make sure $infile can be written.  From
	 Paul Eggert.

	* acgeneral.m4 (AC_INIT*): Remove now-incorrect AC_BEFORE calls.
	(AC_CHECK_FUNC): If C++, use extern "C".
	(AC_TRY_LINK, AC_TRY_RUN): If C++, declare exit.

	* acspecific.m4 (AC_PATH_XTRA): Check for more libraries.
	From Karl Berry.

	* acgeneral.m4 (AC_INIT_PREPARE): Substitute CPPFLAGS.
	(AC_LANG_C, AC_LANG_CPLUSPLUS): Include CPPFLAGS in the commands.

	* acgeneral.m4 (AC_OUTPUT_FILES): Move protection for right side
	 of sed substitution here from AC_MAKE_DEFS, so it applies to all
	 AC_SUBST'd variables.

	* Makefile.in (install): Use for loops.  From Jim Meyering.

	* acgeneral.m4: Revise diversions to rely on implicit flushing at
	 the end of the m4 run.  Idea from Franc,ois Pinard.
	 (AC_INIT_PREPARE, AC_ARG_ENABLE, AC_ARG_WITH, AC_PREFIX_PROGRAM):
	 Write to the appropriate diversions.
	 (AC_ENABLE, AC_WITH): Supply default help string.
	 (AC_ENABLE_INTERNAL, AC_WITH_INTERNAL, AC_PREFIX_INTERNAL):
	 Macros removed.
	 (AC_CONFIG_SUBDIRS): Set `subdirs' here instead of in
	 AC_INIT_PREPARE.
	 (AC_PREFIX): Macro removed.
	* acoldnames.m4 (AC_PREFIX): Make it an alias for AC_PREFIX_PROGRAM.

	* acoldnames.m4: We don't officially support calling
	 the subroutines of AC_INIT directly, or replacing them, so don't
	 document it.

Wed Aug 24 00:19:05 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 (AC_EGREP_CPP, AC_TRY_LINK, AC_TRY_RUN,
	 AC_TRY_CPP): Add #line directives.
	* autoconf.sh: Make the #line directives accurate.
	From Franc,ois Pinard.

	* acgeneral.m4 (AC_OUTPUT): Set ac_given_INSTALL from INSTALL.
	(AC_SUBST_FILE): Replace with what was AC_INSERT_FILE.
	(AC_SUBST_DEFAULT): New macro.
	(AC_INIT_BINSH): Renamed from AC_BINSH.
	(AC_INIT_PREPARE): Call AC_SUBST_DEFAULT for CFLAGS, CXXFLAGS, and
	LDFLAGS.

	* acspecific.m4 (AC_HEADER_MAJOR): Don't nest caching tests.

	* Makefile.in (clean): Remove the new index files.

	* configure.in: Check for gm4 before gnum4.

	* acspecific.m4 (AC_PROG_RSH): Macro removed.

	* Makefile.in (install): Install autoconf.m4.

	* acspecific.m4 (AC_SYS_INTERPRETER): New name and calling
	 convention for AC_HAVE_POUNDBANG.
	 (AC_OS_XENIX): Check ac_header_dir instead of DEFS.

	* testsuite/autoconf.s/specific.exp: Add AC_HEADER_DIRENT.
	Remove AC_SYS_REMOTE_TAPE.  Replace AC_HAVE_POUNDBANG with
	AC_SYS_INTERPRETER.

	* acspecific.m4 (AC_INT_16_BITS, AC_LONG_64_BITS): Reword messages.

	* acgeneral.m4 (AC_CHECK_LIB): Use our standard alternate m4 quote
	 characters << and >> instead of /.

	* acspecific.m4 (AC_C_CONST, AC_TYPE_GETGROUPS,
	 AC_PROG_GCC_TRADITIONAL): Don't put the test program in a
	 temporary variable.

	* acgeneral.m4 (AC_CHECK_HEADERS, AC_CHECK_FUNCS): Use
	 AC_DEFINE_UNQUOTED.
	* autoheader.sh (AC_DEFINE_UNQUOTED): Define.

Tue Aug 23 00:03:06 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4: Improve comments on some macros.
	Fix improperly quoted undefine calls.
	(AC_QUOTE_DQUOTE, AC_QUOTE_SQUOTE, AC_QUOTE_HERE, AC_QUOTE_SED,
	AC_QUOTE_TOKEN, AC_DEFINE_QUOTE, AC_DEFINE_SEDQUOTE,
	AC_QUOTE_IDENTITY): Macros removed.
	(AC_DEFINE, AC_DEFINE_UNQUOTED): Only write the (correct) value to
	confdefs.h.
	(AC_OUTPUT_MAKE_DEFS): New macro.
	(AC_OUTPUT): Call it.  Move AC_SUBST calls to AC_INIT_PREPARE.
	(AC_OUTPUT_FILES): Put most variable substitutions in a here document
	instead of a string, to avoid unwanted changes to the values.
	(AC_OUTPUT_HEADER): Generate the sed script to transform
	config.h.in from conftest.h.  Only split up the sed script in
	configure, not also in config.status.

	* acspecific.m4 (AC_PROG_ECHO_N): Work around some greps lacking -e.

	* acspecific.m4 (AC_PATH_X, AC_PATH_X_XMKMF, AC_PATH_X_DIRECT,
	 AC_PATH_XTRA): Fix cache use and message printing.

	* acgeneral.m4 (AC_SITE_LOAD): Check env var CONFIG_SITE first.
	(AC_OUTPUT_HEADER): New macro broken out of AC_OUTPUT.

	* acgeneral.m4, acspecific.m4 (AC_FD_MSG, AC_FD_CC): New
	 symbolic constants.

	* acgeneral.m4, acoldnames.m4 (AC_INIT_PARSE_ARGS): Renamed from
	 AC_INIT_PARSEARGS.

	* autoupdate.sh: Use $SIMPLE_BACKUP_SUFFIX, if set.

	* autoheader.sh (AC_CHECK_LIB): Reflect the added arg.

	* autoconf.m4: New file.
	* Makefile.in (DISTFILES): Add it.
	* autoconf.sh, autoheader.sh, Makefile.in: Use it.

	* acspecific.m4 (AC_SYS_REMOTE_TAPE): Macro removed.

	* acfunctions, acheaders, acidentifiers, acmakevars, acprograms,
	 autoscan.pl: Use new macro names.

	* acgeneral.m4 (AC_MSG_ERROR): Enclose within {} so it acts like a
	 single statement.  From mjshield@nyx.cs.du.edu (Michael Shields).
	 (AC_CHECK_FUNCS, AC_CHECK_HEADERS): Only compute the uppercase
	 name if we're going to define that symbol.
	 (global): Remove AC_DIVERSION_VAR.
	 (AC_OUTPUT): Adjust quoting and substitutions to replace most
	 variable values directly in the sed script.  Handle srcdir,
	 top_srcdir, and INSTALL specially.
	 Add .cpp and .hpp to c-ish suffixes list.

	* configure.in: Use the new macro names.

	* ChangeLog.0: New file, broken out of ChangeLog.1.
	* Makefile.in (DISTFILES): Add it.

	* autoupdate.sh: Update the regexps to account for changes to
	 acoldnames.m4.

Mon Aug 22 23:57:18 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* testsuite/autoconf.s/specific.exp: Use new macro names.

Fri Aug 12 10:15:51 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acspecific.m4 (AC_HEADER_DIRENT, AC_DIR_HEADER): Use one cache
	 variable for each header file, not one for all of them.

	* acgeneral.m4 (AC_CACHE_SAVE): Print a message noting when cache
	 is unwritable.
	 (AC_CHECK_FUNCS, AC_CHECK_HEADERS): Take an optional arg to
	 execute on a match.

	* acspecific (AC_OS_AIX, AC_OS_MINIX, AC_OS_ISC): Don't need to be
	 called before AC_TRY_CPP, since that doesn't use CFLAGS.

	* acgeneral.m4 (AC_CHECK_PROG, AC_PATH_PROG): Print a result
	 whether or not we found the program.
	 (AC_CHECKING): Not obsolete.
	 (AC_WITH, AC_ENABLE, AC_INIT_PREPARE): Merge the --enable and
	 --with diversions.

	* acgeneral.m4 (AC_DEFUN): New macro.
	Use it globally to define macros that are used as functions,
	as opposed to macros that are used as variables.  Remove calls to
	AC_PROVIDE.

Thu Aug 11 08:25:08 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acspecific.m4 (AC_OS_XENIX): Fix assignments.  From Franc,ois
	 Pinard.
	 (AC_SYS_REMOTE_TAPE): Fix typo.

Wed Aug 10 09:30:11 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acspecific.m4 (AC_C_CHAR_UNSIGNED): Don't lie about the result
	 if gcc, just ignore it.

	* acgeneral.m4 (AC_CHECK_LIB): Add a function argument.
	* acgeneral.m4 (AC_HAVE_LIBRARY): Make it a wrapper around
	 AC_CHECK_LIB.
	* acoldnames.m4: Remove its alias.
	* acspecific.m4: Add argument to callers.

	* acspecific.m4 (AC_PROG_ECHO_N): Move from acgeneral.m4 AC_MSG_ECHO_N.
	* acgeneral.m4: Callers changed.

	* acgeneral.m4 (AC_CACHE_LOAD, AC_CACHE_SAVE, AC_SITE_LOAD,
	 AC_MSG_CHECKING): Aesthetic changes to messages, suggested by
	 Franc,ois Pinard.

	* acspecific.m4 acgeneral.m4 acoldnames.m4: Rename
	AC_TRY_CROSS to AC_C_CROSS.

	* acgeneral.m4 (AC_INIT_PARSEARGS): Don't mention --verbose in
	 help message.
	(AC_INIT_PREPARE): Use file descriptor 5 for config.log, and 6 for
	nothing.  --verbose no longer does anything.
	(AC_MSG_ECHO_N): New macro.
	(AC_MSG_CHECKING, AC_MSG_RESULT, AC_CACHE_VAL): Require it and use
	the shell variables it sets.
	(AC_MSG_RESULT, AC_VERBOSE): Print unless --silent/--quiet is given,
	not only when --verbose is given.
	(AC_DEFINE): Don't echo anything.
	(AC_CACHE_VAL): Use a custom echo instead of AC_MSG_RESULT.
	* acgeneral.m4 (AC_CHECKING, AC_VERBOSE): Put back real versions,
	 marked obsolete.
	* acoldnames.m4: Delete their aliases.
	* acgeneral.m4, acspecific.m4 (many macros): Make sure each call
	 to AC_MSG_CHECKING has exactly one matching AC_MSG_RESULT, and
	 make the result messages make sense with the checking messages.

	* acgeneral.m4 (AC_OUTPUT_SUBDIRS): Use echo, not AC_MSG_RESULT,
	 to print recursion notice.

Tue Aug  9 00:17:28 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 (AC_OUTPUT): Add comment mentioning config.log.

	* ChangeLog.1: File split out of ChangeLog.
	* Makefile.in (DISTFILES): Add it.

	* acgeneral.m4 (AC_OUTPUT, AC_OUTPUT_HEADER), autoheader.sh:
	 Support optional input-file specification in output-file names.
	* autoheader.sh: Support top and bottom comments for config.h.in
	 in acconfig.h.

	* acgeneral.m4, README: Say more about requiring GNU m4.

	* autoheader.sh: In the list of symbols to get template entries
	 for, start each symbol with a blank.

	* autoupdate.sh: Add sed substitutions for replacing macro
	 calls without parameters.

	* acgeneral.m4 (AC_CACHE_VAL): Omit the cache var name from the
	 result message.

	* acspecific.m4 (AC_DIR_HEADER): Define to be similar to
	 AC_HEADER_DIRENT, but only define the old cpp macros.
	 (AC_HEADER_DIRENT): Only define the new ones.
	* acoldnames.m4: Don't say that those two macros are synonyms.
	* acconfig.h: Add the new cpp macros.  Add <> to some comments.

	* acgeneral.m4 (AC_OUTPUT): Don't mess with $INSTALL if it starts
	 with a $, due to user intervention.

	* Makefile.in, testsuite/Makefile.in: Fix *clean targets.

	* acgeneral.m4 (AC_CACHE_SAVE, AC_CACHE_LOAD, AC_SITE_LOAD):
	Use echo instead of AC_MSG_RESULT.
	(AC_INIT_PARSEARGS): Group options by topic in help message.  Idea
	from Franc,ois Pinard.

	* TODO: New file.

Mon Aug  8 23:04:01 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 (AC_OUTPUT): Tighten up srcdir handling code slightly.
	Add one or more ../ to $INSTALL when it's a relative path and
	creating a file in a subdirectory.

Tue Aug  2 19:54:26 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* autoheader.sh: Read acoldnames.m4.  Redefine the new macro names.
	Only define HAVE_LIBFOO where AC_CHECK_LIB is called with only one
	argument.

Sat Jul 30 09:53:38 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 acspecific.m4: The Great Renaming.
	 (Well, I think it's great.  You may have your own opinion.)

	* acspecific.m4 (AC_DIR_HEADER): Define HAVE_<path>_H as well as
	 the old DIRENT, SYSDIR, etc.

	* acgeneral.m4 acspecific.m4: Add missing spaces between arguments
	 to m4 calls.  From Franc,ois Pinard.

	* autoconf.sh: Read acoldnames.m4.
	* Makefile.in (DISTFILES, PROGS, install, clean): Add
	 acoldnames.m4 and autoupdate.sh.

Tue Jul 26 08:52:17 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* testsuite/Makefile.in (check): Print a message noting that
	 runtest is part of DejaGNU.

	* autoscan.pl: Remove unneeded backslash.

Sun Jul 24 23:30:27 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* Makefile.in (clean mostlyclean distclean realclean): Recurse
	 into testsuite directory.

Wed Jul 20 09:38:29 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* Makefile.in (install): Add missing else and fi.
	* acspecific.m4 (GETGROUPS_T, RETSIGTYPE, STACK_DIRECTION): Use
	AC_DEFINE_UNQUOTED rather than AC_DEFINE.
	From Jim Meyering.

Tue Jul 19 14:49:02 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acspecific.m4 (AC_MEMORY_H): Add more quotes.

	* acgeneral.m4 (AC_TEST_RUN): Check for cross_compiling = yes, not
	 whether it's non-empty.

	* acspecific.m4 (AC_MINUS_C_MINUS_O, AC_SET_MAKE): Eval the cache var
	 assignments.
	 (AC_YYTEXT_POINTER): Fix typo.

	* testsuite/autoconf.s/specific.exp,
	testsuite/autoconf.g/sizeof_type.exp,
	testsuite/autoconf.g/init.exp: New files.
	* testsuite/lib/common.exp, testsuite/config/unix.exp: Many
	 changes to make them work.

	* acgeneral.m4 (AC_DEFINE): Use redirection for echo, not $verbose.

Sat Jul  2 22:07:18 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acspecific.m4 (AC_REMOTE_TAPE): Substitute PROGS.

Thu Jun 30 16:29:15 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 (AC_SUBST_FILE): New version from Ken Raeburn.

	* ifnames: Add --help, --version, --macrodir options.

Fri Jun 24 06:03:35 1994  Paul Eggert  (eggert@twinsun.com)

	* acspecific.m4 (AC_VFORK): Improve test for the gcc-sparc vfork bug.

Thu Jun 30 09:47:17 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* acgeneral.m4 (AC_OUTPUT_SUBDIRS): Pass correct --srcdir option
	to sub configures.  Quote args containing spaces.
	(AC_PREPARE): Set and substitute `subdirs'.  Quote args containing
	spaces.
	(AC_CANONICAL_HOST, AC_CANONICAL_TARGET, AC_CANONICAL_BUILD):
	Substitute the cpu, vendor, os variables.

	* acspecific.m4 (AC_PROG_INSTALL): Look for ginstall before other
	names.

	* acgeneral.m4 (AC_TEST_LINK): Add newlines around argument code.
	From mjshield@nyx.cs.du.edu (Michael Shields).

Wed Jun 29 16:56:28 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* autoscan.pl: Add --macrodir option.

	* acgeneral.m4 (AC_CACHE_SAVE): Capture stderr for Ultrix sh.

Tue Jun 28 18:05:00 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* Makefile.in: Make INSTALL from install.texi.

Thu Jun 23 02:03:19 1994  David J. MacKenzie  (djm@vortex.eng.umd.edu)

	* ifnames.sh: New file.
	* Makefile.in: Add it in various places.

Tue Jun 14 12:58:38 1994  David J. MacKenzie  (djm@bleen.eng.umd.edu)

	* Makefile.in (DISTFILES): Add testsuite files.

	* autoconf.sh: Print version number on stdout, not stderr.
	* acgeneral.m4: Ditto.

	* acgeneral.m4 (AC_HAVE_LIBRARY): Add OTHER-LIBRARIES arg.
	Treat empty commands args as if they weren't given.

Thu Jun  9 11:39:14 1994  David J. MacKenzie  (djm@bleen.eng.umd.edu)

	* acgeneral.m4 (AC_CHECK_TYPE): New macro.

	* acspecific.m4 (AC_PROG_CPP, AC_PROG_CXXCPP, AC_YYTEXT_POINTER,
	AC_LN_S, AC_RSH, AC_STDC_HEADERS, AC_MAJOR_HEADER, AC_DIR_HEADER,
	AC_STAT_MACROS_BROKEN, AC_SYS_SIGLIST_DECLARED, AC_GETGROUPS_T,
	AC_UID_T, AC_RETSIGTYPE, AC_MMAP, AC_VFORK, AC_WAIT3, AC_ALLOCA,
	AC_GETLOADAVG, AC_UTIME_NULL, AC_STRCOLL, AC_SETVBUF_REVERSED,
	AC_STRUCT_TM, AC_TIME_WITH_SYS_TIME, AC_TIMEZONE, AC_ST_BLOCKS,
	AC_ST_BLKSIZE, AC_ST_RDEV, AC_CROSS_CHECK, AC_CHAR_UNSIGNED,
	AC_LONG_DOUBLE, AC_WORDS_BIGENDIAN, AC_ARG_ARRAY, AC_INLINE,
	AC_CONST, AC_HAVE_POUNDBANG, AC_REMOTE_TAPE, AC_LONG_FILE_NAMES,
	AC_RESTARTABLE_SYSCALLS, AC_FIND_X, AC_FIND_X_XMKMF,
	AC_FIND_X_DIRECT): Cache results.
	(AC_SIZE_T, AC_PID_T, AC_OFF_T, AC_MODE_T): Use AC_CHECK_TYPE.
	(AC_DIR_HEADER_CHECK): Macro removed.

Wed Jun  8 18:03:45 1994  David J. MacKenzie  (djm@bleen.eng.umd.edu)

	* acspecific.m4 (AC_MINUS_C_MINUS_O): Cache results.

Thu May 26 09:43:37 1994  David J. Mackenzie  (djm@poseidon.cygnus.com)

	* acspecific.m4 (AC_PROG_CC, AC_PROG_CXX): Cache results.
	Eliminate temp file in gcc test.
	(AC_GCC_TRADITIONAL): Cache results.

Wed May 25 14:45:44 1994  David J. Mackenzie  (djm@poseidon.cygnus.com)

	* acspecific.m4 (AC_VPRINTF): Use AC_FUNC_CHECK.

	* acgeneral.m4 (AC_CONFIG_AUX_DIR): Renamed from AC_CONFIG_AUXDIR.
	(AC_SUBST_FILE): Macro deleted; didn't work, not clear it's needed.

	* acgeneral.m4 (AC_SITE_LOAD): New macro.
	(AC_PREPARE): Call it.

Wed May 25 08:18:07 1994  David J. Mackenzie  (djm@rtl.cygnus.com)

	* acgeneral.m4: m4exit if --version, to reduce needless delay.

	* acgeneral.m4 (AC_PREPARE): Redirect file descriptor 6 to
	config.log.
	(AC_LANG_C, AC_LANG_CPLUSPLUS): Send compiler messages to desc 6.
	* acspecific.m4 (AC_MINUS_C_MINUS_O): Likewise.
	* Makefile.in (distclean): Remove config.log.

	* acgeneral.m4 (AC_PREPARE): Add AC_BEFORE calls for AC_CONFIG_HEADER,
	AC_REVISION, AC_PREREQ, and AC_CONFIG_SUBDIRS.
	Add AC_PROVIDE calls to those macros and AC_ARG_ENABLE and AC_ARG_WITH.

	* acgeneral.m4 (AC_CANONICAL_SYSTEM, AC_CANONICAL_HOST,
	AC_CANONICAL_TARGET, AC_CANONICAL_BUILD): Add "ICAL" to names.
	(AC_LINK_FILES): Renamed from AC_MAKE_LINKS.
	(AC_TEST_RUN): Renamed from AC_TEST_PROGRAM, which is now an alias.
	* acspecific.m4: Change callers to use new name.

	* acgeneral.m4 (AC_PREFIX_INTERNAL): Renamed from AC_PREFIX.
	(AC_PREFIX): Obsolete wrapper for it.
	(AC_PREFIX_PROGRAM): Define a variable.
	(AC_PREPARE): Call AC_PREFIX_INTERNAL if that variable is set.

Tue May 24 18:49:35 1994  David J. Mackenzie  (djm@rtl.cygnus.com)

	* acspecific.m4 (AC_ALLOCA): Don't declare alloca if it's already
	defined.  From Bill Sommerfeld.

	* acgeneral.m4 (AC_TEST_PROGRAM): Verbosely note when using the
	cross-compiling default.
	(AC_CACHE_WRITE): Set the cache values only if not already set.
	(AC_PARSEARGS, AC_OUTPUT): Allow giving an empty prefix or exec_prefix.

	* acgeneral.m4, acspecific.m4: Rename AC_CONFIG_AUX* to
	AC_CONFIG_AUXDIR*.

	* acgeneral.m4 (AC_OUTPUT, AC_OUTPUT_HEADER): Add an env var
	CONFIG_STATUS to allow overriding the name of config.status.

	* acspecific.m4 (AC_MINUS_C_MINUS_O): If $CC=cc, don't duplicate
	the check.  From Jim Meyering.

	* acgeneral.m4 (AC_TEST_PROGRAM): Add missing newline.
	Always include 'fi' for cross-compiling if.
	From Jim Meyering.

	* Makefile.in (prefix, exec_prefix): Use @ substitutions.

	* acgeneral.m4: Make default cache file ./config.cache,
	so PATH is not used by "." command.  From Jim Meyering.

Thu May 19 06:05:07 1994  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* acspecific.m4 (AC_STRUCT_TM): Fixed checking message to be less
	confusing.

Wed May 18 22:11:45 1994  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_BINSH): New macro.
	(AC_INIT, AC_REVISION): Require AC_BINSH first thing.

Wed May 18 09:08:39 1994  David J. MacKenzie  (djm@burnout.eng.umd.edu)

	* acgeneral.m4: Rename some internal macros.
	Give the diversions symbolic names.
	(AC_ARG_ENABLE, AC_ARG_WITH, AC_ENABLE_INTERNAL, AC_WITH_INTERNAL):
	New macros.
	(AC_PARSEARGS): Print --with and --enable help strings.
	(AC_ENABLE, AC_WITH): Make wrappers around _INTERNAL functions.
	Mark obsolete.
	(AC_PREPARE): Execute any saved up --with or --enable code.

Tue May 17 15:18:00 1994  David J. MacKenzie  (djm@bleen.eng.umd.edu)

	* acgeneral.m4 (AC_REVISION): Move quotes around to make it work
	again.

Sat May 14 07:30:57 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acgeneral.m4, acspecific.m4: Clean up some comments.

Tue May 10 09:50:12 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acspecific.m4 (AC_PROG_INSTALL): set the _path_ cache variable,
	not the _program_ one.
	* acgeneral.m4 (AC_PREFIX): Call AC_PROGRAM_PATH instead of
	duplicating it.
	(AC_PROGRAM_CHECK, AC_PROGRAM_PATH): If the user set the variable
	in the environment, cache that value.
	(AC_PREPARE, AC_CHECKING, AC_VERBOSE): Use file descriptors 4 and
	5 for checking and results messages.  Idea from metaconfig 3.0.

Mon May  9 08:20:14 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acgeneral.m4 (AC_TEST_PROGRAM): If no default for
	cross-compiling is given, but we are cross-compiling, give an error.
	(AC_PROGRAM_EGREP, AC_TEST_LINK, AC_TEST_PROGRAM, AC_TEST_CPP):
	Don't add an extra blank line after the if-clause.
	(AC_REVISION): Merge AC_DOREV into this macro.
	Rename some macros:
	AC_SYSTEM_TYPE	->	AC_CANON_SYSTEM
	AC_HOST_TYPE	->	AC_CANON_HOST
	AC_TARGET_TYPE	->	AC_CANON_TARGET
	AC_BUILD_TYPE	->	AC_CANON_BUILD
	(AC_OUTPUT): Don't do Cygnus-style magic
	substitutions on prefix and exec_prefix, just initialize and
	substitute them normally.

Sun May  8 01:09:42 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* acspecific.m4 (AC_AIX, AC_MINIX, AC_ISC_POSIX): Don't call
	AC_BEFORE for AC_HEADER_EGREP, to avoid require loops.
	* acgeneral.m4 (AC_HEADER_EGREP): Call AC_PROGRAM_EGREP instead of
	duplicating most of it.

Fri May  6 15:26:48 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acspecific.m4 (AC_YYTEXT_POINTER): Use AC_TEST_LINK, not
	AC_TEST_PROGRAM.

Fri May  6 00:45:29 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acspecific.m4, acgeneral.m4: Add dnl after AC_PROVIDE,
	AC_REQUIRE, and AC_BEFORE calls.
	Use AC_CHECKING and AC_TEST_LINK instead of AC_COMPILE_CHECK.

	* acgeneral.m4 (AC_TEST_LINK): New macro.
	(AC_COMPILE_CHECK): Mark obsolete.  Call AC_CHECKING and
	AC_TEST_LINK.
	(AC_PROGRAM_CHECK, AC_PROGRAM_PATH, AC_HAVE_LIBRARY, AC_HEADER_CHECK,
	AC_FUNC_CHECK, AC_SIZEOF_TYPE): Print "checking" messages even if
	using cached values.  Use AC_TEST_LINK instead of AC_COMPILE_CHECK.
	* acspecific.m4 (AC_PROG_INSTALL): Ditto.

	* acgeneral.m4 (AC_PROGRAM_CHECK, AC_PROGRAM_PATH): Fix nesting in
	cache use.

	* acspecific.m4 (AC_PROG_INSTALL): Ditto.

	* acgeneral.m4 (AC_OUTPUT_CONFIG_SUBDIRS): Adjust relative cache
	file paths before passing them to sub-configures.  Omit existing
	--cache-file arguments.

Thu May  5 21:38:51 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acgeneral.m4 (AC_FUNC_CHECK, AC_HEADER_CHECK): Combine redundant
	code.  Use AC_CACHE_VAL.
	(AC_SIZEOF_TYPE): Use AC_CACHE_VAL.

Thu May  5 12:51:32 1994  David J. MacKenzie  (djm@gamera.eng.umd.edu)

	* Makefile.in (all): Don't depend on info files.
	(install): Don't install INSTALL.
	(installcheck, install-info): New targets.

Thu May  5 08:49:39 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* Makefile.in (dist): chmod the dist directory, not the current
	directory.  Don't depend on DISTFILES.

	* autoconf.sh: Go back to old way of doing NLS nuisance test.
	* autoheader.sh: Ditto.
	* acgeneral.m4: Ditto.

Thu May  5 08:36:19 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acgeneral.m4: Use "yes" and "no" or "" uniformly for boolean
	variables' values.  Don't assume default values.
	(AC_PROGRAM_CHECK, AC_PROGRAM_PATH): Always set the cache variable
	and use different ones.

	* acspecific.m4: Use "yes" and "no" or "" uniformly for boolean
	variables' values.  Don't assume default values.
	(AC_STDC_HEADERS, AC_ALLOCA): Untangle nested tests.

Thu May  5 07:51:38 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* Makefile.in (distclean): Remove config.cache.

Wed May  4 19:41:35 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_HAVE_LIBRARY): Use AC_CACHE_VAL.

	* Makefile.in (install): Depend on all again.
	(install-info): Depend on info again.

Wed May  4 15:05:11 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acspecific.m4 (AC_PROG_INSTALL): Use AC_CACHE_VAL.
	* acgeneral.m4 (AC_PROGRAM_CHECK, AC_PROGRAM_PATH): Use AC_CACHE_VAL.
	(AC_REPLACE_FUNCS): Use AC_FUNC_CHECK.
	Rearrange general tests into 4 categories:
	Checking for files - fundamental (caching)
	Checking for files - derived (caching)
	Checking for C features - fundamental (no caching)
	Checking for C features - derived (caching)

	* acgeneral.m4 (AC_CACHE_LOAD, AC_CACHE_SAVE, AC_CACHE_VAL):
	New macros.
	(AC_PREPARE): Call AC_CACHE_LOAD.
	(AC_OUTPUT): Call AC_CACHE_SAVE.
	(AC_PARSEARGS): Add --cache-file=FILE option.
	(AC_CONFIG_SUBDIRS): Pass --cache-file to subdirectory configures.

	* acgeneral.m4 (AC_OUTPUT_CONFIG_SUBDIRS): Renamed from
	AC_CONFIG_SUBDIRS.
	(AC_CONFIG_SUBDIRS): Just define AC_SUBDIR_LIST.
	(AC_OUTPUT): Call AC_OUTPUT_CONFIG_SUBDIRS if AC_SUBDIR_LIST is
	defined.
	Make config.status --recheck pass --norecursion to configure.

	* acspecific.m4 (AC_SETVBUF_REVERSED): Print "checking" message.

Wed May  4 10:40:56 1994  David J. MacKenzie  (djm@burnout.eng.umd.edu)

	* autoreconf.sh: Add options [--help] [--macrodir=dir] [--verbose]
	[--version].

	* acspecific.m4 (AC_GCC_TRADITIONAL, AC_SET_MAKE, AC_RSH,
	AC_GETLOADAVG, AC_CROSS_CHECK): Print results verbosely.
	(AC_GETLOADAVG): Name space cleanup.

Wed May  4 09:32:04 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* autoheader.sh, autoconf.sh, acgeneral.m4: Make the NLS
	nuisance test actually do something.

Mon May  2 16:31:33 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* configure.in: Check for standards.texi.
	* Makefile.in: Put everything back into one directory.
	Don't assume standards.* exist.

Sat Apr 30 09:37:06 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* acgeneral.m4 (AC_OUTPUT): Change >> to > in sed command.

Fri Apr 29 21:56:33 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)

	* Makefile.in (all): Make autoreconf too.

Fri Apr 29 21:03:48 1994  David J. MacKenzie  (djm@aria.eng.umd.edu)

	* acgeneral.m4 (AC_OUTPUT): When doing substitutions on files, if
	the file starts with "#!", put the "automatically generated"
	comment on the second line instead of the first.

Fri Apr 29 12:53:53 1994  David J. MacKenzie  (djm@burnout.eng.umd.edu)

	* acgeneral.m4 (AC_CONFIG_AUX, AC_CONFIG_AUX_DEFAULT,
	AC_CONFIG_AUX_DIRS, AC_SYSTEM_TYPE, AC_HOST_TYPE, AC_TARGET_TYPE,
	AC_BUILD_TYPE, AC_SUBST_FILE, AC_MAKE_LINKS, AC_OUTPUT_MAKE_LINKS,
	AC_CONFIG_SUBDIRS): New macros.

	* acspecific.m4 (AC_PROG_INSTALL): Use install.sh from ac_aux_dir.

	* Makefile.in: Remove references to standards.*.
	Add autoreconf.

Thu Apr 28 12:01:01 1994  David J. MacKenzie  (djm@burnout.eng.umd.edu)

	* Makefile.in (dist): Add .., ../etc, and ../texinfo files.

	* acspecific.m4 (AC_LN_S): Add verbose messages.

	* Makefile.in, configure.in: Add autoscan and its data files.
	Check for perl.
